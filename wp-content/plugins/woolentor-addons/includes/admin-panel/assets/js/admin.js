import{y as m,z as E,A as l,P as c,O as W,a4 as te,r as G,k as Qe,M as I,C as V,aw as ze,ax as rt,G as w,H as f,I as De,K as S,ay as Ka,c as se,az as Nn,ag as M,L as P,D as Ae,J as ct,a6 as Ja,V as ge,Q as It,X as wo,u as ro,w as Co,aA as Xa,aB as Qa,W as Za,aC as ei,ak as jo,E as So,x as ti,af as qo,at as ni}from"./vendor.js";import{E as xn,a as Rn,b as vs,c as Yt,v as Kt,l as oi,u as si,d as ai,e as Do,f as le,g as ii,h as li,i as we,j as re,k as ri,m as ci,n as di,o as ws,p as ui,q as K,r as oe,s as Jt,t as dt,w as _t,x as Ze,y as et,z as tt,A as yt,B as Cs,C as Ss,D as Xt,F as Ao,G as Ot,H as Nt,I as Lo,J as Ds,K as pi,L as $o,M as Io,N as fi,O as mi,P as As,Q as Oo,R as No,S as Ls,T as at,U as hi,V as Is,W as xo,X as Os,Y as Ro,Z as Ns,_ as xs,$ as Rs,a0 as ko,a1 as ks,a2 as gi,a3 as _i,a4 as Qt,a5 as Ps,a6 as Ms,a7 as yi,a8 as Ti,a9 as bi,aa as Ei,ab as Gs,ac as kn,ad as vi,ae as wi,af as Fs,ag as Vs,ah as Ci,ai as Si,aj as Di,ak as Ai,al as Li,am as Ii,an as Oi,ao as Ni,ap as xi,aq as Us,ar as Ri}from"./element-plus.js";const F=(t,e)=>{const o=t.__vccOpts||t;for(const[n,s]of e)o[n]=s;return o},ki={name:"WooLentorSidebarSkeleton"},Pi={class:"woolentor-sidebar-skeleton"},Mi={class:"woolentor-logo-skeleton"},Gi={class:"woolentor-content-skeleton"},Fi={class:"woolentor-features-skeleton"},Vi={class:"woolentor-button-skeleton"};function Ui(t,e,o,n,s,a){const i=xn;return m(),E("div",Pi,[l("div",Mi,[c(i,{variant:"circle",style:{width:"80px",height:"80px"}})]),l("div",Gi,[c(i,{variant:"text",style:{width:"90%",height:"20px",margin:"0 auto"}}),c(i,{variant:"text",style:{width:"80%",height:"20px",margin:"8px auto"}}),c(i,{variant:"text",style:{width:"85%",height:"20px",margin:"8px auto"}})]),l("div",Fi,[(m(),E(W,null,te(4,r=>l("div",{class:"feature-item",key:r},[c(i,{variant:"circle",style:{width:"20px",height:"20px"}}),c(i,{variant:"text",style:{"margin-left":"12px",width:"80%"}})])),64))]),l("div",Vi,[c(i,{variant:"button",style:{width:"160px",height:"40px",margin:"20px auto"}})])])}const Bs=F(ki,[["render",Ui],["__scopeId","data-v-cae3c1a7"]]);function Hs(t,e){return function(){return t.apply(e,arguments)}}const{toString:Bi}=Object.prototype,{getPrototypeOf:Po}=Object,Pn=(t=>e=>{const o=Bi.call(e);return t[o]||(t[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),je=t=>(t=t.toLowerCase(),e=>Pn(e)===t),Mn=t=>e=>typeof e===t,{isArray:xt}=Array,Wt=Mn("undefined");function Hi(t){return t!==null&&!Wt(t)&&t.constructor!==null&&!Wt(t.constructor)&&Fe(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const zs=je("ArrayBuffer");function zi(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&zs(t.buffer),e}const ji=Mn("string"),Fe=Mn("function"),js=Mn("number"),Gn=t=>t!==null&&typeof t=="object",qi=t=>t===!0||t===!1,hn=t=>{if(Pn(t)!=="object")return!1;const e=Po(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},$i=je("Date"),Wi=je("File"),Yi=je("Blob"),Ki=je("FileList"),Ji=t=>Gn(t)&&Fe(t.pipe),Xi=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Fe(t.append)&&((e=Pn(t))==="formdata"||e==="object"&&Fe(t.toString)&&t.toString()==="[object FormData]"))},Qi=je("URLSearchParams"),[Zi,el,tl,nl]=["ReadableStream","Request","Response","Headers"].map(je),ol=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zt(t,e,{allOwnKeys:o=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),xt(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const a=o?Object.getOwnPropertyNames(t):Object.keys(t),i=a.length;let r;for(n=0;n<i;n++)r=a[n],e.call(null,t[r],r,t)}}function qs(t,e){e=e.toLowerCase();const o=Object.keys(t);let n=o.length,s;for(;n-- >0;)if(s=o[n],e===s.toLowerCase())return s;return null}const mt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$s=t=>!Wt(t)&&t!==mt;function co(){const{caseless:t}=$s(this)&&this||{},e={},o=(n,s)=>{const a=t&&qs(e,s)||s;hn(e[a])&&hn(n)?e[a]=co(e[a],n):hn(n)?e[a]=co({},n):xt(n)?e[a]=n.slice():e[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Zt(arguments[n],o);return e}const sl=(t,e,o,{allOwnKeys:n}={})=>(Zt(e,(s,a)=>{o&&Fe(s)?t[a]=Hs(s,o):t[a]=s},{allOwnKeys:n}),t),al=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),il=(t,e,o,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),o&&Object.assign(t.prototype,o)},ll=(t,e,o,n)=>{let s,a,i;const r={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)i=s[a],(!n||n(i,t,e))&&!r[i]&&(e[i]=t[i],r[i]=!0);t=o!==!1&&Po(t)}while(t&&(!o||o(t,e))&&t!==Object.prototype);return e},rl=(t,e,o)=>{t=String(t),(o===void 0||o>t.length)&&(o=t.length),o-=e.length;const n=t.indexOf(e,o);return n!==-1&&n===o},cl=t=>{if(!t)return null;if(xt(t))return t;let e=t.length;if(!js(e))return null;const o=new Array(e);for(;e-- >0;)o[e]=t[e];return o},dl=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Po(Uint8Array)),ul=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=n.next())&&!s.done;){const a=s.value;e.call(t,a[0],a[1])}},pl=(t,e)=>{let o;const n=[];for(;(o=t.exec(e))!==null;)n.push(o);return n},fl=je("HTMLFormElement"),ml=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,n,s){return n.toUpperCase()+s}),Wo=(({hasOwnProperty:t})=>(e,o)=>t.call(e,o))(Object.prototype),hl=je("RegExp"),Ws=(t,e)=>{const o=Object.getOwnPropertyDescriptors(t),n={};Zt(o,(s,a)=>{let i;(i=e(s,a,t))!==!1&&(n[a]=i||s)}),Object.defineProperties(t,n)},gl=t=>{Ws(t,(e,o)=>{if(Fe(t)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const n=t[o];if(Fe(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},_l=(t,e)=>{const o={},n=s=>{s.forEach(a=>{o[a]=!0})};return xt(t)?n(t):n(String(t).split(e)),o},yl=()=>{},Tl=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,qn="abcdefghijklmnopqrstuvwxyz",Yo="0123456789",Ys={DIGIT:Yo,ALPHA:qn,ALPHA_DIGIT:qn+qn.toUpperCase()+Yo},bl=(t=16,e=Ys.ALPHA_DIGIT)=>{let o="";const{length:n}=e;for(;t--;)o+=e[Math.random()*n|0];return o};function El(t){return!!(t&&Fe(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const vl=t=>{const e=new Array(10),o=(n,s)=>{if(Gn(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const a=xt(n)?[]:{};return Zt(n,(i,r)=>{const p=o(i,s+1);!Wt(p)&&(a[r]=p)}),e[s]=void 0,a}}return n};return o(t,0)},wl=je("AsyncFunction"),Cl=t=>t&&(Gn(t)||Fe(t))&&Fe(t.then)&&Fe(t.catch),Ks=((t,e)=>t?setImmediate:e?((o,n)=>(mt.addEventListener("message",({source:s,data:a})=>{s===mt&&a===o&&n.length&&n.shift()()},!1),s=>{n.push(s),mt.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",Fe(mt.postMessage)),Sl=typeof queueMicrotask<"u"?queueMicrotask.bind(mt):typeof process<"u"&&process.nextTick||Ks,v={isArray:xt,isArrayBuffer:zs,isBuffer:Hi,isFormData:Xi,isArrayBufferView:zi,isString:ji,isNumber:js,isBoolean:qi,isObject:Gn,isPlainObject:hn,isReadableStream:Zi,isRequest:el,isResponse:tl,isHeaders:nl,isUndefined:Wt,isDate:$i,isFile:Wi,isBlob:Yi,isRegExp:hl,isFunction:Fe,isStream:Ji,isURLSearchParams:Qi,isTypedArray:dl,isFileList:Ki,forEach:Zt,merge:co,extend:sl,trim:ol,stripBOM:al,inherits:il,toFlatObject:ll,kindOf:Pn,kindOfTest:je,endsWith:rl,toArray:cl,forEachEntry:ul,matchAll:pl,isHTMLForm:fl,hasOwnProperty:Wo,hasOwnProp:Wo,reduceDescriptors:Ws,freezeMethods:gl,toObjectSet:_l,toCamelCase:ml,noop:yl,toFiniteNumber:Tl,findKey:qs,global:mt,isContextDefined:$s,ALPHABET:Ys,generateString:bl,isSpecCompliantForm:El,toJSONObject:vl,isAsyncFn:wl,isThenable:Cl,setImmediate:Ks,asap:Sl};function q(t,e,o,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),o&&(this.config=o),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}v.inherits(q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:v.toJSONObject(this.config),code:this.code,status:this.status}}});const Js=q.prototype,Xs={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Xs[t]={value:t}});Object.defineProperties(q,Xs);Object.defineProperty(Js,"isAxiosError",{value:!0});q.from=(t,e,o,n,s,a)=>{const i=Object.create(Js);return v.toFlatObject(t,i,function(p){return p!==Error.prototype},r=>r!=="isAxiosError"),q.call(i,t.message,e,o,n,s),i.cause=t,i.name=t.name,a&&Object.assign(i,a),i};const Dl=null;function uo(t){return v.isPlainObject(t)||v.isArray(t)}function Qs(t){return v.endsWith(t,"[]")?t.slice(0,-2):t}function Ko(t,e,o){return t?t.concat(e).map(function(s,a){return s=Qs(s),!o&&a?"["+s+"]":s}).join(o?".":""):e}function Al(t){return v.isArray(t)&&!t.some(uo)}const Ll=v.toFlatObject(v,{},null,function(e){return/^is[A-Z]/.test(e)});function Fn(t,e,o){if(!v.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,o=v.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,b){return!v.isUndefined(b[T])});const n=o.metaTokens,s=o.visitor||u,a=o.dots,i=o.indexes,p=(o.Blob||typeof Blob<"u"&&Blob)&&v.isSpecCompliantForm(e);if(!v.isFunction(s))throw new TypeError("visitor must be a function");function d(_){if(_===null)return"";if(v.isDate(_))return _.toISOString();if(!p&&v.isBlob(_))throw new q("Blob is not supported. Use a Buffer instead.");return v.isArrayBuffer(_)||v.isTypedArray(_)?p&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function u(_,T,b){let C=_;if(_&&!b&&typeof _=="object"){if(v.endsWith(T,"{}"))T=n?T:T.slice(0,-2),_=JSON.stringify(_);else if(v.isArray(_)&&Al(_)||(v.isFileList(_)||v.endsWith(T,"[]"))&&(C=v.toArray(_)))return T=Qs(T),C.forEach(function(D,k){!(v.isUndefined(D)||D===null)&&e.append(i===!0?Ko([T],k,a):i===null?T:T+"[]",d(D))}),!1}return uo(_)?!0:(e.append(Ko(b,T,a),d(_)),!1)}const h=[],g=Object.assign(Ll,{defaultVisitor:u,convertValue:d,isVisitable:uo});function y(_,T){if(!v.isUndefined(_)){if(h.indexOf(_)!==-1)throw Error("Circular reference detected in "+T.join("."));h.push(_),v.forEach(_,function(C,L){(!(v.isUndefined(C)||C===null)&&s.call(e,C,v.isString(L)?L.trim():L,T,g))===!0&&y(C,T?T.concat(L):[L])}),h.pop()}}if(!v.isObject(t))throw new TypeError("data must be an object");return y(t),e}function Jo(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Mo(t,e){this._pairs=[],t&&Fn(t,this,e)}const Zs=Mo.prototype;Zs.append=function(e,o){this._pairs.push([e,o])};Zs.toString=function(e){const o=e?function(n){return e.call(this,n,Jo)}:Jo;return this._pairs.map(function(s){return o(s[0])+"="+o(s[1])},"").join("&")};function Il(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ea(t,e,o){if(!e)return t;const n=o&&o.encode||Il;v.isFunction(o)&&(o={serialize:o});const s=o&&o.serialize;let a;if(s?a=s(e,o):a=v.isURLSearchParams(e)?e.toString():new Mo(e,o).toString(n),a){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class Xo{constructor(){this.handlers=[]}use(e,o,n){return this.handlers.push({fulfilled:e,rejected:o,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){v.forEach(this.handlers,function(n){n!==null&&e(n)})}}const ta={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ol=typeof URLSearchParams<"u"?URLSearchParams:Mo,Nl=typeof FormData<"u"?FormData:null,xl=typeof Blob<"u"?Blob:null,Rl={isBrowser:!0,classes:{URLSearchParams:Ol,FormData:Nl,Blob:xl},protocols:["http","https","file","blob","url","data"]},Go=typeof window<"u"&&typeof document<"u",po=typeof navigator=="object"&&navigator||void 0,kl=Go&&(!po||["ReactNative","NativeScript","NS"].indexOf(po.product)<0),Pl=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ml=Go&&window.location.href||"http://localhost",Gl=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Go,hasStandardBrowserEnv:kl,hasStandardBrowserWebWorkerEnv:Pl,navigator:po,origin:Ml},Symbol.toStringTag,{value:"Module"})),ve={...Gl,...Rl};function Fl(t,e){return Fn(t,new ve.classes.URLSearchParams,Object.assign({visitor:function(o,n,s,a){return ve.isNode&&v.isBuffer(o)?(this.append(n,o.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function Vl(t){return v.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ul(t){const e={},o=Object.keys(t);let n;const s=o.length;let a;for(n=0;n<s;n++)a=o[n],e[a]=t[a];return e}function na(t){function e(o,n,s,a){let i=o[a++];if(i==="__proto__")return!0;const r=Number.isFinite(+i),p=a>=o.length;return i=!i&&v.isArray(s)?s.length:i,p?(v.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!r):((!s[i]||!v.isObject(s[i]))&&(s[i]=[]),e(o,n,s[i],a)&&v.isArray(s[i])&&(s[i]=Ul(s[i])),!r)}if(v.isFormData(t)&&v.isFunction(t.entries)){const o={};return v.forEachEntry(t,(n,s)=>{e(Vl(n),s,o,0)}),o}return null}function Bl(t,e,o){if(v.isString(t))try{return(e||JSON.parse)(t),v.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(t)}const en={transitional:ta,adapter:["xhr","http","fetch"],transformRequest:[function(e,o){const n=o.getContentType()||"",s=n.indexOf("application/json")>-1,a=v.isObject(e);if(a&&v.isHTMLForm(e)&&(e=new FormData(e)),v.isFormData(e))return s?JSON.stringify(na(e)):e;if(v.isArrayBuffer(e)||v.isBuffer(e)||v.isStream(e)||v.isFile(e)||v.isBlob(e)||v.isReadableStream(e))return e;if(v.isArrayBufferView(e))return e.buffer;if(v.isURLSearchParams(e))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Fl(e,this.formSerializer).toString();if((r=v.isFileList(e))||n.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Fn(r?{"files[]":e}:e,p&&new p,this.formSerializer)}}return a||s?(o.setContentType("application/json",!1),Bl(e)):e}],transformResponse:[function(e){const o=this.transitional||en.transitional,n=o&&o.forcedJSONParsing,s=this.responseType==="json";if(v.isResponse(e)||v.isReadableStream(e))return e;if(e&&v.isString(e)&&(n&&!this.responseType||s)){const i=!(o&&o.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(r){if(i)throw r.name==="SyntaxError"?q.from(r,q.ERR_BAD_RESPONSE,this,null,this.response):r}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ve.classes.FormData,Blob:ve.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};v.forEach(["delete","get","head","post","put","patch"],t=>{en.headers[t]={}});const Hl=v.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zl=t=>{const e={};let o,n,s;return t&&t.split(`
`).forEach(function(i){s=i.indexOf(":"),o=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!o||e[o]&&Hl[o])&&(o==="set-cookie"?e[o]?e[o].push(n):e[o]=[n]:e[o]=e[o]?e[o]+", "+n:n)}),e},Qo=Symbol("internals");function Gt(t){return t&&String(t).trim().toLowerCase()}function gn(t){return t===!1||t==null?t:v.isArray(t)?t.map(gn):String(t)}function jl(t){const e=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=o.exec(t);)e[n[1]]=n[2];return e}const ql=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function $n(t,e,o,n,s){if(v.isFunction(n))return n.call(this,e,o);if(s&&(e=o),!!v.isString(e)){if(v.isString(n))return e.indexOf(n)!==-1;if(v.isRegExp(n))return n.test(e)}}function $l(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,o,n)=>o.toUpperCase()+n)}function Wl(t,e){const o=v.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+o,{value:function(s,a,i){return this[n].call(this,e,s,a,i)},configurable:!0})})}class xe{constructor(e){e&&this.set(e)}set(e,o,n){const s=this;function a(r,p,d){const u=Gt(p);if(!u)throw new Error("header name must be a non-empty string");const h=v.findKey(s,u);(!h||s[h]===void 0||d===!0||d===void 0&&s[h]!==!1)&&(s[h||p]=gn(r))}const i=(r,p)=>v.forEach(r,(d,u)=>a(d,u,p));if(v.isPlainObject(e)||e instanceof this.constructor)i(e,o);else if(v.isString(e)&&(e=e.trim())&&!ql(e))i(zl(e),o);else if(v.isHeaders(e))for(const[r,p]of e.entries())a(p,r,n);else e!=null&&a(o,e,n);return this}get(e,o){if(e=Gt(e),e){const n=v.findKey(this,e);if(n){const s=this[n];if(!o)return s;if(o===!0)return jl(s);if(v.isFunction(o))return o.call(this,s,n);if(v.isRegExp(o))return o.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,o){if(e=Gt(e),e){const n=v.findKey(this,e);return!!(n&&this[n]!==void 0&&(!o||$n(this,this[n],n,o)))}return!1}delete(e,o){const n=this;let s=!1;function a(i){if(i=Gt(i),i){const r=v.findKey(n,i);r&&(!o||$n(n,n[r],r,o))&&(delete n[r],s=!0)}}return v.isArray(e)?e.forEach(a):a(e),s}clear(e){const o=Object.keys(this);let n=o.length,s=!1;for(;n--;){const a=o[n];(!e||$n(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const o=this,n={};return v.forEach(this,(s,a)=>{const i=v.findKey(n,a);if(i){o[i]=gn(s),delete o[a];return}const r=e?$l(a):String(a).trim();r!==a&&delete o[a],o[r]=gn(s),n[r]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const o=Object.create(null);return v.forEach(this,(n,s)=>{n!=null&&n!==!1&&(o[s]=e&&v.isArray(n)?n.join(", "):n)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,o])=>e+": "+o).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...o){const n=new this(e);return o.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[Qo]=this[Qo]={accessors:{}}).accessors,s=this.prototype;function a(i){const r=Gt(i);n[r]||(Wl(s,i),n[r]=!0)}return v.isArray(e)?e.forEach(a):a(e),this}}xe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);v.reduceDescriptors(xe.prototype,({value:t},e)=>{let o=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[o]=n}}});v.freezeMethods(xe);function Wn(t,e){const o=this||en,n=e||o,s=xe.from(n.headers);let a=n.data;return v.forEach(t,function(r){a=r.call(o,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function oa(t){return!!(t&&t.__CANCEL__)}function Rt(t,e,o){q.call(this,t??"canceled",q.ERR_CANCELED,e,o),this.name="CanceledError"}v.inherits(Rt,q,{__CANCEL__:!0});function sa(t,e,o){const n=o.config.validateStatus;!o.status||!n||n(o.status)?t(o):e(new q("Request failed with status code "+o.status,[q.ERR_BAD_REQUEST,q.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function Yl(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Kl(t,e){t=t||10;const o=new Array(t),n=new Array(t);let s=0,a=0,i;return e=e!==void 0?e:1e3,function(p){const d=Date.now(),u=n[a];i||(i=d),o[s]=p,n[s]=d;let h=a,g=0;for(;h!==s;)g+=o[h++],h=h%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),d-i<e)return;const y=u&&d-u;return y?Math.round(g*1e3/y):void 0}}function Jl(t,e){let o=0,n=1e3/e,s,a;const i=(d,u=Date.now())=>{o=u,s=null,a&&(clearTimeout(a),a=null),t.apply(null,d)};return[(...d)=>{const u=Date.now(),h=u-o;h>=n?i(d,u):(s=d,a||(a=setTimeout(()=>{a=null,i(s)},n-h)))},()=>s&&i(s)]}const wn=(t,e,o=3)=>{let n=0;const s=Kl(50,250);return Jl(a=>{const i=a.loaded,r=a.lengthComputable?a.total:void 0,p=i-n,d=s(p),u=i<=r;n=i;const h={loaded:i,total:r,progress:r?i/r:void 0,bytes:p,rate:d||void 0,estimated:d&&r&&u?(r-i)/d:void 0,event:a,lengthComputable:r!=null,[e?"download":"upload"]:!0};t(h)},o)},Zo=(t,e)=>{const o=t!=null;return[n=>e[0]({lengthComputable:o,total:t,loaded:n}),e[1]]},es=t=>(...e)=>v.asap(()=>t(...e)),Xl=ve.hasStandardBrowserEnv?((t,e)=>o=>(o=new URL(o,ve.origin),t.protocol===o.protocol&&t.host===o.host&&(e||t.port===o.port)))(new URL(ve.origin),ve.navigator&&/(msie|trident)/i.test(ve.navigator.userAgent)):()=>!0,Ql=ve.hasStandardBrowserEnv?{write(t,e,o,n,s,a){const i=[t+"="+encodeURIComponent(e)];v.isNumber(o)&&i.push("expires="+new Date(o).toGMTString()),v.isString(n)&&i.push("path="+n),v.isString(s)&&i.push("domain="+s),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Zl(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function er(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function aa(t,e){return t&&!Zl(e)?er(t,e):e}const ts=t=>t instanceof xe?{...t}:t;function gt(t,e){e=e||{};const o={};function n(d,u,h,g){return v.isPlainObject(d)&&v.isPlainObject(u)?v.merge.call({caseless:g},d,u):v.isPlainObject(u)?v.merge({},u):v.isArray(u)?u.slice():u}function s(d,u,h,g){if(v.isUndefined(u)){if(!v.isUndefined(d))return n(void 0,d,h,g)}else return n(d,u,h,g)}function a(d,u){if(!v.isUndefined(u))return n(void 0,u)}function i(d,u){if(v.isUndefined(u)){if(!v.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function r(d,u,h){if(h in e)return n(d,u);if(h in t)return n(void 0,d)}const p={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:r,headers:(d,u,h)=>s(ts(d),ts(u),h,!0)};return v.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=p[u]||s,g=h(t[u],e[u],u);v.isUndefined(g)&&h!==r||(o[u]=g)}),o}const ia=t=>{const e=gt({},t);let{data:o,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:i,auth:r}=e;e.headers=i=xe.from(i),e.url=ea(aa(e.baseURL,e.url),t.params,t.paramsSerializer),r&&i.set("Authorization","Basic "+btoa((r.username||"")+":"+(r.password?unescape(encodeURIComponent(r.password)):"")));let p;if(v.isFormData(o)){if(ve.hasStandardBrowserEnv||ve.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((p=i.getContentType())!==!1){const[d,...u]=p?p.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([d||"multipart/form-data",...u].join("; "))}}if(ve.hasStandardBrowserEnv&&(n&&v.isFunction(n)&&(n=n(e)),n||n!==!1&&Xl(e.url))){const d=s&&a&&Ql.read(a);d&&i.set(s,d)}return e},tr=typeof XMLHttpRequest<"u",nr=tr&&function(t){return new Promise(function(o,n){const s=ia(t);let a=s.data;const i=xe.from(s.headers).normalize();let{responseType:r,onUploadProgress:p,onDownloadProgress:d}=s,u,h,g,y,_;function T(){y&&y(),_&&_(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function C(){if(!b)return;const D=xe.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),N={data:!r||r==="text"||r==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:D,config:t,request:b};sa(function(O){o(O),T()},function(O){n(O),T()},N),b=null}"onloadend"in b?b.onloadend=C:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(C)},b.onabort=function(){b&&(n(new q("Request aborted",q.ECONNABORTED,t,b)),b=null)},b.onerror=function(){n(new q("Network Error",q.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||ta;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),n(new q(k,N.clarifyTimeoutError?q.ETIMEDOUT:q.ECONNABORTED,t,b)),b=null},a===void 0&&i.setContentType(null),"setRequestHeader"in b&&v.forEach(i.toJSON(),function(k,N){b.setRequestHeader(N,k)}),v.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),r&&r!=="json"&&(b.responseType=s.responseType),d&&([g,_]=wn(d,!0),b.addEventListener("progress",g)),p&&b.upload&&([h,y]=wn(p),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(u=D=>{b&&(n(!D||D.type?new Rt(null,t,b):D),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const L=Yl(s.url);if(L&&ve.protocols.indexOf(L)===-1){n(new q("Unsupported protocol "+L+":",q.ERR_BAD_REQUEST,t));return}b.send(a||null)})},or=(t,e)=>{const{length:o}=t=t?t.filter(Boolean):[];if(e||o){let n=new AbortController,s;const a=function(d){if(!s){s=!0,r();const u=d instanceof Error?d:this.reason;n.abort(u instanceof q?u:new Rt(u instanceof Error?u.message:u))}};let i=e&&setTimeout(()=>{i=null,a(new q(`timeout ${e} of ms exceeded`,q.ETIMEDOUT))},e);const r=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),t=null)};t.forEach(d=>d.addEventListener("abort",a));const{signal:p}=n;return p.unsubscribe=()=>v.asap(r),p}},sr=function*(t,e){let o=t.byteLength;if(o<e){yield t;return}let n=0,s;for(;n<o;)s=n+e,yield t.slice(n,s),n=s},ar=async function*(t,e){for await(const o of ir(t))yield*sr(o,e)},ir=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:o,value:n}=await e.read();if(o)break;yield n}}finally{await e.cancel()}},ns=(t,e,o,n)=>{const s=ar(t,e);let a=0,i,r=p=>{i||(i=!0,n&&n(p))};return new ReadableStream({async pull(p){try{const{done:d,value:u}=await s.next();if(d){r(),p.close();return}let h=u.byteLength;if(o){let g=a+=h;o(g)}p.enqueue(new Uint8Array(u))}catch(d){throw r(d),d}},cancel(p){return r(p),s.return()}},{highWaterMark:2})},Vn=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",la=Vn&&typeof ReadableStream=="function",lr=Vn&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),ra=(t,...e)=>{try{return!!t(...e)}catch{return!1}},rr=la&&ra(()=>{let t=!1;const e=new Request(ve.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),os=64*1024,fo=la&&ra(()=>v.isReadableStream(new Response("").body)),Cn={stream:fo&&(t=>t.body)};Vn&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Cn[e]&&(Cn[e]=v.isFunction(t[e])?o=>o[e]():(o,n)=>{throw new q(`Response type '${e}' is not supported`,q.ERR_NOT_SUPPORT,n)})})})(new Response);const cr=async t=>{if(t==null)return 0;if(v.isBlob(t))return t.size;if(v.isSpecCompliantForm(t))return(await new Request(ve.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(v.isArrayBufferView(t)||v.isArrayBuffer(t))return t.byteLength;if(v.isURLSearchParams(t)&&(t=t+""),v.isString(t))return(await lr(t)).byteLength},dr=async(t,e)=>{const o=v.toFiniteNumber(t.getContentLength());return o??cr(e)},ur=Vn&&(async t=>{let{url:e,method:o,data:n,signal:s,cancelToken:a,timeout:i,onDownloadProgress:r,onUploadProgress:p,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:g}=ia(t);d=d?(d+"").toLowerCase():"text";let y=or([s,a&&a.toAbortSignal()],i),_;const T=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let b;try{if(p&&rr&&o!=="get"&&o!=="head"&&(b=await dr(u,n))!==0){let N=new Request(e,{method:"POST",body:n,duplex:"half"}),x;if(v.isFormData(n)&&(x=N.headers.get("content-type"))&&u.setContentType(x),N.body){const[O,ue]=Zo(b,wn(es(p)));n=ns(N.body,os,O,ue)}}v.isString(h)||(h=h?"include":"omit");const C="credentials"in Request.prototype;_=new Request(e,{...g,signal:y,method:o.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:C?h:void 0});let L=await fetch(_);const D=fo&&(d==="stream"||d==="response");if(fo&&(r||D&&T)){const N={};["status","statusText","headers"].forEach(X=>{N[X]=L[X]});const x=v.toFiniteNumber(L.headers.get("content-length")),[O,ue]=r&&Zo(x,wn(es(r),!0))||[];L=new Response(ns(L.body,os,O,()=>{ue&&ue(),T&&T()}),N)}d=d||"text";let k=await Cn[v.findKey(Cn,d)||"text"](L,t);return!D&&T&&T(),await new Promise((N,x)=>{sa(N,x,{data:k,headers:xe.from(L.headers),status:L.status,statusText:L.statusText,config:t,request:_})})}catch(C){throw T&&T(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new q("Network Error",q.ERR_NETWORK,t,_),{cause:C.cause||C}):q.from(C,C&&C.code,t,_)}}),mo={http:Dl,xhr:nr,fetch:ur};v.forEach(mo,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ss=t=>`- ${t}`,pr=t=>v.isFunction(t)||t===null||t===!1,ca={getAdapter:t=>{t=v.isArray(t)?t:[t];const{length:e}=t;let o,n;const s={};for(let a=0;a<e;a++){o=t[a];let i;if(n=o,!pr(o)&&(n=mo[(i=String(o)).toLowerCase()],n===void 0))throw new q(`Unknown adapter '${i}'`);if(n)break;s[i||"#"+a]=n}if(!n){const a=Object.entries(s).map(([r,p])=>`adapter ${r} `+(p===!1?"is not supported by the environment":"is not available in the build"));let i=e?a.length>1?`since :
`+a.map(ss).join(`
`):" "+ss(a[0]):"as no adapter specified";throw new q("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:mo};function Yn(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Rt(null,t)}function as(t){return Yn(t),t.headers=xe.from(t.headers),t.data=Wn.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ca.getAdapter(t.adapter||en.adapter)(t).then(function(n){return Yn(t),n.data=Wn.call(t,t.transformResponse,n),n.headers=xe.from(n.headers),n},function(n){return oa(n)||(Yn(t),n&&n.response&&(n.response.data=Wn.call(t,t.transformResponse,n.response),n.response.headers=xe.from(n.response.headers))),Promise.reject(n)})}const da="1.7.9",Un={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Un[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const is={};Un.transitional=function(e,o,n){function s(a,i){return"[Axios v"+da+"] Transitional option '"+a+"'"+i+(n?". "+n:"")}return(a,i,r)=>{if(e===!1)throw new q(s(i," has been removed"+(o?" in "+o:"")),q.ERR_DEPRECATED);return o&&!is[i]&&(is[i]=!0,console.warn(s(i," has been deprecated since v"+o+" and will be removed in the near future"))),e?e(a,i,r):!0}};Un.spelling=function(e){return(o,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function fr(t,e,o){if(typeof t!="object")throw new q("options must be an object",q.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const a=n[s],i=e[a];if(i){const r=t[a],p=r===void 0||i(r,a,t);if(p!==!0)throw new q("option "+a+" must be "+p,q.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new q("Unknown option "+a,q.ERR_BAD_OPTION)}}const _n={assertOptions:fr,validators:Un},qe=_n.validators;class ht{constructor(e){this.defaults=e,this.interceptors={request:new Xo,response:new Xo}}async request(e,o){try{return await this._request(e,o)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,o){typeof e=="string"?(o=o||{},o.url=e):o=e||{},o=gt(this.defaults,o);const{transitional:n,paramsSerializer:s,headers:a}=o;n!==void 0&&_n.assertOptions(n,{silentJSONParsing:qe.transitional(qe.boolean),forcedJSONParsing:qe.transitional(qe.boolean),clarifyTimeoutError:qe.transitional(qe.boolean)},!1),s!=null&&(v.isFunction(s)?o.paramsSerializer={serialize:s}:_n.assertOptions(s,{encode:qe.function,serialize:qe.function},!0)),_n.assertOptions(o,{baseUrl:qe.spelling("baseURL"),withXsrfToken:qe.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let i=a&&v.merge(a.common,a[o.method]);a&&v.forEach(["delete","get","head","post","put","patch","common"],_=>{delete a[_]}),o.headers=xe.concat(i,a);const r=[];let p=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(o)===!1||(p=p&&T.synchronous,r.unshift(T.fulfilled,T.rejected))});const d=[];this.interceptors.response.forEach(function(T){d.push(T.fulfilled,T.rejected)});let u,h=0,g;if(!p){const _=[as.bind(this),void 0];for(_.unshift.apply(_,r),_.push.apply(_,d),g=_.length,u=Promise.resolve(o);h<g;)u=u.then(_[h++],_[h++]);return u}g=r.length;let y=o;for(h=0;h<g;){const _=r[h++],T=r[h++];try{y=_(y)}catch(b){T.call(this,b);break}}try{u=as.call(this,y)}catch(_){return Promise.reject(_)}for(h=0,g=d.length;h<g;)u=u.then(d[h++],d[h++]);return u}getUri(e){e=gt(this.defaults,e);const o=aa(e.baseURL,e.url);return ea(o,e.params,e.paramsSerializer)}}v.forEach(["delete","get","head","options"],function(e){ht.prototype[e]=function(o,n){return this.request(gt(n||{},{method:e,url:o,data:(n||{}).data}))}});v.forEach(["post","put","patch"],function(e){function o(n){return function(a,i,r){return this.request(gt(r||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}ht.prototype[e]=o(),ht.prototype[e+"Form"]=o(!0)});class Fo{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(a){o=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const i=new Promise(r=>{n.subscribe(r),a=r}).then(s);return i.cancel=function(){n.unsubscribe(a)},i},e(function(a,i,r){n.reason||(n.reason=new Rt(a,i,r),o(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const o=this._listeners.indexOf(e);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const e=new AbortController,o=n=>{e.abort(n)};return this.subscribe(o),e.signal.unsubscribe=()=>this.unsubscribe(o),e.signal}static source(){let e;return{token:new Fo(function(s){e=s}),cancel:e}}}function mr(t){return function(o){return t.apply(null,o)}}function hr(t){return v.isObject(t)&&t.isAxiosError===!0}const ho={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ho).forEach(([t,e])=>{ho[e]=t});function ua(t){const e=new ht(t),o=Hs(ht.prototype.request,e);return v.extend(o,ht.prototype,e,{allOwnKeys:!0}),v.extend(o,e,null,{allOwnKeys:!0}),o.create=function(s){return ua(gt(t,s))},o}const pe=ua(en);pe.Axios=ht;pe.CanceledError=Rt;pe.CancelToken=Fo;pe.isCancel=oa;pe.VERSION=da;pe.toFormData=Fn;pe.AxiosError=q;pe.Cancel=pe.CanceledError;pe.all=function(e){return Promise.all(e)};pe.spread=mr;pe.isAxiosError=hr;pe.mergeConfig=gt;pe.AxiosHeaders=xe;pe.formToJSON=t=>na(v.isHTMLForm(t)?new FormData(t):t);pe.getAdapter=ca.getAdapter;pe.HttpStatusCode=ho;pe.default=pe;const Z=pe.create({baseURL:woolentorOptions.rootApiUrl,headers:{"content-type":"application/json","X-WP-Nonce":woolentorOptions.restNonce}}),Kn=pe.create({baseURL:woolentorOptions.adminUrl,headers:{"content-type":"application/json","X-WP-Nonce":woolentorOptions.restNonce}}),gr={name:"WooLentorSidebar",components:{sidebarSkeleton:Bs},setup(){const t=G(!0),e=G(null),o=G(""),n=async()=>{try{t.value=!0,e.value=null;const s=await Z.get("/woolentoropt/v1/sidebar-content",{params:{nonce:woolentorOptions.verifynonce}});s?.data?.content&&(o.value=s.data.content)}catch(s){e.value="Failed to load sidebar content. Please try again.",console.error("Sidebar fetch error:",s)}finally{t.value=!1}};return Qe(()=>{n()}),{loading:t,error:e,sidebarContent:o,fetchSidebarContent:n}}},_r={key:0,class:"woolentor-sidebar-loading"},yr={key:1,class:"woolentor-sidebar-error"},Tr=["innerHTML"];function br(t,e,o,n,s,a){const i=Bs;return m(),E("div",{class:V(`woolentor-sidebar-wrapper ${n.loading?"is-loading":""}`)},[n.loading?(m(),E("div",_r,[c(i)])):n.error?(m(),E("div",yr,[l("p",null,I(n.error),1),l("button",{onClick:e[0]||(e[0]=(...r)=>n.fetchSidebarContent&&n.fetchSidebarContent(...r)),class:"retry-btn"}," Retry ")])):(m(),E("div",{key:2,class:"woolentor-sidebar-content",innerHTML:n.sidebarContent},null,8,Tr))],2)}const Er=F(gr,[["render",br],["__scopeId","data-v-5d0b5fae"]]),vr={name:"save-button",computed:{...ze(["GET_SAVE_BUTTON"]),saveButton:{get(){return this.GET_SAVE_BUTTON}}},methods:{buttonClass(){return[`button button-primary button-primary woolentor-opt-submit ${this.saveButton.class!==""?this.saveButton.class:""}`,this.GET_SAVE_BUTTON.disabled==!0?"disabled":""]}}},wr=["disabled"];function Cr(t,e,o,n,s,a){return m(),E("button",{type:"submit",class:V(a.buttonClass()),disabled:a.saveButton.disabled},I(a.saveButton.text),11,wr)}const pa=F(vr,[["render",Cr],["__scopeId","data-v-f4ee3bf8"]]),Sr={name:"NotificationDrawer",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],data(){return{isInitialLoad:!0}},computed:{...ze(["GET_CHANGELOG","GET_CHANGELOG_LOADING","GET_CHANGELOG_READ"]),visible:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}},changelogData(){return this.GET_CHANGELOG},isLoading(){return this.GET_CHANGELOG_LOADING},isRead(){return this.GET_CHANGELOG_READ}},watch:{visible:{immediate:!0,async handler(t){t&&this.isInitialLoad&&(await this.FETCH_CHANGELOG(),this.isInitialLoad=!1)}}},methods:{...rt(["FETCH_CHANGELOG","MARK_CHANGELOG_READ"]),async handleClose(){this.visible=!1,!this.isRead&&await this.MARK_CHANGELOG_READ()}}},Dr={class:"changelog-content"},Ar={class:"version-header"},Lr={class:"release-date"},Ir={class:"changelog-details"};function Or(t,e,o,n,s,a){const i=vs,r=Yt,p=Rn,d=Kt;return m(),w(p,{modelValue:a.visible,"onUpdate:modelValue":e[0]||(e[0]=u=>a.visible=u),title:"Changelog",direction:"rtl",size:"500px","before-close":a.handleClose,class:"woolentor-notification-drawer"},{header:f(()=>e[1]||(e[1]=[l("h3",{class:"drawer-title"},"What's New in ShopLentor",-1)])),default:f(()=>[c(r,{height:"calc(100vh - 150px)"},{default:f(()=>[De((m(),E("div",Dr,[a.changelogData?(m(!0),E(W,{key:0},te(a.changelogData,(u,h)=>(m(),E("div",{key:h,class:"changelog-item"},[l("div",Ar,[l("h4",null,"Version "+I(u.version),1),l("span",Lr,I(u.date),1)]),l("div",Ir,[u.changes?(m(!0),E(W,{key:0},te(u.changes,(g,y)=>(m(),E("div",{key:y,class:"change-type"},[l("h5",null,I(y)+":",1),l("ul",null,[(m(!0),E(W,null,te(g,(_,T)=>(m(),E("li",{key:T},I(_),1))),128))])]))),128)):S("",!0)])]))),128)):(m(),w(i,{key:1,description:"No changelog available"}))])),[[d,a.isLoading]])]),_:1})]),_:1},8,["modelValue","before-close"])}const fa=F(Sr,[["render",Or],["__scopeId","data-v-8cdb0940"]]),Nr={SAVE_SETTINGS:({commit:t},e)=>new Promise((o,n)=>{t("SETLOADER"),e[2]?t("SAVING_MODULE_BUTTON_CONTROL",{text:woolentorOptions.labels.saveButton.saving,class:"updating-message",disabled:!0}):t("SAVING_BUTTON_CONTROL",{text:woolentorOptions.labels.saveButton.saving,class:"updating-message",disabled:!0}),Z.post("/woolentoropt/v1/settings",{settings:e[0],section:e[1],subsection:e[2]?e[2]:""}).then(s=>{e[2]?t("SAVING_MODULE_BUTTON_CONTROL",{text:woolentorOptions.labels.saveButton.saved,class:"",disabled:!0}):t("SAVING_BUTTON_CONTROL",{text:woolentorOptions.labels.saveButton.saved,class:"",disabled:!0}),t("REMOVELOADER"),o(s)}).catch(s=>{console.log(s),n(s)})}),SAVE_DEPENDENCY_SETTINGS:async({commit:t},e)=>new Promise((o,n)=>{t("SETLOADER"),t("SAVING_MODULE_BUTTON_CONTROL",{text:woolentorOptions.labels.saveButton.saving,class:"updating-message",disabled:!0}),Z.post("/woolentoropt/v1/settings/dependelement",{settings:e[0],section:e[1]}).then(s=>{t("SAVING_MODULE_BUTTON_CONTROL",{text:woolentorOptions.labels.saveButton.saved,class:"",disabled:!0}),t("REMOVELOADER"),o(s)}).catch(s=>{console.log(s),n(s)})}),SAVE_GROUP_SETTINGS:async({commit:t},e)=>new Promise((o,n)=>{t("SET_GROUP_SETTING_LOADER",{groupId:e[1],isLoading:!0}),Z.post("/woolentoropt/v1/settings/group",{settings:e[0],group:e[1],parentId:e[2]}).then(s=>{t("SET_GROUP_SETTING_LOADER",{groupId:e[1],isLoading:!1}),o(s)}).catch(s=>{n(s)})}),FETCH_SETTINGS:({commit:t},e)=>new Promise((o,n)=>{t("SETLOADER"),Z.get("/woolentoropt/v1/settings",{params:{section:e[1],nonce:woolentorOptions.verifynonce}}).then(s=>{t("REMOVELOADER"),t("SET_SETTINGS",s.data),o(s)}).catch(s=>{console.log(s),n(s)})}),FETCH_SETTINGS_DATA:async({commit:t},e)=>new Promise((o,n)=>{t("SETLOADER"),Z.get("/woolentoropt/v1/settings",{params:{section:e[1],nonce:woolentorOptions.verifynonce}}).then(s=>{t("SET_SETTINGS",s.data),t("REMOVELOADER"),o(s.data)}).catch(s=>{t("REMOVELOADER"),t("SET_ERROR",s.message||"Failed to fetch settings"),n(s)})}),RESET_SETTINGS:({commit:t},e)=>new Promise((o,n)=>{e[2]?t("RESETING_MODULE_BUTTON_CONTROL",{text:woolentorOptions.labels.resetButton.reseting,class:"updating-message",disabled:!0}):t("RESETING_BUTTON_CONTROL",{text:woolentorOptions.labels.resetButton.reseting,class:"updating-message",disabled:!0}),Z.post("/woolentoropt/v1/settings",{settings:e[0],section:e[1],reset:!0}).then(s=>{e[2]?t("RESETING_MODULE_BUTTON_CONTROL",{text:woolentorOptions.labels.resetButton.reseted,class:"",disabled:!0}):t("RESETING_BUTTON_CONTROL",{text:woolentorOptions.labels.resetButton.reseted,class:"",disabled:!0}),o(s)}).catch(s=>{console.log(s),n(s)})}),FETCH_LICENSE_INFO:({commit:t},e)=>(t("SET_LICENSE_LOADING",!0),new Promise((o,n)=>{Kn.get("/admin-post.php",{params:{action:"WooLentorPro_el_"+e[0],_wpnonce:woolentorOptions.licenseNonce}}).then(s=>{t("SET_LICENSE_INFO",s.data),o(s.data),t("SET_LICENSE_LOADING",!1)}).catch(s=>{console.error("Error fetching license info:",s),n(s),t("SET_LICENSE_LOADING",!1)})})),ACTIVATE_LICENSE:({commit:t},e)=>{t("SET_LICENSE_ACTIVATING",!0);const o=new FormData;return o.append("action","WooLentorPro_el_"+e[0]),o.append("_wpnonce",woolentorOptions.licenseNonce),o.append("el_license_key",e[1]),o.append("el_license_email",e[2]),new Promise((n,s)=>{Kn.post("/admin-post.php",o,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{t("SET_LICENSE_INFO",a.data),n(a.data),t("SET_LICENSE_ACTIVATING",!1)}).catch(a=>{t("SET_LICENSE_ACTIVATING",!1),s(a)})})},DEACTIVATE_LICENSE:({commit:t},e)=>{t("SET_LICENSE_DEACTIVATING",!0);const o=new FormData;return o.append("action","WooLentorPro_el_"+e[0]),o.append("_wpnonce",woolentorOptions.licenseNonce),new Promise((n,s)=>{Kn.post("/admin-post.php",o,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{t("SET_LICENSE_DEACTIVATING",!1),t("SET_LICENSE_INFO",{}),n(a.data)}).catch(a=>{t("SET_LICENSE_DEACTIVATING",!1),s(a)})})},FETCH_CHANGELOG:({commit:t})=>(t("SET_CHANGELOG_LOADING",!0),new Promise((e,o)=>{Z.get("/woolentoropt/v1/changelog").then(n=>{if(n?.data?.success)t("SET_CHANGELOG",n.data.data),e(n.data.data);else throw new Error("Invalid response format")}).catch(n=>{console.error("Error fetching changelog:",n),o(n)}).finally(()=>{t("SET_CHANGELOG_LOADING",!1)})})),MARK_CHANGELOG_READ:({commit:t})=>new Promise((e,o)=>{Z.post("/woolentoropt/v1/changelog/mark-read").then(n=>{if(n?.data?.success)t("SET_CHANGELOG_READ",!0),e(n.data);else throw new Error("Invalid response format")}).catch(n=>{console.error("Error marking changelog as read:",n),o(n)})}),CHECK_NOTIFICATION_STATUS:({commit:t})=>new Promise((e,o)=>{Z.get("/woolentoropt/v1/changelog/status").then(n=>{if(n?.data?.success)t("SET_NOTIFICATION_STATUS",n.data.data),e(n.data.data);else throw new Error("Invalid response format")}).catch(n=>{console.error("Error checking notification status:",n),o(n)})}),FETCH_ABANDONED_CART_DATA:({dispatch:t},e)=>t("abandonedCart/FETCH_ABANDONED_CARTS",e,{root:!0}),CALL_API:({commit:t},{method:e,url:o,data:n,params:s})=>new Promise((a,i)=>{Z({method:e.toLowerCase(),url:o,data:n,params:s}).then(p=>{a(p)}).catch(p=>{console.error("API Error:",p),i(p)})}),REMOVE_LOADER:({commit:t},e)=>{t("REMOVELOADER")},SAVE_BUTTON_CONTROL:({commit:t},e)=>{t("SAVING_BUTTON_CONTROL",e)},SAVE_MODULE_BUTTON_CONTROL:({commit:t},e)=>{t("SAVING_MODULE_BUTTON_CONTROL",e)},RESET_BUTTON_CONTROL:({commit:t},e)=>{t("RESETING_BUTTON_CONTROL",e)},RESET_MODULE_BUTTON_CONTROL:({commit:t},e)=>{t("RESETING_MODULE_BUTTON_CONTROL",e)},SET_MODULE_SETTING_LOADER:({commit:t},{moduleId:e,isLoading:o})=>{t("SET_MODULE_SETTING_LOADER",{moduleId:e,isLoading:o})}},xr={GET_SETTINGS:t=>t.settings,GET_SAVE_BUTTON:t=>t.saveButton,GET_MODULE_SAVE_BUTTON:t=>t.saveModuleButton,GET_RESET_BUTTON:t=>t.resetButton,GET_RESET_MODULE_BUTTON:t=>t.resetModuleButton,GET_LOADER:t=>t.loaderClass,GET_MODULE_SETTING_LOADER:t=>e=>t.moduleSettingLoader[e]||!1,GET_GROUP_SETTING_LOADER:t=>e=>t.groupSettingLoader[e]||!1,GET_LICENSE_INFO:t=>t.licenseInfo||{},GET_LICENSE_LOADING:t=>t.licenseLoading,GET_LICENSE_ACTIVATING:t=>t.licenseActivating,GET_LICENSE_DEACTIVATING:t=>t.licenseDeactivating,GET_CHANGELOG:t=>t.changelog||[],GET_CHANGELOG_LOADING:t=>t.changelogLoading,GET_NOTIFICATION_STATUS:t=>t.notificationStatus,HAS_UNREAD_NOTIFICATIONS:t=>t.notificationStatus?.has_unread||!1,GET_CHANGELOG_READ:t=>t.changelogRead},Rr={namespaced:!0,state:{carts:[],cartsTotal:0,cartsPages:1,cartsLoading:!1,cartsSearching:!1,selectedCarts:[],filters:{status:"all",dateFrom:null,dateTo:null,search:""},pagination:{currentPage:1,perPage:20},emailTemplates:[],emailTemplatesLoading:!1,templateCreating:!1,templateUpdating:!1,analytics:{totalAbandoned:0,totalRecovered:0,recoveredRevenue:0,recoveryRate:0},analyticsLoading:!1,settings:{},settingsLoading:!1,settingsSaving:!1,cartDetails:null,cartDetailsLoading:!1,bulkActionLoading:!1,error:null,lastAction:null},getters:{GET_CARTS:t=>t.carts,GET_CARTS_TOTAL:t=>t.cartsTotal,GET_CARTS_PAGES:t=>t.cartsPages,GET_CARTS_LOADING:t=>t.cartsLoading,GET_CARTS_SEARCHING:t=>t.cartsSearching,GET_SELECTED_CARTS:t=>t.selectedCarts,GET_FILTERS:t=>t.filters,GET_PAGINATION:t=>t.pagination,GET_EMAIL_TEMPLATES:t=>t.emailTemplates,GET_EMAIL_TEMPLATES_LOADING:t=>t.emailTemplatesLoading,GET_TEMPLATE_CREATING:t=>t.templateCreating,GET_TEMPLATE_UPDATING:t=>t.templateUpdating,GET_ANALYTICS:t=>t.analytics,GET_ANALYTICS_LOADING:t=>t.analyticsLoading,GET_SETTINGS:t=>t.settings,GET_SETTINGS_LOADING:t=>t.settingsLoading,GET_SETTINGS_SAVING:t=>t.settingsSaving,GET_CART_DETAILS:t=>t.cartDetails,GET_CART_DETAILS_LOADING:t=>t.cartDetailsLoading,GET_BULK_ACTION_LOADING:t=>t.bulkActionLoading,GET_ERROR:t=>t.error,GET_LAST_ACTION:t=>t.lastAction,GET_FILTERED_CARTS:t=>{let e=t.carts;if(t.filters.status&&t.filters.status!=="all"&&(e=e.filter(o=>o.status===t.filters.status)),t.filters.dateFrom){const o=new Date(t.filters.dateFrom);e=e.filter(n=>new Date(n.created_at)>=o)}if(t.filters.dateTo){const o=new Date(t.filters.dateTo);o.setHours(23,59,59,999),e=e.filter(n=>new Date(n.created_at)<=o)}return e},GET_CART_STATS:t=>{const e=t.carts.filter(s=>s.status==="abandoned").length,o=t.carts.filter(s=>s.status==="recovered").length,n=t.carts.length;return{abandoned:e,recovered:o,total:n,recoveryRate:n>0?(o/n*100).toFixed(2):0}}},mutations:{SET_CARTS:(t,e)=>{t.carts=e.carts||[],t.cartsTotal=e.total||0,t.cartsPages=e.pages||1},SET_CARTS_LOADING:(t,e)=>{t.cartsLoading=e},SET_CARTS_SEARCHING:(t,e)=>{t.cartsSearching=e},SET_SELECTED_CARTS:(t,e)=>{t.selectedCarts=e},ADD_SELECTED_CART:(t,e)=>{t.selectedCarts.includes(e)||t.selectedCarts.push(e)},REMOVE_SELECTED_CART:(t,e)=>{t.selectedCarts=t.selectedCarts.filter(o=>o!==e)},CLEAR_SELECTED_CARTS:t=>{t.selectedCarts=[]},SET_FILTERS:(t,e)=>{t.filters={...t.filters,...e}},RESET_FILTERS:t=>{t.filters={status:"all",dateFrom:null,dateTo:null,search:""}},SET_PAGINATION:(t,e)=>{t.pagination={...t.pagination,...e}},SET_EMAIL_TEMPLATES:(t,e)=>{t.emailTemplates=e},SET_EMAIL_TEMPLATES_LOADING:(t,e)=>{t.emailTemplatesLoading=e},SET_TEMPLATE_CREATING:(t,e)=>{t.templateCreating=e},SET_TEMPLATE_UPDATING:(t,e)=>{t.templateUpdating=e},ADD_EMAIL_TEMPLATE:(t,e)=>{t.emailTemplates.push(e)},UPDATE_EMAIL_TEMPLATE:(t,{id:e,template:o})=>{const n=t.emailTemplates.findIndex(s=>s.id===e);n!==-1&&t.emailTemplates.splice(n,1,o)},REMOVE_EMAIL_TEMPLATE:(t,e)=>{t.emailTemplates=t.emailTemplates.filter(o=>o.id!==e)},SET_ANALYTICS:(t,e)=>{t.analytics={...t.analytics,...e}},SET_ANALYTICS_LOADING:(t,e)=>{t.analyticsLoading=e},SET_SETTINGS:(t,e)=>{t.settings={...t.settings,...e}},SET_SETTINGS_LOADING:(t,e)=>{t.settingsLoading=e},SET_SETTINGS_SAVING:(t,e)=>{t.settingsSaving=e},SET_CART_DETAILS:(t,e)=>{t.cartDetails=e},SET_CART_DETAILS_LOADING:(t,e)=>{t.cartDetailsLoading=e},SET_BULK_ACTION_LOADING:(t,e)=>{t.bulkActionLoading=e},REMOVE_CART:(t,e)=>{t.carts=t.carts.filter(o=>o.id!==e),t.cartsTotal=Math.max(0,t.cartsTotal-1)},UPDATE_CART:(t,{cartId:e,updates:o})=>{const n=t.carts.findIndex(s=>s.id===e);n!==-1&&t.carts.splice(n,1,{...t.carts[n],...o})},REMOVE_MULTIPLE_CARTS:(t,e)=>{t.carts=t.carts.filter(o=>!e.includes(o.id)),t.cartsTotal=Math.max(0,t.cartsTotal-e.length)},SET_ERROR:(t,e)=>{t.error=e},CLEAR_ERROR:t=>{t.error=null},SET_LAST_ACTION:(t,e)=>{t.lastAction=e}},actions:{FETCH_ABANDONED_CARTS:async({commit:t,state:e},o={})=>{t("SET_CARTS_LOADING",!0),t("SET_LAST_ACTION","FETCH_ABANDONED_CARTS"),t("CLEAR_ERROR");try{const n={page:e.pagination.currentPage,per_page:e.pagination.perPage,status:e.filters.status,...o};e.filters.dateFrom&&(n.date_from=new Date(e.filters.dateFrom).toLocaleDateString("en-CA").split("T")[0]),e.filters.dateTo&&(n.date_to=new Date(e.filters.dateTo).toLocaleDateString("en-CA").split("T")[0]);const s=await Z.get("/woolentor/v1/abandoned-cart/carts",{params:n});return t("SET_CARTS",s.data.data),t("SET_CARTS_LOADING",!1),s.data}catch(n){throw t("SET_ERROR",n.message||"Failed to fetch abandoned carts"),t("SET_CARTS_LOADING",!1),n}},SET_CARTS_FROM_CACHE:({commit:t},e)=>{t("SET_CARTS",e)},SEARCH_CARTS:async({commit:t,state:e},o,n={})=>{if(!(!o||!o.trim())){t("SET_CARTS_SEARCHING",!0),t("SET_LAST_ACTION","SEARCH_CARTS"),t("CLEAR_ERROR");try{const s=await Z.get("/woolentor/v1/abandoned-cart/carts/search",{params:{search:o.trim(),page:e.pagination.currentPage,per_page:e.pagination.perPage,status:e.filters.status,...n}});return t("SET_CARTS",s.data.data),t("SET_CARTS_SEARCHING",!1),s.data}catch(s){throw t("SET_ERROR",s.message||"Failed to search carts"),t("SET_CARTS_SEARCHING",!1),s}}},FETCH_CART_DETAILS:async({commit:t},e)=>{t("SET_CART_DETAILS_LOADING",!0),t("SET_LAST_ACTION","FETCH_CART_DETAILS"),t("CLEAR_ERROR");try{const o=await Z.get(`/woolentor/v1/abandoned-cart/carts/${e}`);return t("SET_CART_DETAILS",o.data),t("SET_CART_DETAILS_LOADING",!1),o.data}catch(o){throw t("SET_ERROR",o.message||"Failed to fetch cart details"),t("SET_CART_DETAILS_LOADING",!1),o}},DELETE_CART:async({commit:t},e)=>{t("SET_LAST_ACTION","DELETE_CART"),t("CLEAR_ERROR");try{return await Z.delete(`/woolentor/v1/abandoned-cart/carts/${e}`),t("REMOVE_CART",e),t("REMOVE_SELECTED_CART",e),{success:!0,message:"Cart deleted successfully"}}catch(o){throw t("SET_ERROR",o.message||"Failed to delete cart"),o}},SEND_RECOVERY_EMAIL:async({commit:t},e)=>{t("SET_LAST_ACTION","SEND_RECOVERY_EMAIL"),t("CLEAR_ERROR");try{return(await Z.post(`/woolentor/v1/abandoned-cart/carts/${e}/send-email`)).data}catch(o){throw t("SET_ERROR",o.message||"Failed to send recovery email"),o}},BULK_ACTION:async({commit:t,state:e},{action:o,cartIds:n})=>{t("SET_BULK_ACTION_LOADING",!0),t("SET_LAST_ACTION","BULK_ACTION"),t("CLEAR_ERROR");try{const s=await Z.post("/woolentor/v1/abandoned-cart/carts/bulk",{action:o,cart_ids:n||e.selectedCarts}),a=n||e.selectedCarts;switch(o){case"delete":t("REMOVE_MULTIPLE_CARTS",a);break;case"unsubscribe":a.forEach(i=>{t("UPDATE_CART",{cartId:i,updates:{unsubscribed:"1"}})});break}return t("CLEAR_SELECTED_CARTS"),t("SET_BULK_ACTION_LOADING",!1),s.data}catch(s){throw t("SET_ERROR",s.message||"Failed to perform bulk action"),t("SET_BULK_ACTION_LOADING",!1),s}},FETCH_EMAIL_TEMPLATES:async({commit:t})=>{t("SET_EMAIL_TEMPLATES_LOADING",!0),t("SET_LAST_ACTION","FETCH_EMAIL_TEMPLATES"),t("CLEAR_ERROR");try{const e=await Z.get("/woolentor/v1/abandoned-cart/email-templates");return t("SET_EMAIL_TEMPLATES",e.data||[]),t("SET_EMAIL_TEMPLATES_LOADING",!1),e.data}catch(e){throw t("SET_ERROR",e.message||"Failed to fetch email templates"),t("SET_EMAIL_TEMPLATES_LOADING",!1),e}},CREATE_EMAIL_TEMPLATE:async({commit:t},e)=>{t("SET_TEMPLATE_CREATING",!0),t("SET_LAST_ACTION","CREATE_EMAIL_TEMPLATE"),t("CLEAR_ERROR");try{const o=await Z.post("/woolentor/v1/abandoned-cart/email-templates",e);return t("ADD_EMAIL_TEMPLATE",o.data),t("SET_TEMPLATE_CREATING",!1),o.data}catch(o){throw t("SET_ERROR",o.message||"Failed to create email template"),t("SET_TEMPLATE_CREATING",!1),o}},UPDATE_EMAIL_TEMPLATE:async({commit:t},{id:e,templateData:o})=>{t("SET_TEMPLATE_UPDATING",!0),t("SET_LAST_ACTION","UPDATE_EMAIL_TEMPLATE"),t("CLEAR_ERROR");try{const n=await Z.put(`/woolentor/v1/abandoned-cart/email-templates/${e}`,o);return t("UPDATE_EMAIL_TEMPLATE",{id:e,template:n.data}),t("SET_TEMPLATE_UPDATING",!1),n.data}catch(n){throw t("SET_ERROR",n.message||"Failed to update email template"),t("SET_TEMPLATE_UPDATING",!1),n}},DELETE_EMAIL_TEMPLATE:async({commit:t},e)=>{t("SET_LAST_ACTION","DELETE_EMAIL_TEMPLATE"),t("CLEAR_ERROR");try{return await Z.delete(`/woolentor/v1/abandoned-cart/email-templates/${e}`),t("REMOVE_EMAIL_TEMPLATE",e),{success:!0,message:"Template deleted successfully"}}catch(o){throw t("SET_ERROR",o.message||"Failed to delete email template"),o}},FETCH_ANALYTICS:async({commit:t},e={})=>{t("SET_ANALYTICS_LOADING",!0),t("SET_LAST_ACTION","FETCH_ANALYTICS"),t("CLEAR_ERROR");try{const o=await Z.get("/woolentor/v1/abandoned-cart/analytics",{params:e});return t("SET_ANALYTICS",o.data),t("SET_ANALYTICS_LOADING",!1),o.data}catch(o){throw t("SET_ERROR",o.message||"Failed to fetch analytics"),t("SET_ANALYTICS_LOADING",!1),o}},SET_ANALYTICS:({commit:t},e)=>{t("SET_ANALYTICS",e)},FETCH_ABANDONED_CART_SETTINGS:async({commit:t})=>{t("SET_SETTINGS_LOADING",!0),t("SET_LAST_ACTION","FETCH_ABANDONED_CART_SETTINGS"),t("CLEAR_ERROR");try{const e=await Z.get("/woolentor/v1/abandoned-cart/settings");return t("SET_SETTINGS",e.data),t("SET_SETTINGS_LOADING",!1),e.data}catch(e){throw t("SET_ERROR",e.message||"Failed to fetch settings"),t("SET_SETTINGS_LOADING",!1),e}},SAVE_ABANDONED_CART_SETTINGS:async({commit:t},e)=>{t("SET_SETTINGS_SAVING",!0),t("SET_LAST_ACTION","SAVE_ABANDONED_CART_SETTINGS"),t("CLEAR_ERROR");try{const o=await Z.post("/woolentor/v1/abandoned-cart/settings",e);return t("SET_SETTINGS",o.data),t("SET_SETTINGS_SAVING",!1),o.data}catch(o){throw t("SET_ERROR",o.message||"Failed to save settings"),t("SET_SETTINGS_SAVING",!1),o}},UPDATE_FILTERS:({commit:t,dispatch:e},o)=>{t("SET_FILTERS",o)},UPDATE_PAGINATION:({commit:t,dispatch:e},o)=>{t("SET_PAGINATION",o)},SELECT_CART:({commit:t},e)=>{t("ADD_SELECTED_CART",e)},DESELECT_CART:({commit:t},e)=>{t("REMOVE_SELECTED_CART",e)},SELECT_ALL_CARTS:({commit:t,state:e})=>{const o=e.carts.map(n=>n.id);t("SET_SELECTED_CARTS",o)},DESELECT_ALL_CARTS:({commit:t})=>{t("CLEAR_SELECTED_CARTS")},CLEAR_ERROR:({commit:t})=>{t("CLEAR_ERROR")},RESET_FILTERS:({commit:t,dispatch:e})=>{t("RESET_FILTERS"),t("SET_PAGINATION",{currentPage:1})},SET_SETTINGS_LOADING:({commit:t},e)=>{t("SET_SETTINGS_LOADING",e)}}},Y={cache:new Map,durations:new Map,DEFAULT_DURATION:5*60*1e3,get(t){const e=this.cache.get(t);if(!e)return null;const{data:o,timestamp:n}=e,s=Date.now(),a=this.durations.get(t)||this.DEFAULT_DURATION;return s-n>a?(this.invalidate(t),null):o},set(t,e,o={}){if(this.cache.set(t,{data:e,timestamp:Date.now()}),o.duration){const n=o.duration*60*1e3;this.durations.set(t,n)}},getStatus(t){const e=this.cache.get(t);if(!e)return{isValid:!1,remaining:0};const o=Date.now(),n=this.durations.get(t)||this.DEFAULT_DURATION,s=o-e.timestamp,a=n-s;return{isValid:a>0,remaining:Math.max(0,Math.ceil(a/1e3)),duration:n/1e3}},invalidate(t){t?(this.cache.delete(t),this.durations.delete(t)):(this.cache.clear(),this.durations.clear())},updateDuration(t,e){if(!this.cache.has(t))return!1;const o=e*60*1e3;return this.durations.set(t,o),!0},getDuration(t){return(this.durations.get(t)||this.DEFAULT_DURATION)/(60*1e3)}},cn="templateLibrary",ls=6e3;class kr{constructor(){this.initialized=!1}async init(){this.initialized||(await this.fetchTemplates(),this.initialized=!0)}async fetchTemplates(){try{const e=Y.get(cn);if(e)return Ne.commit("template/SET_TEMPLATES",e),e;const o=await Ne.dispatch("template/FETCH_TEMPLATES");return o?.data?(Y.set(cn,o,{duration:ls}),o):(Y.set(cn,{templates:[],categories:[]},{duration:ls}),{templates:[],categories:[]})}catch(e){return console.error("Error fetching templates:",e),{templates:[],categories:[]}}}async importTemplate(e,o){try{return await Ne.dispatch("template/IMPORT_TEMPLATE",[e,o])}catch(n){throw console.error("Error importing template:",n),n}}async refreshTemplates(){return this.clearCache(),await this.fetchTemplates()}isLoading(){return Ne.getters["template/GET_TEMPLATES_LOADING"]}clearCache(){Y.invalidate(cn),this.initialized=!1}getTemplates(){return Ne.getters["template/GET_TEMPLATES"]}getCategories(){return Ne.getters["template/GET_CATEGORIES"]}getTemplateType(e){switch(e){case"Shop":return"shop";case"Product Details":return"single";case"Cart":return"cart";case"Checkout Page":return"checkout";case"My Account":return"myaccount";case"Popup Builder":return"popup";default:return"other"}}}const Ft=new kr,Pr={namespaced:!0,state:{templates:[],categories:[],loading:!1,importing:!1,error:null},getters:{GET_TEMPLATES:t=>t.templates,GET_CATEGORIES:t=>t.categories,GET_TEMPLATES_LOADING:t=>t.loading,GET_TEMPLATE_IMPORTING:t=>t.importing,GET_TEMPLATE_ERROR:t=>t.error},mutations:{SET_TEMPLATES:(t,e)=>{t.templates=e.templates||[],t.categories=e.categories||[]},SET_TEMPLATES_LOADING:(t,e)=>{t.loading=e},SET_TEMPLATE_IMPORTING:(t,e)=>{t.importing=e},SET_TEMPLATE_ERROR:(t,e)=>{t.error=e}},actions:{FETCH_TEMPLATES:async({commit:t})=>{t("SET_TEMPLATES_LOADING",!0);try{const e=await Z.get("/woolentoropt/v1/templates"),o=["No Category","Email Customizer"],n=e.data?.templates?.filter(i=>!o.includes(i.shareId)),s=new Map;n.forEach(i=>{i.shareId&&(s.has(i.shareId)?s.get(i.shareId).count++:s.set(i.shareId,{id:i.shareId.toLowerCase().replace(/\s+/g,"-"),name:i.shareId,count:1,type:i.type,thumbnail:i.thumbnail}))});const a=Array.from(s.values());return t("SET_TEMPLATES",{templates:n,categories:a}),t("SET_TEMPLATES_LOADING",!1),{templates:n,categories:a}}catch(e){throw t("SET_TEMPLATE_ERROR",e.message||"Failed to fetch templates"),t("SET_TEMPLATES_LOADING",!1),e}},IMPORT_TEMPLATE:async({commit:t},e)=>{t("SET_TEMPLATE_IMPORTING",!0);try{const o=e[0],n=e[1],s=n==="builder"?Ft.getTemplateType(o.shareId):"other",a=await Z.post("/woolentoropt/v1/templates/import",{template_id:o.id,template_title:o.title,verifynonce:woolentorOptions?.verifynonce||"",template_type:s,parent_id:o.shareId,import_to:n});return t("SET_TEMPLATE_IMPORTING",!1),a.data}catch(o){throw t("SET_TEMPLATE_ERROR",o.message||"Failed to import template"),t("SET_TEMPLATE_IMPORTING",!1),o}}}},Mr={SET_SETTINGS:(t,e)=>{t.settings=e},SAVING_BUTTON_CONTROL:(t,e)=>{t.saveButton=e},SAVING_MODULE_BUTTON_CONTROL:(t,e)=>{t.saveModuleButton=e},RESETING_BUTTON_CONTROL:(t,e)=>{t.resetButton=e},RESETING_MODULE_BUTTON_CONTROL:(t,e)=>{t.resetModuleButton=e},SETLOADER:t=>{t.loaderClass="option-loading"},REMOVELOADER:t=>{t.loaderClass="option-loaded"},SET_MODULE_SETTING_LOADER:(t,{moduleId:e,isLoading:o})=>{t.moduleSettingLoader={...t.moduleSettingLoader,[e]:o}},SET_GROUP_SETTING_LOADER:(t,{groupId:e,isLoading:o})=>{t.groupSettingLoader={...t.groupSettingLoader,[e]:o}},SET_LICENSE_INFO:(t,e)=>{t.licenseInfo=e},SET_LICENSE_LOADING:(t,e)=>{t.licenseLoading=e},SET_LICENSE_ACTIVATING:(t,e)=>{t.licenseActivating=e},SET_LICENSE_DEACTIVATING:(t,e)=>{t.licenseDeactivating=e},SET_CHANGELOG:(t,e)=>{t.changelog=e},SET_CHANGELOG_LOADING:(t,e)=>{t.changelogLoading=e},SET_CHANGELOG_READ:(t,e)=>{t.changelogRead=e},SET_NOTIFICATION_STATUS:(t,e)=>{t.notificationStatus=e}},Ne=Ka({state:{settings:{},saveButton:{text:woolentorOptions.labels.saveButton.text,class:"",disabled:!0},saveModuleButton:{text:woolentorOptions.labels.saveButton.text,class:"",disabled:!0},resetButton:{text:woolentorOptions.labels.resetButton.text,class:"",disabled:!1},resetModuleButton:{text:woolentorOptions.labels.resetButton.text,class:"",disabled:!1},loaderClass:"option-loading",moduleSettingLoader:{},groupSettingLoader:{},changelog:null,changelogLoading:!1,changelogRead:!1,notificationStatus:null},actions:Nr,getters:xr,mutations:Mr,modules:{abandonedCart:Rr,template:Pr}}),vt="licenseInfo",Jn=6e3;class Gr{constructor(){this.initialized=!1}async init(){this.initialized||(await this.fetchLicenseInfo(),this.initialized=!0)}async fetchLicenseInfo(){try{const e=Y.get(vt);if(e)return Ne.commit("SET_LICENSE_INFO",e),e;const o=await Ne.dispatch("FETCH_LICENSE_INFO",["license_info"]);return o?.data?(Y.set(vt,o,{duration:Jn}),o):(Y.set(vt,{},{duration:Jn}),{})}catch(e){return console.error("Error fetching license info:",e),null}}async activateLicense(e,o){try{const n=await Ne.dispatch("ACTIVATE_LICENSE",["activate_license",e,o]);return n?.data?.is_valid&&Y.set(vt,n,{duration:Jn}),n}catch(n){throw console.error("Error activating license:",n),n}}async deactivateLicense(){try{const e=await Ne.dispatch("DEACTIVATE_LICENSE",["deactivate_license"]);return Y.invalidate(vt),e}catch(e){throw console.error("Error deactivating license:",e),e}}isLicenseValid(){return Ne.getters.GET_LICENSE_INFO?.data?.is_valid}isLoading(){return Ne.getters.GET_LICENSE_LOADING}clearCache(){Y.invalidate(vt),this.initialized=!1}getLicenseInfo(){return Ne.getters.GET_LICENSE_INFO}}const dn=new Gr;function ma(){const t=Nn(),e=se(()=>t.getters.GET_LICENSE_LOADING),o=se(()=>t.getters.GET_LICENSE_ACTIVATING),n=se(()=>t.getters.GET_LICENSE_DEACTIVATING),s=se(()=>t.getters.GET_LICENSE_INFO),a=se(()=>s.value?.data?.is_valid),i=G(null);return{isLoading:e,isActivating:o,isDeactivating:n,licenseInfo:s,isValid:a,error:i,initializeLicense:async()=>{try{await dn.init()}catch(u){i.value=u}},activateLicense:async(u,h)=>{i.value=null;try{return await dn.activateLicense(u,h)}catch(g){throw i.value=g,g}},deactivateLicense:async()=>{i.value=null;try{return await dn.deactivateLicense()}catch(u){throw i.value=u,u}},licenseService:dn}}const Fr={name:"App",data(){return{items:[],isMainTab:Boolean,isFooter:Boolean,isSidebar:Boolean,activeIndex:G("/welcome"),success:!1,model:null,content:null,isLoading:!0,hasError:!1,errorMessage:"",isDataReady:!1,showNotifications:!1}},components:{SaveButton:pa,Lock:oi,Unlock:si,Bell:ai,Loading:Do,NotificationDrawer:fa},setup(){const{initializeLicense:t,licenseInfo:e,isValid:o,isLoading:n}=ma();return Qe(async()=>{woolentorOptions?.isPro==="yes"&&await t()}),{isLicenseValid:o,licenseLoading:n,licenseInfo:e}},created(){this.initializeApp()},computed:{...ze(["GET_LOADER","GET_LICENSE_INFO","GET_LICENSE_LOADING","HAS_UNREAD_NOTIFICATIONS","GET_CHANGELOG_LOADING","GET_CHANGELOG_READ"]),buttonLoading:{get(){return this.GET_LOADER}},isLicenseValid(){return this.GET_LICENSE_INFO?.data?.is_valid},licenseButtonIcon(){return this.GET_LICENSE_LOADING?"Loading":this.isLicenseValid?"Unlock":"Lock"},statusText(){return this.licenseLoading?"Checking...":this.isLicenseValid?"Active":"Inactive"},hasUnreadNotifications(){return this.GET_CHANGELOG_READ?!1:this.HAS_UNREAD_NOTIFICATIONS}},watch:{$route:{handler:"handleRouteChange",immediate:!0}},mounted(){this.removeLoader(),this.initializeNotifications()},methods:{...rt(["FETCH_SETTINGS_DATA","SAVE_SETTINGS","REMOVE_LOADER","CHECK_NOTIFICATION_STATUS"]),handleLicense(){this.$router.push("/license")},isPro(){return this.woolentorLocalizeData?.isPro==="yes"},openActionLink(t){t&&window.open(t,"_blank")},async initializeNotifications(){try{await this.CHECK_NOTIFICATION_STATUS()}catch(t){console.error("Failed to check notifications:",t)}},async initializeApp(){this.detectMainTab(),this.detectSidebar(),this.setupRoutes(),await this.initializeRouteData()},async handleRouteChange(){this.isDataReady=!1,this.isLoading=!0,this.detectMainTab(),this.detectSidebar(),this.updateActiveIndex(),this.success=!1,await this.initializeRouteData()},async initializeRouteData(){const t=this.$route.meta.id;if(!t){this.isLoading=!1,this.isDataReady=!0;return}try{this.isApiRoute()?await this.fetchApiDataWithCache(t):this.loadLocalData(t),this.isDataReady=!0}catch(e){console.error("Failed to initialize route data:",e)}finally{this.isLoading=!1}},setupRoutes(){this.$router.options.routes.forEach(t=>{t.name&&this.items.push({name:t.name,path:t.path,showInNav:t.props.showInNav,navIcon:t.props.navIcon,children:t.children,pathname:t.meta.pathname})})},isApiRoute(){return this.$route.meta.isCallApiRoute},async fetchApiDataWithCache(t){this.hasError=!1;const e=`${t}_${this.$route.meta.pathname}`,o=Y.get(e);if(o){this.model=o,this.setContent();return}try{const n=await this.FETCH_SETTINGS_DATA(["",t]);Y.set(e,n),this.model=n,this.setContent()}catch(n){this.handleError(n)}},loadLocalData(t){try{this.model=this.woolentorLocalizeData.options[t],this.setContent()}catch(e){this.handleError(e)}},setContent(){typeof this.$route.meta.parentPathName<"u"?this.content=this.woolentorLocalizeData.tabs[this.$route.meta.parentPathName].sections[this.$route.meta.pathname]?.content:this.content=this.woolentorLocalizeData.tabs[this.$route.meta.pathname]?.content},handleError(t){throw this.hasError=!0,this.errorMessage="Failed to load data. Please try again.",le({title:"Error",message:"Failed to load data",type:"error",duration:4e3,position:"top-right",offset:30}),t},removeLoader(){this.REMOVE_LOADER()},detectMainTab(){this.isMainTab=typeof this.$route.meta.id<"u"},detectSidebar(){this.isSidebar=typeof this.$route.meta.sidebar<"u"?this.$route.meta.sidebar:!0},detectPassFooter(){return this.isFooter=typeof this.$route.meta?.footer<"u"?this.$route.meta?.footer:!0,this.isFooter},footerArea(){return this.isMainTab&&this.detectPassFooter()?this.content?.footer||typeof this.content?.footer>"u":!1},updateActiveIndex(){typeof this.$route.meta.parentPathName<"u"?this.activeIndex=`/${this.$route.meta.parentPathName}`:this.activeIndex=`/${this.$route.meta.pathname}`},handleSelect(t){this.$router.push(t).catch(e=>{if(e.name!=="NavigationDuplicated")throw e})},async submit(t){if(t.preventDefault(),!!this.model){this.model.verifynonce=this.woolentorLocalizeData.verifynonce;try{const e=await this.SAVE_SETTINGS([this.model,this.$route.meta.id]);if(e&&e.data){const o=`${this.$route.meta.id}_${this.$route.meta.pathname}`;Y.invalidate(o),le({title:"Success",message:"Settings saved successfully!",type:"success",position:"top-right",duration:3e3,offset:30,customClass:"woolentor-notification"})}}catch{le({title:"Error",message:"Failed to save settings. Please try again.",type:"error",position:"top-right",duration:4e3,offset:30,customClass:"woolentor-notification"})}}},changeStateField(){this.woolentorLocalizeData.settings[this.$route.meta.id].filter(o=>!o.is_pro).forEach(o=>{this.model[o.id]=o.default||""})}}},Vr={class:"woolentoropt-admin-panel"},Ur={key:0,class:"woolentor-navigation-wrapper"},Br={class:"woolentor-navigation-menu"},Hr={class:"woolentor-right-menu"},zr={key:0,class:"woolentor-status-dot"},jr={class:"woolentor-status-text"},qr={key:0,class:"woolentor-notification-dot"},$r={key:2,class:"woolentor-opt-footer"},Wr={class:"woolentor-footer-savebutton"},Yr={key:0,class:"woolentor-options-sidebar"};function Kr(t,e,o,n,s,a){const i=ii,r=li,p=we,d=re,u=fa,h=ri,g=M("router-view"),y=pa,_=ci,T=di,b=Er,C=Kt;return m(),E("div",Vr,[s.isMainTab?(m(),E("div",Ur,[l("div",Br,[c(r,{"default-active":s.activeIndex,class:"el-menu-demo",mode:"horizontal",onSelect:a.handleSelect},{default:f(()=>[(m(!0),E(W,null,te(s.items,L=>(m(),w(i,{key:L.path,index:L.path,class:V(L.pathname),disabled:!L.showInNav,style:Ae({display:L.showInNav?"":"none"})},{default:f(()=>[l("span",{class:V(L.navIcon)},null,2),P(" "+I(L.name),1)]),_:2},1032,["index","class","disabled","style"]))),128))]),_:1},8,["default-active","onSelect"])]),l("div",Hr,[a.isPro()?(m(),E("div",{key:0,class:V({"woolentor-status-indicator":!0,inactive:!a.isLicenseValid&&!n.licenseLoading,loading:n.licenseLoading})},[n.licenseLoading?S("",!0):(m(),E("span",zr)),l("span",jr,I(a.statusText),1)],2)):S("",!0),a.isPro()?(m(),w(d,{key:1,class:V({"woolentor-license-button":!0,active:t.$route.path==="/license"}),onClick:a.handleLicense,type:(a.isLicenseValid,"default"),loading:n.licenseLoading},{default:f(()=>[n.licenseLoading?S("",!0):(m(),w(p,{key:0,class:"el-icon--left"},{default:f(()=>[(m(),w(ct(a.licenseButtonIcon)))]),_:1})),P(" "+I(a.isLicenseValid?"Licensed":"Licensing"),1)]),_:1},8,["class","onClick","type","loading"])):(m(),w(d,{key:2,class:"woolentor-gopro-button",onClick:e[0]||(e[0]=L=>a.openActionLink("https://woolentor.com/pricing/?utm_source=admin&utm_medium=mainmenu&utm_campaign=free")),type:"primary"},{default:f(()=>e[4]||(e[4]=[P(" Upgrade to Pro ")])),_:1})),c(d,{circle:"",class:"woolentor-notification-button",onClick:e[1]||(e[1]=L=>s.showNotifications=!0)},{default:f(()=>[a.hasUnreadNotifications?(m(),E("span",qr)):S("",!0),c(p,null,{default:f(()=>e[5]||(e[5]=[l("i",{class:"sli sli-bell"},null,-1)])),_:1})]),_:1}),c(u,{modelValue:s.showNotifications,"onUpdate:modelValue":e[2]||(e[2]=L=>s.showNotifications=L)},null,8,["modelValue"])])])):S("",!0),l("div",{class:"woolentor-options-content-wrapper",style:Ae({"margin-top":s.isSidebar?"0":"20px"})},[l("div",{class:"woolentor-options-wrapper",style:Ae({width:s.isSidebar?"calc(100% - 425px)":"100%",padding:s.isSidebar?"":"0"})},[De((m(),w(T,null,{default:f(()=>[c(_,{style:Ae({padding:s.isSidebar?"":"0"})},{default:f(()=>[s.isDataReady?(m(),E("form",{key:0,onSubmit:e[3]||(e[3]=(...L)=>a.submit&&a.submit(...L)),class:"woolentor-options-form"},[s.hasError?(m(),w(h,{key:0,title:"Error loading data",type:"error",description:s.errorMessage,"show-icon":""},null,8,["description"])):S("",!0),s.isDataReady?(m(),E(W,{key:1},[c(g,{model:s.model,content:s.content},null,8,["model","content"]),t.$route.matched.length===1?(m(),w(g,{key:0,name:"fields",model:s.model,content:s.content},null,8,["model","content"])):S("",!0)],64)):S("",!0),a.footerArea()?(m(),E("div",$r,[l("div",Wr,[c(y)])])):S("",!0)],32)):S("",!0)]),_:1},8,["style"])]),_:1})),[[C,s.isLoading]])],4),s.isSidebar?(m(),E("div",Yr,[c(b)])):S("",!0)],4)])}const Jr=F(Fr,[["render",Kr]]),Xr={name:"save-module-button",computed:{...ze(["GET_MODULE_SAVE_BUTTON"]),saveModuleButton:{get(){return this.GET_MODULE_SAVE_BUTTON}}},methods:{buttonClass(){return[`woolentor-module-save woolentor-admin-btn ${this.saveModuleButton.class!==""?this.saveModuleButton.class:""}`,this.GET_MODULE_SAVE_BUTTON.disabled==!0?"disabled":""]}}},Qr=["disabled"];function Zr(t,e,o,n,s,a){return m(),E("button",{type:"submit",class:V(a.buttonClass()),disabled:a.saveModuleButton.disabled},I(a.saveModuleButton.text),11,Qr)}const Bn=F(Xr,[["render",Zr],["__scopeId","data-v-470827db"]]),ec={name:"module-reset-button",emits:["resetAlldata"],computed:{...ze(["GET_RESET_MODULE_BUTTON"]),resetModuleButton:{get(){return this.GET_RESET_MODULE_BUTTON}}},methods:{buttonClass(){return[`woolentor-module-reset woolentor-admin-btn ${this.resetModuleButton.class!==""?this.resetModuleButton.class:""}`,this.GET_RESET_MODULE_BUTTON.disabled==!0?"disabled":""]}}},tc=["disabled"];function nc(t,e,o,n,s,a){return m(),E("button",{type:"button",class:V(a.buttonClass()),disabled:a.resetModuleButton.disabled,onClick:e[0]||(e[0]=i=>t.$emit("resetAlldata"))},I(a.resetModuleButton.text),11,tc)}const ha=F(ec,[["render",nc]]),kt=()=>{const t=(o,n)=>{if(o.type==="hidden")return!1;if(!o.condition)return!0;let s=o.condition;s instanceof Array||(s=[s]);const a={"!=":(i,r)=>i!=r,"!==":(i,r)=>i!==r,"==":(i,r)=>i==r,"===":(i,r)=>i===r,">=":(i,r)=>i>=r,">":(i,r)=>i>r,"<":(i,r)=>i<r,"<=":(i,r)=>i<=r,any:(i,r)=>r.split(",").map(d=>d.trim()).includes(i),"not-any":(i,r)=>!r.split(",").map(d=>d.trim()).includes(i)};for(let i=0;i<s.length;i++){const r=s[i];let p=r.operator||"!=",d=!0;if(r?.key?.includes("|")){const u=r.key.split("|"),h=p.split("|"),g=r.value.split("|");if(u.forEach((y,_)=>{const T=h[_]||h[0],b=g[_]||g[0];a[T](n[y],b)||(d=!1)}),d)return!0}else if(a[p](n[r.key],r.value))return!0}return!1};return{maybeShowField:t,evaluateComplexConditions:(o,n)=>!o||!o.length?!0:o.some(s=>s.type==="AND"?s.rules.every(a=>t({condition:[a]},n)):s.rules.some(a=>t({condition:[a]},n)))}},oc={name:"ProBadge"},sc={class:"woolentor-admin-pro-badge"};function ac(t,e,o,n,s,a){return m(),E("span",sc,I(this.woolentorLocalizeData.labels.pro),1)}const $=F(oc,[["render",ac],["__scopeId","data-v-c398e55d"]]),ic={name:"field-default",props:["field","model","class"],emits:["onChange","openProModal"],data(){return{fieldData:this.field,model:this.model,currentRoute:this.$route,copySuccess:!1}},components:{ProBadge:$,CopyDocument:ws,Check:ui},methods:{classes(t,e=""){return e!==""?e.hasOwnProperty("class")?e.class:"":["woolentor-opt-field",t=="text"?"woolentor-regular-text":`woolentor-opt-field-${t}`]},copyToClipboard(t,e){const o=n=>{const s=document.createElement("textarea");s.value=n,s.setAttribute("readonly",""),s.style.position="absolute",s.style.left="-9999px",document.body.appendChild(s);try{if(s.select(),s.setSelectionRange(0,99999),document.execCommand("copy"),K({message:this.fieldData?.generate_value?.success_msg||"Success copied to clipboard!",type:"success",duration:2e3,offset:80}),e&&e.currentTarget){const a=e.currentTarget;this.copySuccess=!0,a.classList.add("copy-success"),setTimeout(()=>{this.copySuccess=!1,a.classList.remove("copy-success")},1e3)}}catch{K({message:this.fieldData?.generate_value?.error_msg||"Error copying value!",type:"error",duration:1e3,offset:80})}finally{document.body.removeChild(s)}};navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(t).then(()=>{if(K({message:this.fieldData?.generate_value?.success_msg||"Success copied to clipboard!",type:"success",duration:1e3,offset:80}),e&&e.currentTarget){const n=e.currentTarget;this.copySuccess=!0,n.classList.add("copy-success"),setTimeout(()=>{this.copySuccess=!1,n.classList.remove("copy-success")},1e3)}}).catch(()=>{o(t)}):o(t)}}},lc={class:"woolentor-card-field-label"},rc={style:{display:"flex","align-items":"center",color:"#000","font-size":"14px","font-weight":"700"}},cc=["innerHTML"],dc=["innerHTML"],uc={class:"woolentor-card-field-element"},pc={class:"woolentor-shortcode-copy"};function fc(t,e,o,n,s,a){const i=$,r=Jt,p=M("Check"),d=M("CopyDocument"),u=we,h=re,g=dt,y=oe;return m(),w(y,{style:{width:"auto",border:"none"},shadow:"never","body-style":"padding: 0px","border-card":"false"},{default:f(()=>[l("div",{class:V(`woolentor-element-card ${s.fieldData?.class||""} ${this.class}`),style:{display:"flex","align-items":"center","justify-content":"space-between",gap:"0px"},onClick:e[6]||(e[6]=_=>s.fieldData.is_pro?t.$emit("openProModal",!0):null)},[l("div",lc,[l("span",rc,[l("span",{innerHTML:s.fieldData.name},null,8,cc),s.fieldData.is_pro?(m(),w(i,{key:0,style:{"margin-right":"10px"}})):S("",!0)]),s.fieldData.desc?(m(),E("p",{key:0,innerHTML:s.fieldData.desc},null,8,dc)):S("",!0)]),l("div",uc,[s.fieldData.type==="checkbox"?(m(),w(r,{key:0,modelValue:s.model[s.fieldData.id],"onUpdate:modelValue":e[0]||(e[0]=_=>s.model[s.fieldData.id]=_),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#409eff","--el-switch-off-color":"#4C4D4F"},"active-text":s.fieldData?.label_on||"ON","inactive-text":s.fieldData?.label_off||"OFF","active-value":"on","inactive-value":"off",onChange:e[1]||(e[1]=_=>t.$emit("onChange")),disabled:s.fieldData.is_pro},null,8,["modelValue","active-text","inactive-text","disabled"])):(m(),w(g,{key:1,modelValue:s.model[s.fieldData.id],"onUpdate:modelValue":e[3]||(e[3]=_=>s.model[s.fieldData.id]=_),size:"large",type:s.fieldData.type,placeholder:s.fieldData?.placeholder,onChange:e[4]||(e[4]=_=>t.$emit("onChange")),onInput:e[5]||(e[5]=_=>t.$emit("onChange")),disabled:s.fieldData.is_pro},Ja({_:2},[s.fieldData.generate_value?.copyable?{name:"append",fn:f(()=>[l("div",pc,[c(h,{onClick:e[2]||(e[2]=ge(_=>a.copyToClipboard(s.model[s.fieldData.id],_),["stop"]))},{default:f(()=>[c(u,{class:"copy-icon"},{default:f(()=>[s.copySuccess?(m(),w(p,{key:0,style:{color:"#67C23A"}})):(m(),w(d,{key:1}))]),_:1})]),_:1})])]),key:"0"}:void 0]),1032,["modelValue","type","placeholder","disabled"]))])],2)]),_:1})}const Tt=F(ic,[["render",fc],["__scopeId","data-v-9481f4f5"]]),mc={name:"MoudleSettngsModal",props:["className","fields","fieldId","model"],emits:["onChange","openProModal","openSettingsModal","resetAlldata"],setup(t){const{maybeShowField:e}=kt();return{shouldShowField:(n,s)=>e(n,s)}},data(){return{fields:this.fields,fieldId:this.fieldId,fieldData:function(){return this.fields.filter(t=>t.id==this.fieldId)},updateData:this.woolentorLocalizeData.options[this.fieldId]||{},dataArray:this.fields.filter(t=>t.id==this.fieldId)[0],readyToSave:{},dialogVisible:!1,resetDialogVisible:!1}},components:{ModuleSaveButton:Bn,ModuleResetButton:ha,DefaultField:Tt,ElDialog:_t,ElDivider:Ze},created(){this.initializeModal()},computed:{...ze(["GET_MODULE_SAVE_BUTTON","GET_LOADER"])},mounted(){document.addEventListener("click",this.onClick)},beforeUnmount(){document.removeEventListener("click",this.onClick)},beforeDestroy(){document.removeEventListener("click",this.onClick)},methods:{...rt(["FETCH_SETTINGS","SAVE_SETTINGS","REMOVE_LOADER","SET_MODULE_SETTING_LOADER"]),getFieldComponentName(t){return"field-"+t},hasComponent(t){const e=this.getFieldComponentName(t);return!!this.woolentorCustomComponents.find(n=>n.name===e)},classes(t,e=""){return e!==""?e.hasOwnProperty("class")?e.class:"":["woolentor-opt-field",t=="text"?"woolentor-regular-text":`woolentor-opt-field-${t}`]},triggerSubmit(){this.submit()},async submit(t=null){t&&t.preventDefault();try{this.readyToSave.verifynonce=this.woolentorLocalizeData.verifynonce;const e={...this.readyToSave,...this.updateData},o=await this.SAVE_SETTINGS([e,this.$router.currentRoute._value.meta.id,this.dataArray.section]);o&&o.data&&(Y.set(this.fieldId,this.updateData),le({title:"Success",message:"Settings saved successfully",type:"success",duration:2e3,position:"top-right",offset:30}))}catch{le({title:"Error",message:"Failed to save settings. Please try again.",type:"error",duration:3e3,position:"top-right",offset:30})}},async confirmReset(t){this.resetDialogVisible=!1;try{const e=await this.$store.dispatch("RESET_SETTINGS",[{verifynonce:this.woolentorLocalizeData.verifynonce},t,"module"]);e&&e.data&&(Y.invalidate(this.fieldId),this.defaultEnableProperties(),le({title:"Reset!",message:"Settings have been reset successfully.",type:"success",duration:1500,position:"top-right",offset:30}))}catch{le({title:"Error",message:"Failed to reset settings. Please try again.",type:"error",duration:3e3,position:"top-right",offset:30})}},onClick(t){t.target.classList.contains("el-overlay-dialog")&&this.closeModalClick()},resetAlldata(){this.resetDialogVisible=!0},defaultEnableProperties(){this.dataArray.setting_fields.forEach(t=>{this.updateData[t.id]=t.default})},updateFields(t){t&&Object.keys(t).forEach(e=>{const o=t[e],n=this.dataArray.setting_fields.find(s=>s.id===e);if(n)switch(o.type){case"select":n.type==="select"&&(n.options=o.options);break;case"repeater":const s=n.fields.find(a=>a.id===o.field_id);if(s&&(s.type==="select"||s.type==="multiselect")){let a={};o.items.forEach(i=>{a[i.value]=i.label}),s.options=a}break}})},onChange(t){t?.fieldUpdates&&this.updateFields(t.fieldUpdates),this.saveAndResetButtonEnable()},saveAndResetButtonEnable(){this.$store.dispatch("SAVE_MODULE_BUTTON_CONTROL",{text:this.woolentorLocalizeData.labels.saveButton.text,class:"",disabled:!1}),this.$store.dispatch("RESET_MODULE_BUTTON_CONTROL",{text:this.woolentorLocalizeData.labels.resetButton.text,class:"",disabled:!1})},async initializeModal(){this.dialogVisible=!1;try{const t=Y.get(this.fieldId);if(t){this.updateData=t,this.dialogVisible=!0,this.SET_MODULE_SETTING_LOADER({moduleId:this.fieldId,isLoading:!1});return}const e=await this.FETCH_SETTINGS(["SET_SETTINGS",this.dataArray.section]);Y.set(this.fieldId,this.updateData),e&&e.data&&(this.dialogVisible=!0,this.SET_MODULE_SETTING_LOADER({moduleId:this.fieldId,isLoading:!1}))}catch{le({title:"Error",message:"Failed to load settings. Please try again.",type:"error",duration:3e3,position:"top-right",offset:30}),this.SET_MODULE_SETTING_LOADER({moduleId:this.fieldId,isLoading:!1})}},closeModalClick(){this.dialogVisible=!1,this.SET_MODULE_SETTING_LOADER({moduleId:this.fieldId,isLoading:!1}),setTimeout(()=>{this.$emit("openSettingsModal",!1)},500)}}},hc={class:"woolentor-form-wrapper"},gc={class:"woolentor-form-module-fields"},_c={class:"woolentor-footer-resetbutton"},yc={class:"woolentor-footer-savebutton"},Tc={class:"reset-dialog-content",style:{"text-align":"center"}},bc={class:"reset-title"},Ec={class:"reset-message"},vc={class:"dialog-footer"};function wc(t,e,o,n,s,a){const i=M("DefaultField"),r=Ze,p=ha,d=Bn,u=_t,h=re;return m(),E(W,null,[c(u,{modelValue:s.dialogVisible,"onUpdate:modelValue":e[6]||(e[6]=g=>s.dialogVisible=g),width:800,"close-on-click-modal":!1,onClose:a.closeModalClick,class:"woolentor-module-setting-popup",style:{padding:"20px"}},{footer:f(()=>[l("div",{class:"woolentor-module-footer-settings",onClick:e[5]||(e[5]=ge(()=>{},["stop"]))},[l("div",_c,[c(p,{onClick:e[4]||(e[4]=ge(g=>a.resetAlldata(),["stop"]))})]),l("div",yc,[c(d,{onClick:ge(a.submit,["stop"])},null,8,["onClick"])])])]),default:f(()=>[l("div",{class:"woolentor-module-content",onClick:e[3]||(e[3]=ge(()=>{},["stop"]))},[l("form",{onSubmit:e[2]||(e[2]=ge(g=>a.submit(g),["prevent"])),class:"woolentor-module-setting-data"},[l("div",hc,[l("div",gc,[(m(!0),E(W,null,te(s.dataArray.setting_fields,g=>De((m(),E("div",{class:"woolentor-module-field-item",key:g.id},[a.hasComponent(g.type)?(m(),w(ct(a.getFieldComponentName(g.type)),{key:g.id,field:g,model:s.updateData,class:V(a.classes(g.type)),onOnChange:a.onChange,onOpenProModal:e[0]||(e[0]=y=>t.$emit("openProModal",!0)),onTriggerSave:a.triggerSubmit},null,40,["field","model","class","onOnChange","onTriggerSave"])):(m(),w(i,{key:g.id+"unique",field:g,model:s.updateData,class:V(a.classes(g.type)),onOnChange:a.onChange,onOpenProModal:e[1]||(e[1]=y=>t.$emit("openProModal",!0)),onTriggerSave:a.triggerSubmit},null,8,["field","model","class","onOnChange","onTriggerSave"])),g.id!==s.dataArray.setting_fields[s.dataArray.setting_fields.length-1].id?(m(),w(r,{key:2})):S("",!0)])),[[It,n.shouldShowField(g,s.updateData)]])),128))])])],32)])]),_:1},8,["modelValue","onClose"]),c(u,{modelValue:s.resetDialogVisible,"onUpdate:modelValue":e[9]||(e[9]=g=>s.resetDialogVisible=g),width:"420px","close-on-click-modal":!1,"show-close":!1,class:"reset-dialog module-reset-dialog","append-to-body":"",center:""},{footer:f(()=>[l("div",vc,[c(h,{class:"action-button yes-button",onClick:e[7]||(e[7]=g=>a.confirmReset(s.dataArray.section))},{default:f(()=>e[11]||(e[11]=[P(" Yes ")])),_:1}),c(h,{class:"action-button no-button",onClick:e[8]||(e[8]=g=>s.resetDialogVisible=!1)},{default:f(()=>e[12]||(e[12]=[P(" No ")])),_:1})])]),default:f(()=>[l("div",Tc,[e[10]||(e[10]=l("div",{class:"reset-icon"},[l("div",{class:"icon-circle"},[l("svg",{viewBox:"0 0 24 24",width:"32",height:"32"},[l("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z",fill:"#f5a623"})])])],-1)),l("h2",bc,I(t.woolentorLocalizeData.labels.resetButton.alert.one.title),1),l("p",Ec,I(t.woolentorLocalizeData.labels.resetButton.alert.one.text),1)])]),_:1},8,["modelValue"])],64)}const ga=F(mc,[["render",wc]]),Cc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABbCAYAAADdsbM1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAw6SURBVHgB1V1tbBTHGX5m9/buOBv7zDcNIUeSqhLgYNpUbSIicAO0DVKBP6lE1AI/qiofUhqpUsmfAv0DrapApEpR+weoCpX6JyBBP/gQroQKUkU5Y4yaQJ2DQAOmNP62z3e3k3nnfLbP3rvb2Z217x5pdXezs7Mzz77vO+/MvLPHMBP48Foc9dYuMLYeDC3gPDF2Jil+J8HtU9j43ElXZZ3r2CDK2SmODUXlgKVg81PYvPooZgAMQeNv17fBNI6Ib/HyGWXD92MwcxLb1/YUnSoQD+yUxLspJ2ACgyXuQudeIRX7oA4hQciTx1hikmS5B2P78PKq/QgIwRHnnTR9CJC8YIjL26GLqAZw3opNzW3QDANBgEmbVh1gbC8CgH7izt98WzzmBKoHG3D+xk5ohl5V/cu1BCzrGir2oDOOHmQya/HdtSlogj6JI7tWnaQR4rDCF3H2Rgs0wb/EkY/VYIkeFD9BLYB62tHRY36lT504IqrOSogrRc+JNSJlG6pTysqhR9T9JGy0C3uc9NLruidOuhgQhl8MdWqPqMpgOIrRzH63kuiOuAs3DgWpimzEBuvLwuzOwOjLgKU5kM7lT0ZM8AhDblFEfBrIPRlBoHDpNFcm7kLnEeFE7oJmEFHhzkGYn44gJA4VZJ+MIvvsHGSeiYE3hqAdJH0vr95dPks5BDBsIqIil3uVySoFIjGzqk4c9dAKjnewafXhUqdLE5f3yT6BJhBhc/76WKhiFkHAbggh/WKjXgIzmRWlbF5pPy5saRmqGL1ZxP70EHXiCIo0eR9RNj2YqDhYr6b7WFZJu+4scReFy5GzPodPhG4PycawtI2ZBEnfSOs8aQd9ogemkLrWKfODKCVx2ZBvDzvyjx7ETj2acdIIJH2xU93SlvpEHBnhszrdwzG7wRwzuwWRpqHSvqGpHo5CpH12pFpIKyCo+mglLvyvvqoirQAij+rmCYynnJKdictlklAE9Z7Ri777k8BAdTO6R6GKSHr4rlN6CeLQA0WQy1HtkJ3ViFpnteYXbzmqkDNxptognlQhSB9NF6iO4Wv9Std0vfqjhGNZjrkN0zGzY1ahotVo10ohfLVPyUEeWrZiqVO6M3HM2AqXqCXSCORXqtR5aP7i553SpxNHY1Qu59wqgqTN6hxArSEs6uza1jH2tlPydOLC4Z1uV6lC/xlCrULB1sVx7sa0MWsxcWevtahMI4WvqhnaaoJ1Q0FTGPZKTZyECeKINMNyvfpOaloLPWkpUN2Z+/rnV8kmkZcnjhKM8IdQWEsw7+mZiJxNWLdUTI0wX0QezRwJ5Oedae5NMSIodHvYdd7GOgtbXlhUlNY7mEVHVx/uPpwoZ8fGJyrmyZcXEuUtxvLFMfn7xPl70/K4gfFIdSQhOMqFKbxjO/M601v3+89gurzx8sVz0HGkdVo6NfbA8Y9Fw+/L371/fmVant7BDPb89uZ4HirrzC+/ieWLiufaDh6/Jcq6BRXkFoUx+IOlUAbnrQaskKfVK6/27biQDmpgR1e/JOHgj1dKCZqMM5cfyjx3u4eltE7O8+5rX5akEel7fndTlkfYI9LXNc+DCgyvM8WMbRM2jq2BB3idoDxx7p6Uji0/uyJVMa/GS4rynBbEUZ51b16SvylP89MN8nPHxmUy7fX32vHByRTeeO86Ll1/LNN2bFoGFfiYZF1vyIhHRejoTUkF6SCQ5JXKMxnNz8wd/36p4//j309f6ZafLzXPhyqYt7YkgomPcwEiq2CnOrqKh0BxoZZ0/o1tK8bTpNrGwo5l9Q5kMMOIh8BtithOqFxFK+peceLnz4uGjo73iGSrzlzuLspzQNg0OsZ/k70T+dZ5kKiKCHtqS48hFl7boQg/xDVKaYpJ+0bqtmXPlWl56BwdBHJHDo71lr0D+h1uHvXUliR1VW3iUF5D5WIJzot9oE5hsn1yArkfdx8OSbeDOgXqLemau90TDis9gAK5BRs51SZWAi0jeoKNY8ZYiFMbFJFrMBEkiChyWQivjfWWpK4Fsl4fs39EYOH89S61dQXbW9xJSiwttOXllHPlkHZ7URhB4/TlB/KTRgl5CcvgwB8+lmnkz505+A10HP2W7GSI0IOKDrC90EMbON6nsIg8cSR1FGSiAAp2CRrkpxV8vYKEfXAqJTsLSl/33HxJKNlBspWqw66sesjYsUIgTnEIxLmOfW7D28l5nPubTzGbKLgz5Kp4Qf+bTyp0DvwkNjZvL/wqvmpT8z6ZwU0xomfNLgs4yK8CiDCvpJHGKPSoKfRni+Llpl9pygyulgdHv9aAWgXF1LkG57unbsybThxF5nD+Plwg+2zMl083W6DeVCGOrs0puNoomdklRr86F7WG9AuN7jNznHJKdiZOIXyd1NUOIg43IChKG2Q4vwNK6xljKbgpVqjq8LcDGEMGBCVpIxim4ySvFgOVEz1ULajsqMYg69LEKa5BpF+MV7XKUt3SrWozxBI5u8kp2Zm4KWuIbkAqO/Tq4qrsZYm0Qe91Cz4ik2YbBr9fXeTJB7p1oZzN0QntLaSBM5FXDWpLpMm6LPQxIcENx8GAM3H5TRHKwYUFUEVJbWeTPLr3wA+X+iONwOyUU3IZieNt8AFSWyJP+1YhF6B70nqpBvVMYfNqRT+O5p18gsgb/s58ecyE9NE9yJ7R/bTY2TIclN8Ed/4GBeFsgCZQyKt1c9D7QnAJEEnkR9IoRmPHlMLG1StKnSwvBpnMblgygikBDSBfjw4KRqQwq9C9NPxgfPulUE3NPTm9/KC1XIbK+1XzsSXayJsMWtiW+1VvD4nvOZgVwulJ9WnWlqbtAyCrgB7YgrTNa8tuWXC3Q5pCmzLmYRiG9vd3TAWtnE1WZZpsJIJ0+2El0Ca1zMX2crWXGZD0haxt4ioKriaPutb35pPLRW//+rt8uYHCrJC/12dINaZoJ0ZEJlA7OCrG4sf8vHNJz5tuiEDT3DcTquwLHElkM9t1vPFG7yuCFFbJZgHHhHuxC5qg/zVo5zvEuqPz3oBZRFmfzAu09+dL2puSRpUFoy/oCPkeBU2FduKs/szWxjvBxpWooO4BQ92j0a9DM7QTxzhvabjHEOkJ/r2llRAaYYjfEU00I69AM7QSt/BXvAU8m6DvCz4yZMVnC0aWYWFnoQ48vnzfnaehEVrdcdNES7ZuKayB+7LCi9sNPFplY7Seu7re4gxP2cKrtg3ExtIo4u2RYeO/4hEPMXfl0L2JtPBA/sFlo2J2Jrrge+LrYWiC7nHMetuqhx2KiSc+JBuw9KqJgSUcvYKRbNS54TFB2MqcgadyzhL6JduU71u7Y3L8m9sYsJzLISmbe5+BTAV9J3DDQm7OAoy9sk0b9BLH8lNQuTnzYfRPRE/WCwNd/8CUkpeNimW6unzDQ2kmpAJoXi4a7CIMhYid12eis4uLsibKIZLCg0DUwa5K0ghc3/QYQZsRWnJALCdGML54Gxr5H8zhx66u/cpKuCKO0N8HfHTTXd5cuBHZuok9FCyMxGdvsTvQAH2dQ7j4iWajC6TkeQEzDLCQlT8Mb1W0Q3OQixXvH+NptEITdKrq+qkJRB7ZGJI8ZpcPbCaCjLlNMKIxsGis6BwfHYE9mobdSxJcvhzODNERNMl7T4Mh63gUGqCNOGHfW5z0ntSl0FkY6T75ORkkGWZDDKEn5pWULhaOwqSjvhEG7xXX9IHlRoTPOLGlyDYj4OF65CLzJHnOldRn57TYuKn2reJNx6SPpJHQIvz6piZ31/Z8Dlz751g5RBzPjZfjBqKjb+p5h3le+ixAi42zrUp/FVAMaqhKY0uWIyRLtZyoLd8i6xtaiDPyM8I1Ac7UHnIpaCFOV2VmCOuhAb6Jix/icYbaIY7qSnWGT/gmLpzT65HPBHTU2TdxplF7xDGjCoizNdmMGYbvOvtygKV941rtW1IM25PCDrVzLv/wR6z90N9Rgf6WKgFNtrRg5/z4c76Ii2ZFQzzMkgtyaB6DSGoXxCdHhpH840usVMhBGybNo206y1tsGwlSN1HGGlEGjViUjb2VXwdWfjNjAb5GDvTUIhyfVKh4SjDVxvNSlDIySD54191WAJV6yIc4RqYtpLNcT08PTsxorfAjcb6HXIt+zbeJIeYhUZn4ZCnK5ZDMWEjpGN54QYFMbggC80RK6aRzYqS2u/unzNVmv1L4Art2odi1dkomAAAAAElFTkSuQmCC",Sc={name:"ProModal",props:{className:{type:String,default:""}},emits:["openProModal"],methods:{onClick(t){t.target.classList.contains("woolentor-admin-popup")&&this.$emit("openProModal",!1)}},data(){return{proBadgeImg:Cc}},mounted(){document.addEventListener("click",this.onClick)},beforeUnmount(){document.removeEventListener("click",this.onClick)}},Dc={class:"woolentor-admin-popup-inner"},Ac={class:"woolentor-admin-popup-icon"},Lc=["src"],Ic={class:"woolentor-admin-popup-title"},Oc={class:"woolentor-admin-popup-text"},Nc={href:"https://wpwoolenroe.com/pricing/",class:"woolenroe-admin-btn woolenroe-opt-submit woolenroe-admin-btn-primary",target:"_blank"};function xc(t,e,o,n,s,a){return m(),E("div",{id:"woolenroe-admin-pro-popup",class:V(`woolentor-admin-popup ${o.className}`)},[l("div",Dc,[l("button",{class:"woolentor-admin-popup-close",onClick:e[0]||(e[0]=i=>t.$emit("openProModal",!1))},e[1]||(e[1]=[l("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[l("path",{d:"M9.08366 1.73916L8.26116 0.916656L5.00033 4.17749L1.73949 0.916656L0.916992 1.73916L4.17783 4.99999L0.916992 8.26082L1.73949 9.08332L5.00033 5.82249L8.26116 9.08332L9.08366 8.26082L5.82283 4.99999L9.08366 1.73916Z",fill:"currentColor"})],-1)])),l("div",Ac,[l("img",{src:s.proBadgeImg,alt:"pro"},null,8,Lc)]),l("h3",Ic,I(t.woolentorLocalizeData.labels.modal.title),1),l("p",Oc,I(t.woolentorLocalizeData.labels.modal.desc),1),l("a",Nc,I(t.woolentorLocalizeData.labels.modal.buynow),1)])],2)}const _a=F(Sc,[["render",xc],["__scopeId","data-v-5dbc95d9"]]),Rc={name:"FieldHeader",props:["content","value"],emits:["enableAllControl"],data(){return{currentData:this.woolentorLocalizeData.options[this.$route.meta.id]}},methods:{hideShowManage(t){return t===void 0||t===""||t===!0},enableAllControl(t){this.$emit("enableAllControl",t),this.$store.dispatch("SAVE_BUTTON_CONTROL",{text:this.woolentorLocalizeData?.labels?.saveButton?.text||"Save Settings",class:"",disabled:!1})}}},kc={key:0,class:"woolentor-header-area"},Pc={key:0,class:"woolentor-header-content"},Mc={key:0,class:"woolentor-header-title"},Gc={key:1},Fc={class:"woolentor-header-actions"};function Vc(t,e,o,n,s,a){const i=re;return a.hideShowManage(o.content.header)?(m(),E("div",kc,[o.content?(m(),E("div",Pc,[o.content.title?(m(),E("h6",Mc,I(o.content.title),1)):S("",!0),o.content.desc?(m(),E("p",Gc,I(o.content.desc),1)):S("",!0)])):S("",!0),l("div",Fc,[a.hideShowManage(o.content.enableall)?(m(),w(i,{key:0,onClick:e[0]||(e[0]=r=>a.enableAllControl("on")),class:"enable-button",disabled:o.value==="on"},{default:f(()=>[P(I(t.woolentorLocalizeData.labels.enableAllButton.enable),1)]),_:1},8,["disabled"])):S("",!0),a.hideShowManage(o.content.enableall)?(m(),w(i,{key:1,onClick:e[1]||(e[1]=r=>a.enableAllControl("off")),class:"disable-button",disabled:o.value==="off"},{default:f(()=>[P(I(t.woolentorLocalizeData.labels.enableAllButton.disable),1)]),_:1},8,["disabled"])):S("",!0)])])):S("",!0)}const ya=F(Rc,[["render",Vc],["__scopeId","data-v-d33d6401"]]),Uc={name:"fields-wrapper",props:{fields:{},model:{},content:{}},setup(t){const{maybeShowField:e}=kt();return{shouldShowField:n=>e(n,t.model)}},data(){return{enableDisableButtonValue:"",proModalVisible:!1,ModuleModalVisible:!1,fieldId:"",dataElements:[],currentRouteId:this.$route?.meta?.id||""}},components:{DefaulField:Tt,FieldHeader:ya,ProModal:_a,MoudleSettngsModal:ga},computed:{...ze(["woolentorLocalizeData"])},created(){let t=this.fields?this.fields:[];this.enableDisableButtonValue=this.enableDisableButtonManager(t)},watch:{$route:{handler(){this.$nextTick(()=>{this.enableDisableButtonValue=this.enableDisableButtonManager(this.fields),this.currentRouteId=this.$route?.meta?.id||""})},immediate:!0}},methods:{getFieldComponentName(t){return"field-"+t},hasComponent(t){const e=this.getFieldComponentName(t);return!!this.woolentorCustomComponents.find(n=>n.name===e)},classes(t,e=""){return e!==""?e.hasOwnProperty("class")?e.class:"":["woolentor-opt-field",t=="text"?"woolentor-regular-text":`woolentor-opt-field-${t}`]},onChange(t){this.enableDisableButtonValue="",this.$store.dispatch("SAVE_BUTTON_CONTROL",{text:this.woolentorLocalizeData?.labels?.saveButton?.text||"Save Settings",class:"",disabled:!1}),this.$store.dispatch("RESET_BUTTON_CONTROL",{text:this.woolentorLocalizeData?.labels?.resetButton?.text||"Reset All Settings",class:"",disabled:!1})},enableDisableButtonManager(t){if(!t||!Array.isArray(t))return"";const e=this.filterAllCheckboxes(t);if(!e.length)return"";const o=e.every(s=>this.model[s.id]==="on"),n=e.every(s=>this.model[s.id]==="off");return o?"on":n?"off":""},filterAllCheckboxes(t){return Array.isArray(t)?t.filter(e=>(e.type==="element"||e.type==="checkbox"||e.type==="switcher")&&e.is_pro!==!0):[]},enableAllControl(t){const e=t;this.filterAllCheckboxes(this.fields).forEach(n=>{(n.type==="checkbox"||n.type==="element"||n.type==="switcher")&&(this.model[n.id]=e)}),this.enableDisableButtonValue=e,this.$store.dispatch("SAVE_BUTTON_CONTROL",{text:this.woolentorLocalizeData?.labels?.saveButton?.text||"Save Settings",class:"",disabled:!1}),this.$store.dispatch("RESET_BUTTON_CONTROL",{text:this.woolentorLocalizeData?.labels?.resetButton?.text||"Reset All Settings",class:"",disabled:!1})},openProModal(t){this.proModalVisible=t},openSettingsModal(t){this.ModuleModalVisible=t,this.fieldId=t}}},Bc={class:"woolentor-form-wrapper"};function Hc(t,e,o,n,s,a){const i=ya,r=Ze,p=Tt,d=tt,u=et,h=_a,g=ga;return m(),E("div",Bc,[c(i,{content:o.content,value:s.enableDisableButtonValue,onEnableAllControl:a.enableAllControl},null,8,["content","value","onEnableAllControl"]),l("div",{class:V(`woolentor-fields-area ${s.currentRouteId}`)},[c(u,{gutter:20},{default:f(()=>[(m(!0),E(W,null,te(o.fields,y=>De((m(),w(d,{key:y.id,style:Ae({"padding-bottom":o.content.column?"30px":"","padding-top":y.type==="title"||y?.column===1?"0":""}),span:y.type==="title"||y?.column===1?24:o.content.column===3?8:o.content.column===2?12:o.content.column===4?6:24,md:y.type==="title"||y?.column===1?24:o.content.column===3||o.content.column===4?8:o.content.column===2?12:24,sm:y.type==="title"||y?.column===1?24:o.content.column===3||o.content.column===2||o.content.column===4?12:24,xs:24,class:V(`${y.type==="title"?"woolentor-admin-option-title":"woolentor-admin-option-field"} woolentor-filed-type-${y.type}`)},{default:f(()=>[y?.column===1?(m(),w(r,{key:0})):S("",!0),a.hasComponent(y.type)?(m(),w(ct(a.getFieldComponentName(y.type)),{key:y.id,field:y,model:o.model,class:V(a.classes(y.type)),onOnChange:a.onChange,onOpenProModal:a.openProModal,onOpenSettingsModal:_=>a.openSettingsModal(y.id)},null,40,["field","model","class","onOnChange","onOpenProModal","onOpenSettingsModal"])):(m(),w(p,{key:y.id+"unique",field:y,model:o.model,class:V(a.classes(y.type)),onOnChange:a.onChange,onOpenProModal:a.openProModal,onOpenSettingsModal:_=>a.openSettingsModal(y.id)},null,8,["field","model","class","onOnChange","onOpenProModal","onOpenSettingsModal"])),y.id!==o.fields[o.fields.length-1].id&&!o.content.column?(m(),w(r,{key:3,mar:""})):S("",!0)]),_:2},1032,["style","span","md","sm","class"])),[[It,n.shouldShowField(y)]])),128))]),_:1})],2),s.proModalVisible?(m(),w(h,{key:0,className:s.proModalVisible?"open":"",onOpenProModal:a.openProModal},null,8,["className","onOpenProModal"])):S("",!0),s.ModuleModalVisible?(m(),w(g,{key:1,fields:o.fields,onOnChange:a.onChange,model:o.model,fieldId:s.fieldId,className:s.ModuleModalVisible?"open":"",onOpenSettingsModal:a.openSettingsModal,onOpenProModal:a.openProModal},null,8,["fields","onOnChange","model","fieldId","className","onOpenSettingsModal","onOpenProModal"])):S("",!0)])}const rs=F(Uc,[["render",Hc],["__scopeId","data-v-b1885335"]]),zc={name:"SubTabNavigation",props:{sections:{type:[Object,Array,Boolean],default:()=>[]},model:{type:Object,default:()=>({})},content:{type:Object,default:()=>({})},parentName:{type:String,required:!0},parentPath:{type:String,required:!0}},created(){this.handleParentRouteRedirect()},watch:{$route:{immediate:!0,handler(t){this.handleParentRouteRedirect()}}},methods:{handleParentRouteRedirect(){(this.$route.path===this.parentPath||this.$route.path===`${this.parentPath}/`)&&this.sections.length>0&&this.$nextTick(()=>{this.$router.push(this.sections[0].path).catch(t=>{if(t.name!=="NavigationDuplicated")throw t})})},isFirstTabActive(t){return this.$route.path===this.parentPath&&this.sections.length>0&&this.sections[0].path===t.path}}},jc={class:"woolentor-opt-sub-sections-wrapper"},qc={key:0,class:"woolentor-nested-tabs-area"},$c={class:"woolentor-nested-tabs"},Wc=["onClick"];function Yc(t,e,o,n,s,a){const i=M("router-link"),r=M("router-view");return m(),E("div",jc,[o.sections.length>0?(m(),E("div",qc,[l("ul",$c,[(m(!0),E(W,null,te(o.sections,p=>(m(),E("li",{key:p.path},[p.name?(m(),w(i,{key:0,to:p.path,custom:""},{default:f(({navigate:d,isActive:u,isExactActive:h})=>[l("a",{href:"#",onClick:d,class:V(["woolentor-opt-sub-section",{wlactive:u||a.isFirstTabActive(p)},{"wlexact-active":h}])},I(p.name),11,Wc)]),_:2},1032,["to"])):S("",!0)]))),128))])])):S("",!0),c(r,{model:o.model,content:o.content},null,8,["model","content"])])}const Kc=F(zc,[["render",Yc],["__scopeId","data-v-43f1a2c6"]]),Jc={name:"License",setup(){const{licenseInfo:t,isLoading:e,isActivating:o,isDeactivating:n,isValid:s,activateLicense:a,deactivateLicense:i,initializeLicense:r}=ma(),p=G(null),d=wo({licenseKey:"",email:""}),u=G(!1),h={licenseKey:[{required:!0,message:"Please enter your license key",trigger:"submit"}],email:[{required:!0,message:"Please enter your email",trigger:"submit"},{type:"email",message:"Please enter a valid email address",trigger:"submit"}]},g=se(()=>s.value?"ShopLentor Pro License Info":"ShopLentor Pro Licensing"),y=async()=>{if(p.value)try{await p.value.validate();const b=await a(d.licenseKey,d.email);if(b?.data?.is_valid)K({message:"License activated successfully!",type:"success",duration:3e3,offset:50});else throw new Error(b?.message||"License activation failed")}catch(b){K({message:b.message||"Failed to activate license. Please check your inputs and try again.",type:"error",duration:4e3,offset:50})}},_=()=>{u.value=!0},T=async()=>{try{u.value=!1,await i(),K({message:"License deactivated successfully",type:"success",duration:3e3,offset:50}),d.licenseKey="",d.email=window?.woolentorOptions?.userData?.email||""}catch{K({message:"Failed to deactivate license. Please try again.",type:"error",duration:4e3,offset:50})}};return Qe(async()=>{d.email=window?.woolentorOptions?.userData?.email||""}),{formData:d,formRules:h,licenseForm:p,showDeactivateConfirm:u,pageTitle:g,licenseInfo:t,isLoading:e,isActivating:o,isDeactivating:n,isValid:s,handleActivation:y,confirmDeactivation:_,handleDeactivation:T}}},Xc={class:"license-management-wrapper"},Qc={class:"card-header"},Zc={key:1},ed={key:0,class:"loading-state"},td={key:1,class:"license-form"},nd={key:2,class:"license-info"},od={class:"license-details"},sd={class:"action-buttons"},ad={class:"dialog-footer"};function id(t,e,o,n,s,a){const i=yt,r=dt,p=Cs,d=re,u=Ss,h=Xt,g=oe,y=_t;return m(),E("div",Xc,[c(g,{class:"license-card",shadow:"never"},{header:f(()=>[l("div",Qc,[n.isLoading?(m(),w(i,{key:0,rows:1,animated:""})):(m(),E("h3",Zc,I(n.pageTitle),1))])]),default:f(()=>[n.isLoading?(m(),E("div",ed,[c(i,{rows:4,animated:""})])):n.isValid?(m(),E("div",nd,[l("ul",od,[l("li",null,[e[8]||(e[8]=l("strong",null,"Status:",-1)),c(h,{type:"success"},{default:f(()=>e[7]||(e[7]=[P("Active")])),_:1})]),l("li",null,[e[9]||(e[9]=l("strong",null,"License Type:",-1)),l("span",null,I(n.licenseInfo?.data?.license_title),1)]),l("li",null,[e[10]||(e[10]=l("strong",null,"License Key:",-1)),l("span",null,I(n.licenseInfo?.data?.license_key),1)]),l("li",null,[e[11]||(e[11]=l("strong",null,"Expiry Date:",-1)),l("span",null,I(n.licenseInfo?.data?.expire_date),1)]),l("li",null,[e[12]||(e[12]=l("strong",null,"Support Until:",-1)),l("span",null,I(n.licenseInfo?.data?.support_end),1)])]),l("div",sd,[c(d,{type:"danger",onClick:n.confirmDeactivation,loading:n.isDeactivating,size:"large"},{default:f(()=>e[13]||(e[13]=[P(" Deactivate License ")])),_:1},8,["onClick","loading"])])])):(m(),E("div",td,[e[6]||(e[6]=l("p",{class:"form-description"},"Enter your license key here, to activate the product, and get future updates and premium support.",-1)),c(u,{ref:"licenseForm",model:n.formData,rules:n.formRules,onSubmit:ge(n.handleActivation,["prevent"])},{default:f(()=>[c(p,{prop:"licenseKey"},{default:f(()=>[c(r,{modelValue:n.formData.licenseKey,"onUpdate:modelValue":e[0]||(e[0]=_=>n.formData.licenseKey=_),placeholder:"Enter your license key",disabled:n.isActivating,size:"large","validate-event":!1},null,8,["modelValue","disabled"])]),_:1}),c(p,{prop:"email"},{default:f(()=>[c(r,{modelValue:n.formData.email,"onUpdate:modelValue":e[1]||(e[1]=_=>n.formData.email=_),placeholder:"Enter your email",disabled:n.isActivating,size:"large","validate-event":!1},null,8,["modelValue","disabled"])]),_:1}),e[5]||(e[5]=l("p",{class:"form-description"},"We will send update news of this product by this email address, don't worry, we hate spam",-1)),c(p,null,{default:f(()=>[c(d,{type:"primary",onClick:n.handleActivation,loading:n.isActivating,size:"large"},{default:f(()=>e[4]||(e[4]=[P(" Activate License ")])),_:1},8,["onClick","loading"])]),_:1})]),_:1},8,["model","rules","onSubmit"])]))]),_:1}),c(y,{modelValue:n.showDeactivateConfirm,"onUpdate:modelValue":e[3]||(e[3]=_=>n.showDeactivateConfirm=_),title:"Confirm Deactivation",width:"30%","close-on-click-modal":!1},{footer:f(()=>[l("span",ad,[c(d,{onClick:e[2]||(e[2]=_=>n.showDeactivateConfirm=!1)},{default:f(()=>e[14]||(e[14]=[P("Cancel")])),_:1}),c(d,{type:"danger",onClick:n.handleDeactivation},{default:f(()=>e[15]||(e[15]=[P(" Confirm Deactivation ")])),_:1},8,["onClick"])])]),default:f(()=>[e[16]||(e[16]=l("span",null,"Are you sure you want to deactivate your license? This will disable all pro features.",-1))]),_:1},8,["modelValue"])])}const ld=F(Jc,[["render",id],["__scopeId","data-v-d6ff66f7"]]),rd={class:"template-thumbnail"},cd={class:"image-placeholder"},dd={class:"template-info"},ud={class:"template-header"},pd={class:"template-title"},fd={class:"template-actions"},md={__name:"TemplateGrid",props:{template:{type:Object,required:!0},checkingRequirement:{type:Number,default:!1}},emits:["preview","import"],setup(t,{emit:e}){const o=e,n=a=>{o("preview",a)},s=a=>{o("import",a)};return(a,i)=>{const r=M("PictureFilled"),p=we,d=Ao,u=Xt,h=re,g=oe;return m(),w(g,{class:"template-card",shadow:"hover","body-style":{padding:"0px"}},{default:f(()=>[l("div",rd,[c(d,{src:t.template.thumbnail,alt:t.template.title,loading:"lazy",style:{"transform-origin":"top"},class:"library-template-image",onClick:i[0]||(i[0]=y=>n(t.template))},{error:f(()=>[l("div",cd,[c(p,null,{default:f(()=>[c(r)]),_:1})])]),_:1},8,["src","alt"])]),l("div",dd,[l("div",ud,[l("h3",pd,I(t.template.title),1),c(u,{type:t.template.tmpType==="pro"?"warning":"success",size:"small",effect:"plain"},{default:f(()=>[P(I(t.template.tmpType==="pro"?"PRO":"FREE"),1)]),_:1},8,["type"])]),l("div",fd,[c(h,{plain:"",onClick:i[1]||(i[1]=y=>n(t.template))},{default:f(()=>i[3]||(i[3]=[P("Preview")])),_:1}),c(h,{type:"primary",loading:t.checkingRequirement===t.template.id,disabled:t.checkingRequirement===t.template.id,onClick:i[2]||(i[2]=y=>s(t.template))},{default:f(()=>[P(I(t.template.isPro?"Buy Now":"Import"),1)]),_:1},8,["loading","disabled"])])])]),_:1})}}},Ta=F(md,[["__scopeId","data-v-f2163ace"]]),hd={class:"templates-header"},gd={class:"header-title"},_d={class:"header-actions"},yd={__name:"TemplateHeader",props:{selectedCategory:{type:String,required:!0},categories:{type:Array,required:!0},searchQuery:{type:String,default:""},pricingFilter:{type:String,default:"all"},isRefreshing:{type:Boolean,default:!1}},emits:["handleRefresh","update:searchQuery","update:pricingFilter"],setup(t,{emit:e}){const o=t,n=e,s=()=>{n("handleRefresh")},a=u=>{n("update:searchQuery",u)},i=u=>{n("update:pricingFilter",u)},r=u=>{const h=o.categories.find(g=>g.id===u);return h?h.name+" Templates":"Templates"},p=()=>woolentorOptions?.isPro==="yes",d=u=>{window.open(u,"_blank")};return(u,h)=>{const g=dt,y=Ot,_=Nt,T=re;return m(),E("div",hd,[l("h1",gd,I(o.selectedCategory==="all"?"All Templates":r(o.selectedCategory)),1),l("div",_d,[c(g,{modelValue:o.searchQuery,"onUpdate:modelValue":h[0]||(h[0]=b=>o.searchQuery=b),placeholder:"Search templates...","prefix-icon":ro(Lo),clearable:"",class:"search-input",onInput:a},null,8,["modelValue","prefix-icon"]),c(_,{modelValue:o.pricingFilter,"onUpdate:modelValue":h[1]||(h[1]=b=>o.pricingFilter=b),placeholder:"All",class:"pricing-filter",onChange:i},{default:f(()=>[c(y,{label:"All",value:"all"}),c(y,{label:"Free",value:"free"}),c(y,{label:"Pro",value:"pro"})]),_:1},8,["modelValue"]),c(T,{icon:ro(Ds),circle:"",loading:o.isRefreshing,onClick:s},null,8,["icon","loading"]),p()?S("",!0):(m(),w(T,{key:0,type:"primary",onClick:h[2]||(h[2]=b=>d("https://woolentor.com/pricing/?utm_source=admin&utm_medium=library"))},{default:f(()=>h[3]||(h[3]=[P("Upgrade To PRO")])),_:1}))])])}}},ba=F(yd,[["__scopeId","data-v-a0c7732b"]]),Td={class:"categories-sidebar"},bd={class:"sidebar-header"},Ed={class:"sidebar-content"},vd={class:"skeleton-category",style:{display:"flex","justify-content":"space-between"}},wd={key:1,class:"category-list"},Cd=["onClick"],Sd={__name:"TemplateSidebar",props:{categories:{type:Array,required:!0},selectedCategory:{type:String,required:!0},isLoading:{type:Boolean,default:!1},filterType:{type:String,default:"all"}},emits:["select-category","update:filterType"],setup(t,{emit:e}){const o=t,n=e,s=i=>{n("select-category",i)},a=se({get:()=>o.filterType,set:i=>{i!==o.filterType&&n("update:filterType",i)}});return(i,r)=>{const p=re,d=Ot,u=Nt,h=xn,g=yt,y=Xt,_=Yt;return m(),E("div",Td,[l("div",bd,[r[1]||(r[1]=l("h3",null,"Categories",-1)),c(p,{type:"text",icon:ro(pi)},null,8,["icon"])]),l("div",Ed,[c(u,{modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=T=>a.value=T),placeholder:"All Builders",class:"filter-select",disabled:t.isLoading},{default:f(()=>[c(d,{label:"All Builders",value:"all"}),c(d,{label:"Elementor",value:"elementor"})]),_:1},8,["modelValue","disabled"]),t.isLoading?(m(),E(W,{key:0},te(16,T=>l("div",{key:T,class:"category-skeleton",style:{margin:"20px 0"}},[c(g,{animated:""},{template:f(()=>[l("div",vd,[c(h,{variant:"text",style:{width:"85%",height:"20px"}}),c(h,{variant:"text",style:{width:"10%",height:"20px"}})])]),_:1})])),64)):(m(),E("div",wd,[c(_,{"max-height":"calc(100vh - 200px)"},{default:f(()=>[(m(!0),E(W,null,te(t.categories,T=>(m(),E("div",{key:T.id,class:V(["category-item",{active:t.selectedCategory===T.id}]),onClick:b=>s(T)},[l("span",null,I(T.name),1),c(y,{type:"primary"},{default:f(()=>[P(I(T.count),1)]),_:2},1024)],10,Cd))),128))]),_:1})]))])])}}},Ea=F(Sd,[["__scopeId","data-v-996a0b3d"]]),Dd={name:"TemplateGridSkeleton",props:{numberOfGrid:{type:Number,default:12}}},Ad={class:"templategrid-skeleton"},Ld={class:"skeleton-card",style:{"margin-top":"20px"}},Id={class:"skeleton-content"},Od={class:"skeleton-buttons"};function Nd(t,e,o,n,s,a){const i=xn,r=tt,p=et,d=yt;return m(),E("div",Ad,[c(d,{animated:"",rows:1},{template:f(()=>[c(p,{gutter:20},{default:f(()=>[(m(!0),E(W,null,te(o.numberOfGrid,u=>(m(),w(r,{xs:24,sm:12,md:8,lg:6,xl:6,key:u},{default:f(()=>[l("div",Ld,[c(i,{variant:"image",style:{width:"100%",height:"200px"}}),l("div",Id,[c(i,{variant:"text",style:{width:"80%",margin:"10px 0"}}),l("div",Od,[c(i,{variant:"button",style:{width:"45%",height:"35px"}}),c(i,{variant:"button",style:{width:"45%",height:"35px"}})])])])]),_:2},1024))),128))]),_:1})]),_:1})])}const xd=F(Dd,[["render",Nd],["__scopeId","data-v-59e37779"]]),Hn=()=>{const t={NOT_INSTALLED:"not_installed",INSTALLING:"installing",INACTIVE:"inactive",ACTIVATING:"activating",ACTIVE:"active"},e=(g,y=!1)=>{if(y)switch(g){case t.NOT_INSTALLED:case t.INSTALLING:return"Installing...";case t.INACTIVE:case t.ACTIVATING:return"Activating...";default:return"Processing..."}switch(g){case t.NOT_INSTALLED:return"Install";case t.INACTIVE:return"Activate";case t.ACTIVE:return"Activated";default:return"Install"}},o=async(g,y)=>{try{if(y&&y(g.slug,t.INSTALLING),(await Z.post("/woolentoropt/v1/install-plugin",{slug:g.slug,nonce:woolentorOptions.verifynonce})).data.success)return i("Success","Plugin installed successfully","success"),t.INACTIVE}catch(_){throw r(_),_}},n=async(g,y)=>{try{if(y&&y(g.slug,t.ACTIVATING),(await Z.post("/woolentoropt/v1/activate-plugin",{slug:g.slug,nonce:woolentorOptions.verifynonce})).data.success)return i("Success","Plugin activated successfully","success"),t.ACTIVE}catch(_){throw r(_),_}},s=async(g,y)=>{try{let _=null;return g.status===t.NOT_INSTALLED?await o(g,y)===t.INACTIVE&&(_=await n(g,y)):g.status===t.INACTIVE&&(_=await n(g,y)),_&&y&&y(g.slug,_),_}catch(_){return r(_),y&&y(g.slug,g.status),null}},a=async g=>{try{const y=await Z.get("/woolentoropt/v1/plugins-status",{params:{plugins:Array.isArray(g)?g.join(","):g,nonce:woolentorOptions.verifynonce}});return y.data.success?y.data.plugins:[]}catch(y){return r(y),[]}},i=(g,y,_="success")=>{le({title:g,message:y,type:_,duration:3e3,offset:30})},r=g=>{let y="An error occurred";g.response&&(y=g.response.data.message||y),i("Error",y,"error")},p=g=>g.status===t.ACTIVE||g.status===t.INSTALLING||g.status===t.ACTIVATING||g.isLoading,d=async g=>{try{const y=g.map(T=>T.slug).join(","),_=await Z.get("/woolentoropt/v1/plugins-info",{params:{slugs:y,nonce:woolentorOptions.verifynonce}});if(_.data.success){const T=_.data.plugins;return g.map(b=>{const C=T[b.slug];return C?{...b,description:C.short_description||b.description,version:C.version,rating:C.rating,num_ratings:C.num_ratings,active_installs:C.active_installs,last_updated:C.last_updated,author:C.author,author_profile:C.author_profile,download_link:C.download_link,homepage:C.homepage,icons:C.icons||{},banners:C.banners||{}}:b})}return g}catch(y){return console.error("Error fetching plugins data:",y),g}};return{PLUGIN_STATES:t,getPluginButtonText:e,handlePluginAction:s,fetchPluginStatus:a,isPluginManaged:p,fetchPluginsData:d,initializePluginsWithData:async(g,y="wordpress")=>{try{const _=y==="local"?g:await d(g),T=_.map(C=>C.slug),b=await a(T);return _.map(C=>{const L=b.find(D=>D.slug===C.slug);return{...C,status:L?L.status:"not_installed"}})}catch(_){return console.error("Error initializing plugins:",_),g}},formatNumber:g=>g>=1e6?(g/1e6).toFixed(1)+"M":g>=1e3?(g/1e3).toFixed(1)+"K":g}};function Rd(){const t=Nn(),e=G(null),o=G(!1),n=se(()=>t.getters["template/GET_TEMPLATES_LOADING"]),s=se(()=>t.getters["template/GET_TEMPLATES"]||[]),a=se(()=>t.getters["template/GET_FILTERED_TEMPLATES"]||[]),i=se(()=>t.getters["template/GET_CATEGORIES"]||[]);return{isLoading:n,isImporting:o,templates:s,filteredTemplates:a,categories:i,error:e,initializeTemplates:async()=>{e.value=null;try{await Ft.init()}catch(u){e.value=u}},refreshTemplates:async()=>{e.value=null;try{await Ft.refreshTemplates()}catch(u){e.value=u}},importTemplate:async(u,h)=>{e.value=null,o.value=!0;try{const g=await Ft.importTemplate(u,h);return o.value=!1,g}catch(g){throw e.value=g,o.value=!1,g}},templateService:Ft}}const kd={name:"TemplateLibrary",components:{TemplateGrid:Ta,TemplateGridSkeleton:xd,SuccessFilled:$o,Loading:Do,TemplateSidebar:Ea,TemplateHeader:ba},setup(){const t=G(null),{PLUGIN_STATES:e,getPluginButtonText:o,handlePluginAction:n,fetchPluginStatus:s,initializePluginsWithData:a}=Hn(),{isLoading:i,isImporting:r,templates:p,categories:d,error:u,initializeTemplates:h,refreshTemplates:g,importTemplate:y}=Rd(),_=G("all"),T=G(""),b=G("all"),C=G("all"),L=G(!1),D=G(!1),k=G(null),N=G(null),x=G(!1),O=G(!1),ue=G(null),X=G([]),Re=G(""),Te=G(null),ke=G(1),Le=G(16),R=G(!0),ne=se(()=>p.value||[]),ae=se(()=>{const z=[{id:"all",name:"All Templates",count:ne.value.length}],Q=d.value||[];return[...z,...Q]}),he=se(()=>{let z=ne.value;if(_.value!=="all"&&(z=z.filter(Q=>Q.shareId.toLowerCase().replace(/\s+/g,"-")===_.value)),C.value==="free"?z=z.filter(Q=>Q.tmpType==="free"):C.value==="pro"&&(z=z.filter(Q=>Q.tmpType==="pro")),b.value==="elementor"&&(z=z.filter(Q=>Q.builder.includes("elementor"))),T.value){const Q=T.value.toLowerCase();z=z.filter(_e=>_e.title.toLowerCase().includes(Q)||_e.shareId?.toLowerCase().includes(Q))}return z}),Ie=se(()=>{const z=ke.value*Le.value;return he.value.slice(0,z)});Co([_,T,b,C],()=>{ke.value=1,R.value=!0}),Qe(async()=>{try{await h()}catch{le({title:"Error",message:"Failed to load templates. Please try again later.",type:"error",duration:4e3})}});const Ce=z=>{const Q=ae.value.find(_e=>_e.id===z);return Q?Q.name+" Templates":"Templates"},Ue=()=>{if(!ue.value)return;const{scrollTop:z,scrollHeight:Q,clientHeight:_e}=ue.value;z+_e>=Q-200&&!O.value&&R.value&&Ke()},Ke=async()=>{const z=he.value.length;if(Ie.value.length>=z){R.value=!1;return}O.value=!0;try{await new Promise(_e=>setTimeout(_e,800)),ke.value++,Ie.value.length>=z&&(R.value=!1)}catch(_e){console.error("Error loading more templates:",_e)}finally{O.value=!1}};return{selectedCategory:_,searchQuery:T,filterType:b,pricingFilter:C,isLoading:i,isImporting:r,isRefreshing:x,previewDialogVisible:L,importDialogVisible:D,selectedTemplate:k,importingTemplateId:N,loadingMore:O,hasMoreTemplates:R,templatesGridRef:ue,requiredPlugins:X,isCheckingRequirement:t,PLUGIN_STATES:e,pageTitle:Re,importResponse:Te,categories:ae,templates:ne,filteredTemplates:he,displayedTemplates:Ie,getCategoryName:Ce,handlePreview:z=>{k.value=z,L.value=!0},handleImport:async z=>{if(z.isPro){window.open("https://woolentor.com/pricing/?utm_source=admin&utm_medium=library","_blank");return}t.value=z.id,Te.value=null;try{const Q=z?.freePlugins||[],_e=z?.proPlugins||[];X.value=[...Q.map(ot=>{const be=ot.split("//");return{slug:be[0],location:`${be[0]}/${be[1]}`,name:be[2],isLoading:!1,link:typeof be[3]<"u"?`https://${be[3]}`:"#",status:"not_installed"}}),..._e.map(ot=>{const be=ot.split("//");return{slug:be[0],location:`${be[0]}/${be[1]}`,name:be[2],isLoading:!1,link:typeof be[3]<"u"?`https://${be[3]}`:"#",status:"not_installed",is_pro:!0}})];const ln=X.value.map(ot=>ot.slug);let Et=null;const Mt=ln.join(",")+"cache",rn=Y.get(Mt);rn?Et=rn:(Et=await s(ln),Y.set(Mt,Et,{duration:6e3})),X.value=X.value.map(ot=>{const be=Et.find(Ya=>Ya.slug===ot.slug);return{...ot,status:be?be.status:"not_installed"}}),k.value=z,D.value=!0}catch(Q){console.error("Error checking template import status:",Q)}finally{t.value=null}},confirmImport:async(z="builder")=>{if(k.value){N.value=k.value.id,Re.value&&(k.value.title=Re.value);try{const Q=await y(k.value,z);Q.id&&(Te.value=Q),le({title:"Success",message:`"${k.value.title}" has been imported successfully.`,type:"success",duration:3e3,position:"top-right",offset:30})}catch(Q){le({title:"Error",message:Q.message||"Failed to import template. Please try again.",type:"error",duration:4e3,position:"top-right",offset:30})}finally{N.value=null}}},handleRefresh:async()=>{x.value=!0,ke.value=1,R.value=!0;try{await g(),le({title:"Success",message:"Templates refreshed successfully.",type:"success",duration:2e3,position:"top-right",offset:30})}catch{le({title:"Error",message:"Failed to refresh templates. Please try again.",type:"error",duration:3e3,position:"top-right",offset:30})}finally{x.value=!1}},handleScroll:Ue,loadMoreTemplates:Ke,handleCategorySelect:z=>{_.value=z.id},getPluginButtonText:o,handlePluginAction:n,toggleActivation:async z=>{if(z.status===e.NOT_INSTALLED&&z?.is_pro){window.open(z.link,"_blank");return}else{const Q=X.value.findIndex(_e=>_e.slug===z.slug);if(Q===-1)return;X.value[Q].isLoading=!0;try{const _e=await n(z,(ln,Et)=>{const Mt=X.value.findIndex(rn=>rn.slug===ln);Mt!==-1&&(X.value[Mt].status=Et)});_e&&(X.value[Q].status=_e)}finally{X.value[Q].isLoading=!1}}},goEdit:()=>{let z=`${woolentorOptions.adminUrl}post.php?post=${Te.value.id}&action=elementor`;window.open(z,"_blank")},SuccessFilled:$o}}},Pd={class:"template-library-container"},Md={class:"templates-content"},Gd={key:0,class:"loading-more"},Fd={key:1,class:"end-of-results"},Vd={key:0,class:"preview-content"},Ud={class:"preview-iframe-wrapper"},Bd=["src"],Hd={key:1,class:"preview-placeholder"},zd={key:0,class:"loading",style:{"text-align":"center","margin-bottom":"20px","padding-top":"20px","border-top":"1px solid #ddd"}},jd={key:0,style:{"text-align":"center","border-top":"1px solid #ddd","padding-top":"30px","margin-bottom":"30px"}},qd={class:"success-icon"},$d={style:{"margin-top":"0"}},Wd={class:"success-actions",style:{margin:"20px 0 15px"}},Yd={key:1},Kd={key:0,class:"required-plugins"},Jd={class:"plugin-info"},Xd={class:"plugin-actions"},Qd={class:"template-import-actions"},Zd={class:"template-import-page-actions"};function eu(t,e,o,n,s,a){const i=Ea,r=ba,p=M("TemplateGridSkeleton"),d=M("templates"),u=vs,h=Ta,g=tt,y=et,_=Ao,T=_t,b=M("Loading"),C=we,L=M("SuccessFilled"),D=re,k=Ze,N=dt;return m(),E("div",Pd,[c(i,{categories:n.categories,selectedCategory:n.selectedCategory,isLoading:n.isLoading,filterType:n.filterType,"onUpdate:filterType":e[0]||(e[0]=x=>n.filterType=x),onSelectCategory:n.handleCategorySelect},null,8,["categories","selectedCategory","isLoading","filterType","onSelectCategory"]),l("div",Md,[c(r,{selectedCategory:n.selectedCategory,categories:n.categories,searchQuery:n.searchQuery,"onUpdate:searchQuery":e[1]||(e[1]=x=>n.searchQuery=x),pricingFilter:n.pricingFilter,"onUpdate:pricingFilter":e[2]||(e[2]=x=>n.pricingFilter=x),isRefreshing:n.isRefreshing,onHandleRefresh:n.handleRefresh},null,8,["selectedCategory","categories","searchQuery","pricingFilter","isRefreshing","onHandleRefresh"]),l("div",{class:"templates-grid",ref:"templatesGridRef",onScroll:e[3]||(e[3]=(...x)=>n.handleScroll&&n.handleScroll(...x))},[n.isLoading&&!n.loadingMore?(m(),w(d,{key:0},{default:f(()=>[c(p)]),_:1})):(m(),w(d,{key:1},{default:f(()=>[n.displayedTemplates.length===0?(m(),w(u,{key:0,description:"No templates found"})):(m(),E(W,{key:1},[c(y,{gutter:20},{default:f(()=>[(m(!0),E(W,null,te(n.displayedTemplates,x=>(m(),w(g,{key:x.id,xs:24,sm:12,md:8,lg:6,xl:6},{default:f(()=>[c(h,{template:x,onPreview:n.handlePreview,onImport:n.handleImport,checkingRequirement:n.isCheckingRequirement},null,8,["template","onPreview","onImport","checkingRequirement"])]),_:2},1024))),128))]),_:1}),n.loadingMore?(m(),E("div",Gd,[c(p,{numberOfGrid:4})])):S("",!0),!n.hasMoreTemplates&&n.displayedTemplates.length>0&&!n.loadingMore?(m(),E("div",Fd,e[11]||(e[11]=[l("span",null,"All Templates have been Loaded",-1)]))):S("",!0)],64))]),_:1}))],544)]),c(T,{modelValue:n.previewDialogVisible,"onUpdate:modelValue":e[4]||(e[4]=x=>n.previewDialogVisible=x),"z-index":9995,title:n.selectedTemplate?.title||"Template Preview",fullscreen:!1,"show-close":!0,class:"template-preview-dialog",top:"46px"},{default:f(()=>[n.selectedTemplate?(m(),E("div",Vd,[l("div",Ud,[n.selectedTemplate.previewUrl?(m(),E("iframe",{key:0,src:n.selectedTemplate.previewUrl,frameborder:"0",width:"100%",height:"100%"},null,8,Bd)):(m(),E("div",Hd,[c(_,{src:n.selectedTemplate.thumbnail,fit:"contain"},null,8,["src"])]))])])):S("",!0)]),_:1},8,["modelValue","title"]),c(T,{modelValue:n.importDialogVisible,"onUpdate:modelValue":e[10]||(e[10]=x=>n.importDialogVisible=x),title:`${n.selectedTemplate?.shareId}  ${n.selectedTemplate?.title}`||"Import Template",width:"30%","close-on-click-modal":!1},{default:f(()=>[n.isImporting?(m(),E("div",zd,[c(C,{class:"is-loading",size:"48"},{default:f(()=>[c(b)]),_:1}),e[12]||(e[12]=l("p",{style:{"margin-top":"10px"}},"Importing Template...",-1))])):(m(),E(W,{key:1},[n.importResponse?(m(),E("div",jd,[l("div",qd,[c(C,{size:"48",color:"#67C23A"},{default:f(()=>[c(L)]),_:1})]),e[14]||(e[14]=l("h2",{style:{"margin-top":"0","margin-bottom":"5px"}},"Template Imported Successfully!",-1)),l("p",$d,I(n.selectedTemplate.shareId)+" -> "+I(n.selectedTemplate.title)+" has been imported.",1),l("div",Wd,[c(D,{type:"primary",onClick:n.goEdit},{default:f(()=>[P(I(n.importResponse.edittxt),1)]),_:1},8,["onClick"]),c(D,{onClick:e[5]||(e[5]=x=>n.importDialogVisible=!1)},{default:f(()=>e[13]||(e[13]=[P("Close")])),_:1})])])):(m(),E("div",Yd,[n.requiredPlugins?.length>0?(m(),E("div",Kd,[l("ul",null,[(m(!0),E(W,null,te(n.requiredPlugins,x=>(m(),E("li",{key:x.id},[l("div",Jd,[l("span",null,I(x.name),1)]),l("div",Xd,[c(D,{type:"primary",loading:x.isLoading,disabled:x.status===n.PLUGIN_STATES.ACTIVE||x.status===n.PLUGIN_STATES.INSTALLING||x.status===n.PLUGIN_STATES.ACTIVATING,onClick:O=>n.toggleActivation(x),class:V({"is-active":x.status==="active","is-not-installed":x.status==="not_installed"})},{default:f(()=>[P(I(x.status===n.PLUGIN_STATES.NOT_INSTALLED&&x?.is_pro?"Buy Now":n.getPluginButtonText(x.status,x.isLoading)),1)]),_:2},1032,["loading","disabled","onClick","class"])])]))),128))])])):S("",!0),e[19]||(e[19]=l("p",null,"You can import the template either into the Elementor Template Library or the ShopLentor Builder.",-1)),l("div",Qd,[c(D,{type:"primary",size:"large",onClick:e[6]||(e[6]=x=>n.confirmImport("library"))},{default:f(()=>e[15]||(e[15]=[P("Import to Library")])),_:1}),c(D,{type:"primary",size:"large",onClick:e[7]||(e[7]=x=>n.confirmImport("builder"))},{default:f(()=>e[16]||(e[16]=[P("Import to Builder")])),_:1})]),c(k,null,{default:f(()=>e[17]||(e[17]=[P("OR")])),_:1}),e[20]||(e[20]=l("p",null,"Create a new page from this template",-1)),l("div",Zd,[c(N,{modelValue:n.pageTitle,"onUpdate:modelValue":e[8]||(e[8]=x=>n.pageTitle=x),placeholder:"Enter a name for the new page",disabled:n.isImporting,clearable:!0,size:"large"},null,8,["modelValue","disabled"]),c(D,{type:"primary",size:"large",onClick:e[9]||(e[9]=x=>n.confirmImport("page")),disabled:n.pageTitle==""},{default:f(()=>e[18]||(e[18]=[P("Import To Page")])),_:1},8,["disabled"])])]))],64))]),_:1},8,["modelValue","title"])])}const tu=F(kd,[["render",eu],["__scopeId","data-v-8571a88b"]]),nu=(t,e,o="other")=>t.reduce((n,s)=>{const a=s[e]||o;return n[a]||(n[a]=[]),n[a].push(s),n},{}),va=(t,e=23,o="....")=>{if(!t)return"";const n=t.split(/\s+/);return n.length>e?n.slice(0,e).join(" ")+" "+o:t},zn=t=>{const e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText||""},Sn=(t=0)=>(isNaN(t)?t=0:(t=parseFloat(t),t=Math.abs(t),t=Math.floor(t)),t),ou=(t=0,e=9)=>(t=Sn(t),e=Sn(e),Math.floor(Math.random()*(e-t+1)+t)),su=(t=0)=>(t=Sn(t),t=0<t?t:Date.now()+""+ou(1,9),Sn(t)),go=t=>Array.isArray(t)?t.map(e=>Math.abs(e).toString()):Math.abs(t).toString(),wa=t=>Array.isArray(t)?t.map(e=>Math.abs(Number(e))):Math.abs(Number(t)),bt=[];bt.push({path:"/",redirect:Object.keys(woolentorOptions.tabs)[0]});Object.keys(woolentorOptions.tabs).forEach(function(t){let e="/"+t,o=woolentorOptions.tabs[t].sections,n=[];if(typeof o<"u"){let s=woolentorOptions.tabs[t]?.save_under_parent||!1;Object.keys(o).forEach(function(a){let i=Object.keys(o)[0],r=s?nu(woolentorOptions.settings[woolentorOptions.tabs[t].id],"group",i)[a]:woolentorOptions.settings[o[a].id];n.push({path:e+"/"+a,name:o[a].title,component:rs,meta:{id:s?woolentorOptions.tabs[t]?.id:o[a].id,pathname:a,parentPathName:t,isCallApiRoute:o[a]?.is_api_route||!1},props:{fields:r}})})}bt.push({path:e,name:woolentorOptions.tabs[t].title,components:{default:Kc,fields:rs},meta:{id:woolentorOptions.tabs[t].id,pathname:e.substring(1),isCallApiRoute:woolentorOptions.tabs[t]?.is_api_route||!1},props:{default:{sections:n,parentPath:e,parentName:woolentorOptions.tabs[t].title},fields:{fields:woolentorOptions.settings[woolentorOptions.tabs[t].id]},navIcon:woolentorOptions.tabs[t].icon,showInNav:woolentorOptions.tabs[t]?.show_in_nav||!1},children:n})});bt.push({path:"/template-library",name:"TemplateLibrary",component:tu,meta:{sidebar:!1,pathname:"template-library",isCallApiRoute:!1},props:{showInNav:!1,default:{parentPath:"/template-library",parentName:"Template Library"}}});woolentorOptions?.isPro==="yes"&&bt.push({path:"/license",name:"License",component:ld,meta:{id:"license",pathname:"license",isCallApiRoute:!1,footer:!1},props:{showInNav:!1,default:{parentPath:"/license",parentName:"License"}}});bt.push({path:"/:pathMatch(.*)*",redirect:"/welcome"});const Ca=Xa({history:Qa(),routes:bt});Ca.beforeEach((t,e,o)=>{const n=bt.map(a=>a.path),s="/"+t.path.split("/")[1];n.includes(s)?o():(console.log("Invalid route, redirecting to welcome"),o("/welcome"))});function au(t,e=[]){var o=jQuery;let n=o("#toplevel_page_"+t),s=window.location.href,a=s.substr(s.indexOf("admin.php")),i=a.substring(a.indexOf("/")+1);n.on("click","a",function(){var r=o(this);o("ul.wp-submenu li",n).removeClass("current"),r.hasClass("wp-has-submenu")?o("li.wp-first-item",n).addClass("current"):r.parents("li").addClass("current")}),o("ul.wp-submenu a",n).each(function(r,p){if(o(p).attr("href")===a){o(p).parent().addClass("current");return}else if(e.indexOf(i)!=-1){o("li.wp-first-item",n).addClass("current");return}})}function cs(){var t=jQuery;const e=t(".woolentor-navigation-wrapper"),o=t(".woolentor-opt-footer,.woolentor-sticky-condition");if(!o||!e)return;const n=e.offset()?.top+e.outerHeight(),s=t(window).scrollTop(),a=t(window).height(),i=t(document).height();n<s&&s+a!==i?o.addClass("woolentor-admin-sticky"):(s+a===i||n>s)&&o.removeClass("woolentor-admin-sticky")}const iu={class:"woolentor-editor-field"},lu={class:"woolentor-editor-tabs"},ru={class:"woolentor-editor-container"},cu=["value"],Sa={__name:"EditorField",props:{fieldData:{type:Object,required:!0},modelValue:{required:!0},placeholders:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(t,{emit:e}){const o={height:200,skin:"lightgray",theme:"modern",menubar:!1,statusbar:!1,branding:!1,plugins:"charmap colorpicker hr lists paste tabfocus textcolor fullscreen wordpress wpautoresize wpeditimage wpemoji wpgallery wplink wptextpattern",toolbar1:"formatselect bold italic bullist numlist blockquote alignleft aligncenter alignright link unlink wlac_placeholders wp_more wp_adv dfw",toolbar2:"strikethrough hr forecolor pastetext removeformat charmap outdent indent undo redo wp_help",force_br_newlines:!0,force_p_newlines:!1,forced_root_block:""},n=t,s=e,a=G(!1),i=G(null);let r=null;const p=se(()=>n.modelValue||""),d=se(()=>{const T=[{text:"Site Name",value:"{{site_name}}"},{text:"Site URL",value:"{{site_url}}"},{text:"Customer First Name",value:"{{customer_first_name}}"},{text:"Customer Last Name",value:"{{customer_last_name}}"},{text:"Customer Full Name",value:"{{customer_full_name}}"},{text:"Customer Email",value:"{{customer_email}}"}];if(Object.keys(n.placeholders).length>0){let b=[];return Object.keys(n.placeholders).forEach(function(C){b.push({text:n.placeholders[C],value:"{"+C+"}"})}),b}return T}),u=()=>{if(a.value){const T=i.value.value.replace(/\n/g,"<br>");s("update:modelValue",T),a.value=!1,_()}},h=()=>{if(!a.value){const T=(r?.getContent()||"").replace(/<br\s*\/?>/g,`
`);r?.destroy(),r=null,i.value.value=T,s("update:modelValue",T),a.value=!0}},g=T=>{s("update:modelValue",T.target.value)},y=T=>{if(!T.addButton){console.warn("TinyMCE addButton method not available");return}try{T.addButton("wlac_placeholders",{text:"WLAC Placeholders",type:"menubutton",icon:"",menu:d.value.map(b=>({text:b.text,onclick:function(){T.insertContent(b.value)}}))})}catch(b){console.warn("Failed to add placeholder button:",b)}},_=()=>{if(!window.tinymce||!i.value||a.value)return;const b={...window.wp.editor.getDefaultSettings().tinymce,...o,target:i.value,setup:C=>{r=C,y(C),C.on("change",L=>{s("update:modelValue",C.getContent())}),C.on("init",()=>{const L=n.modelValue?.replace(/\n/g,"<br>")||"";C.setContent(L)})}};window.tinymce.init(b)};return Co(()=>n.modelValue,T=>{if(r&&r.getContent()!==T){const b=T?.replace(/\n/g,"<br>");r.setContent(b||"")}}),Qe(()=>{_()}),Za(()=>{r&&r.destroy()}),(T,b)=>(m(),E("div",iu,[l("div",lu,[l("button",{type:"button",class:V(["woolentor-editor-tab-btn",{active:!a.value}]),onClick:u}," Visual ",2),l("button",{type:"button",class:V(["woolentor-editor-tab-btn",{active:a.value}]),onClick:h}," Text ",2)]),l("div",ru,[l("textarea",{ref_key:"editorRef",ref:i,value:p.value,class:"woolentor-editor-height",style:Ae({visibility:a.value?"visible":"hidden"}),onInput:g},null,44,cu)])]))}},du={name:"EmailTemplateDrawer",components:{Clock:Io,Discount:fi,Document:mi,InfoFilled:As,Message:Oo,View:No,EditorField:Sa},props:{placeholders:{type:Object,default:()=>({})},visible:{type:Boolean,default:!1},templateData:{type:Object,default:()=>({id:null,name:"",subject:"",body:"",status:"active",coupon_data:{enable_coupon:!1,coupon_type:"percentage",coupon_amount:10,auto_generate:!0,coupon_code:"",coupon_prefix:"SAVE",coupon_length:8,coupon_expiry_days:7,minimum_amount:0}})},isCreatingTemplate:{type:Boolean,default:!1},isSaving:{type:Boolean,default:!1}},emits:["update:visible","template-saved"],setup(t,{emit:e}){const o=Nn(),n={name:[{required:!0,message:"Template name is required",trigger:"blur"},{min:3,max:100,message:"Length should be 3 to 100 characters",trigger:"blur"}],subject:[{required:!0,message:"Email subject is required",trigger:"blur"},{min:5,max:200,message:"Length should be 5 to 200 characters",trigger:"blur"}],body:[{required:!0,message:"Email content is required",trigger:"blur"},{min:10,max:1e4,message:"Length should be 10 to 10000 characters",trigger:"blur"}]},s=G(null),a=G(!1),i=wo({id:null,name:"",subject:"",body:"",status:"active",coupon_data:{enable_coupon:!1,coupon_type:"percentage",coupon_amount:10,auto_generate:!0,coupon_code:"",coupon_prefix:"SAVE",coupon_length:8,coupon_expiry_days:7,minimum_amount:0},...t.templateData,coupon_data:{enable_coupon:!1,coupon_type:"percentage",coupon_amount:10,auto_generate:!0,coupon_code:"",coupon_prefix:"SAVE",coupon_length:8,coupon_expiry_days:7,minimum_amount:0,...t.templateData.coupon_data}});Co(()=>t.visible,T=>{if(T){const b={...t.templateData,coupon_data:{enable_coupon:!1,coupon_type:"percentage",coupon_amount:10,auto_generate:!0,coupon_code:"",coupon_prefix:"SAVE",coupon_length:8,coupon_expiry_days:7,minimum_amount:0,...t.templateData.coupon_data}};Object.assign(i,b)}},{immediate:!0});const r=se({get:()=>i.status==="active",set:T=>{i.status=T?"active":"inactive"}}),p=se(()=>a.value||t.isSaving),d=()=>{setTimeout(()=>{const T=document.querySelector(".email-template-drawer input");T&&T.focus()},300)},u=()=>{e("update:visible",!1)},h=T=>{i.coupon_data.enable_coupon=T,T||Object.assign(i.coupon_data,{enable_coupon:!1,coupon_type:"percentage",coupon_amount:10,auto_generate:!0,coupon_code:"",coupon_prefix:"SAVE",coupon_length:8,coupon_expiry_days:7,minimum_amount:0})},g=T=>{T&&(i.coupon_data.coupon_code="")},y=async()=>{if(!a.value)try{if(!await s.value.validate())return;a.value=!0;const b={name:i.name,subject:i.subject,body:i.body,status:i.status,coupon_data:i.coupon_data};!i.id?(await o.dispatch("abandonedCart/CREATE_EMAIL_TEMPLATE",b),K.success({message:"Template created successfully",duration:3e3,type:"success",offset:50})):(await o.dispatch("abandonedCart/UPDATE_EMAIL_TEMPLATE",{id:i.id,templateData:b}),K.success({message:"Template updated successfully",duration:3e3,type:"success",offset:50})),e("template-saved"),e("update:visible",!1)}catch(T){console.error("Error saving template:",T),K.error({message:`Failed to ${i.id?"update":"create"} template`,duration:3e3,type:"error",offset:50})}finally{a.value=!1}},_=()=>{e("update:visible",!1)};return{templateFormRef:s,isSavingLocal:a,currentTemplate:i,templateRules:n,isSaving:se(()=>t.isSaving),isCreatingTemplate:se(()=>t.isCreatingTemplate),templateStatusActive:r,isCurrentlySaving:p,handleDrawerOpen:d,handleDrawerClose:u,handleCouponToggle:h,handleAutoGenerateToggle:g,saveTemplate:y,cancelEdit:_}}},uu={class:"drawer-header"},pu={class:"drawer-title"},fu={class:"drawer-content"},mu={class:"form-section"},hu={class:"section-title"},gu={class:"form-grid"},_u={class:"form-grid"},yu={class:"form-grid"},Tu={class:"form-section"},bu={class:"section-title"},Eu={class:"form-section"},vu={class:"section-title"},wu={key:0,class:"coupon-settings"},Cu={class:"form-grid"},Su={class:"form-grid"},Du={class:"field-description"},Au={class:"form-grid"},Lu={key:0,class:"form-grid"},Iu={key:1,class:"form-grid"},Ou={class:"form-grid"},Nu={class:"expiry-input-group"},xu={class:"drawer-footer"};function Ru(t,e,o,n,s,a){const i=M("Message"),r=we,p=M("InfoFilled"),d=Jt,u=Cs,h=dt,g=M("Document"),y=Sa,_=M("Discount"),T=Ot,b=Nt,C=Ls,L=Ss,D=Yt,k=re,N=Rn,x=Kt;return m(),w(N,{"model-value":o.visible,"onUpdate:modelValue":e[11]||(e[11]=O=>t.$emit("update:visible",O)),title:n.isCreatingTemplate?"Create New Template":"Edit Template",size:"70%","with-header":!0,"destroy-on-close":"",class:"email-template-drawer woolentor-settings-drawer",style:{"max-width":"900px"},onOpen:n.handleDrawerOpen,onClose:n.handleDrawerClose},{header:f(()=>[l("div",uu,[l("h3",pu,[c(r,null,{default:f(()=>[c(i)]),_:1}),P(" "+I(n.isCreatingTemplate?"Create New Template":"Edit Template"),1)])])]),footer:f(()=>[l("div",xu,[c(k,{onClick:n.cancelEdit,disabled:n.isCurrentlySaving},{default:f(()=>e[22]||(e[22]=[P(" Cancel ")])),_:1},8,["onClick","disabled"]),c(k,{type:"primary",onClick:n.saveTemplate,loading:n.isCurrentlySaving,disabled:n.isCurrentlySaving},{default:f(()=>[P(I(n.isCreatingTemplate?"Create Template":"Update Template"),1)]),_:1},8,["onClick","loading","disabled"])])]),default:f(()=>[De((m(),E("div",fu,[c(D,{height:"calc(100vh - 250px)"},{default:f(()=>[c(L,{ref:"templateFormRef",model:n.currentTemplate,rules:n.templateRules,"label-width":"auto",class:"template-form","label-position":"left",size:"large"},{default:f(()=>[l("div",mu,[l("h4",hu,[c(r,null,{default:f(()=>[c(p)]),_:1}),e[12]||(e[12]=P(" Basic Information "))]),l("div",gu,[c(u,{label:"Template Status",prop:"status",class:"status-field"},{default:f(()=>[c(d,{modelValue:n.templateStatusActive,"onUpdate:modelValue":e[0]||(e[0]=O=>n.templateStatusActive=O),"active-text":"Active","inactive-text":"Inactive","active-color":"#13ce66","inactive-color":"#ff4949","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue"]),e[13]||(e[13]=l("p",{class:"field-description"},"Enable or disable this email template",-1))]),_:1})]),l("div",_u,[c(u,{label:"Template Name",prop:"name"},{default:f(()=>[c(h,{modelValue:n.currentTemplate.name,"onUpdate:modelValue":e[1]||(e[1]=O=>n.currentTemplate.name=O),placeholder:"Enter a descriptive name for this template",maxlength:"100","show-word-limit":"",clearable:""},null,8,["modelValue"]),e[14]||(e[14]=l("p",{class:"field-description"},"A descriptive name to identify this template",-1))]),_:1})]),l("div",yu,[c(u,{label:"Email Subject",prop:"subject"},{default:f(()=>[c(h,{modelValue:n.currentTemplate.subject,"onUpdate:modelValue":e[2]||(e[2]=O=>n.currentTemplate.subject=O),placeholder:"Enter the email subject line",maxlength:"200","show-word-limit":"",clearable:""},null,8,["modelValue"]),e[15]||(e[15]=l("p",{class:"field-description"}," Available placeholders: {site_name}, {customer_full_name}, {cart_total} ",-1))]),_:1})])]),l("div",Tu,[l("h4",bu,[c(r,null,{default:f(()=>[c(g)]),_:1}),e[16]||(e[16]=P(" Email Content "))]),c(u,{label:"",prop:"body"},{default:f(()=>[c(y,{modelValue:n.currentTemplate.body,"onUpdate:modelValue":e[3]||(e[3]=O=>n.currentTemplate.body=O),fieldData:t.fieldData,placeholders:o.placeholders},null,8,["modelValue","fieldData","placeholders"])]),_:1})]),l("div",Eu,[l("h4",vu,[c(r,null,{default:f(()=>[c(_)]),_:1}),e[17]||(e[17]=P(" Coupon Settings "))]),c(u,{label:"Enable Coupon"},{default:f(()=>[c(d,{"model-value":n.currentTemplate.coupon_data.enable_coupon,"active-text":"Include coupon in this email","active-color":"#13ce66",onChange:n.handleCouponToggle},null,8,["model-value","onChange"])]),_:1}),n.currentTemplate.coupon_data.enable_coupon?(m(),E("div",wu,[l("div",Cu,[c(u,{label:"Coupon Type"},{default:f(()=>[c(b,{modelValue:n.currentTemplate.coupon_data.coupon_type,"onUpdate:modelValue":e[4]||(e[4]=O=>n.currentTemplate.coupon_data.coupon_type=O),style:{width:"60%"}},{default:f(()=>[c(T,{label:"Percentage Discount",value:"percentage"}),c(T,{label:"Fixed Cart Discount",value:"fixed_cart"})]),_:1},8,["modelValue"])]),_:1})]),l("div",Su,[c(u,{label:"Coupon Amount"},{default:f(()=>[l("div",null,[c(C,{modelValue:n.currentTemplate.coupon_data.coupon_amount,"onUpdate:modelValue":e[5]||(e[5]=O=>n.currentTemplate.coupon_data.coupon_amount=O),min:0,step:.01,precision:2,style:{width:"100%"},"controls-position":"right"},null,8,["modelValue"]),l("p",Du,I(n.currentTemplate.coupon_data.coupon_type==="percentage"?"Percentage (%)":"Fixed amount"),1)])]),_:1})]),l("div",Au,[c(u,{label:"Auto Generate"},{default:f(()=>[c(d,{modelValue:n.currentTemplate.coupon_data.auto_generate,"onUpdate:modelValue":e[6]||(e[6]=O=>n.currentTemplate.coupon_data.auto_generate=O),"active-text":"Auto-generate unique coupon codes",onChange:n.handleAutoGenerateToggle},null,8,["modelValue","onChange"])]),_:1})]),n.currentTemplate.coupon_data.auto_generate?S("",!0):(m(),E("div",Lu,[c(u,{label:"Coupon Code"},{default:f(()=>[c(h,{modelValue:n.currentTemplate.coupon_data.coupon_code,"onUpdate:modelValue":e[7]||(e[7]=O=>n.currentTemplate.coupon_data.coupon_code=O),placeholder:"Enter fixed coupon code",maxlength:"50",style:{width:"60%"}},null,8,["modelValue"]),e[18]||(e[18]=l("p",{class:"field-description"},"Fixed coupon code (only if auto-generate is disabled)",-1))]),_:1})])),n.currentTemplate.coupon_data.auto_generate?(m(),E("div",Iu,[c(u,{label:"Coupon Prefix & Length",class:"coupon-prefix-length"},{default:f(()=>[l("div",null,[c(h,{modelValue:n.currentTemplate.coupon_data.coupon_prefix,"onUpdate:modelValue":e[8]||(e[8]=O=>n.currentTemplate.coupon_data.coupon_prefix=O),placeholder:"SAVE",maxlength:"10",style:{width:"150px"}},null,8,["modelValue"]),e[19]||(e[19]=l("p",{class:"field-description"},"Prefix",-1))]),l("div",null,[c(C,{modelValue:n.currentTemplate.coupon_data.coupon_length,"onUpdate:modelValue":e[9]||(e[9]=O=>n.currentTemplate.coupon_data.coupon_length=O),min:4,max:20,style:{width:"120px"},"controls-position":"right"},null,8,["modelValue"]),e[20]||(e[20]=l("p",{class:"field-description"},"Length",-1))])]),_:1})])):S("",!0),l("div",Ou,[c(u,{label:"Expires After"},{default:f(()=>[l("div",Nu,[c(C,{modelValue:n.currentTemplate.coupon_data.coupon_expiry_days,"onUpdate:modelValue":e[10]||(e[10]=O=>n.currentTemplate.coupon_data.coupon_expiry_days=O),min:1,max:365,style:{width:"120px"},"controls-position":"right"},null,8,["modelValue"]),e[21]||(e[21]=l("span",{style:{"margin-left":"10px"}},"days",-1))])]),_:1})])])):S("",!0)])]),_:1},8,["model","rules"])]),_:1})])),[[x,n.isSaving]])]),_:1},8,["model-value","title","onOpen","onClose"])}const Da=F(du,[["render",Ru],["__scopeId","data-v-ac7042a8"]]);function ku(){const t=Nn(),e=G(!1),o=G(!1),n=G(!1),s=G(null),a=G(!1),i=G(!1),r=wo({id:null,name:"",subject:"",body:"",status:"active",coupon_data:{enable_coupon:!1,coupon_type:"percentage",coupon_amount:10,auto_generate:!0,coupon_code:"",coupon_prefix:"SAVE",coupon_length:8,coupon_expiry_days:7,minimum_amount:0}}),p=G(null),d={name:[{required:!0,message:"Template name is required",trigger:"blur"},{min:3,max:100,message:"Length should be 3 to 100 characters",trigger:"blur"}],subject:[{required:!0,message:"Email subject is required",trigger:"blur"},{min:5,max:200,message:"Length should be 5 to 200 characters",trigger:"blur"}],body:[{required:!0,message:"Email content is required",trigger:"blur"},{min:10,max:1e4,message:"Length should be 10 to 10000 characters",trigger:"blur"}]},u=se(()=>t.getters["abandonedCart/GET_EMAIL_TEMPLATES"]),h=se(()=>t.getters["abandonedCart/GET_EMAIL_TEMPLATES_LOADING"]),g=se(()=>!r.id),y=async()=>{try{return e.value=!0,await t.dispatch("abandonedCart/FETCH_EMAIL_TEMPLATES")}catch(R){console.error("Error loading email templates:",R),K.error("Failed to load email templates")}finally{e.value=!1}},_=()=>{N(),a.value=!0},T=R=>{s.value=R.id,Object.assign(r,{...R,coupon_data:R.coupon_data||{enable_coupon:!1,coupon_type:"percentage",coupon_amount:10,auto_generate:!0,coupon_code:"",coupon_prefix:"SAVE",coupon_length:8,coupon_expiry_days:7,minimum_amount:0}}),a.value=!0,i.value=!1},b=async(R,ne=null)=>{const ae=ne||r,he=!ae.id;try{if(!await R.validate())return!1;const Ce={name:ae.name,subject:ae.subject,body:ae.body,status:ae.status,coupon_data:ae.coupon_data};return he?(o.value=!0,await t.dispatch("abandonedCart/CREATE_EMAIL_TEMPLATE",Ce),K.success("Template created successfully")):(n.value=!0,await t.dispatch("abandonedCart/UPDATE_EMAIL_TEMPLATE",{id:ae.id,template:Ce}),K.success("Template updated successfully")),a.value=!1,await y(),!0}catch(Ie){return console.error("Error saving template:",Ie),K.error(`Failed to ${he?"create":"update"} template`),!1}finally{o.value=!1,n.value=!1}},C=async R=>{try{await at.confirm(`Are you sure you want to delete the template "${R.name}"?`,"Delete Template",{type:"error",confirmButtonText:"Delete",cancelButtonText:"Cancel"}),await t.dispatch("abandonedCart/DELETE_EMAIL_TEMPLATE",R.id),K.success("Template deleted successfully"),await y()}catch(ne){ne!=="cancel"&&(console.error("Error deleting template:",ne),K.error("Failed to delete template"))}},L=async R=>{try{const ne=R.status==="active"?"inactive":"active",ae=ne==="active"?"activate":"deactivate";await at.confirm(`Are you sure you want to ${ae} this template?`,`${ae.charAt(0).toUpperCase()+ae.slice(1)} Template`,{type:"warning"});const he={...R,status:ne};delete he.id,delete he.created_at,delete he.updated_at,await t.dispatch("abandonedCart/UPDATE_EMAIL_TEMPLATE",{id:R.id,templateData:he}),K.success({message:`Template ${ae}d successfully`,duration:3e3,type:"success",offset:50}),await y()}catch(ne){ne!=="cancel"&&(console.error("Error toggling template status:",ne),K.error({message:"Failed to update template status",duration:3e3,type:"error",offset:50}))}},D=R=>{p.value=R,i.value=!0},k=async R=>{try{const ne={...R,name:`${R.name} (Copy)`,status:"inactive"};delete ne.id,delete ne.created_at,delete ne.updated_at,await t.dispatch("abandonedCart/CREATE_EMAIL_TEMPLATE",ne),K.success("Template duplicated successfully"),await y()}catch(ne){console.error("Error duplicating template:",ne),K.error("Failed to duplicate template")}},N=()=>{s.value=null,Object.assign(r,{id:null,name:"",subject:"",body:"",status:"active",coupon_data:{enable_coupon:!1,coupon_type:"percentage",coupon_amount:10,auto_generate:!0,coupon_code:"",coupon_prefix:"SAVE",coupon_length:8,coupon_expiry_days:7,minimum_amount:0}})};return{isLoading:e,isCreating:o,isUpdating:n,currentTemplateId:s,templateDrawerVisible:a,previewDialogVisible:i,currentTemplate:r,previewingTemplate:p,templateRules:d,availablePlaceholders:[{code:"{site_name}",description:"Your website name"},{code:"{customer_full_name}",description:"Customer's full name"},{code:"{customer_name}",description:"Customer's first name"},{code:"{customer_email}",description:"Customer's email address"},{code:"{cart_url}",description:"Link to recover the cart"},{code:"{cart_total}",description:"Total cart value"},{code:"{site_url}",description:"Your website URL"},{code:"{coupon_code}",description:"Generated coupon code (if enabled)"},{code:"{coupon_amount}",description:"Coupon discount amount"},{code:"{coupon_expiry}",description:"Coupon expiry date"}],templates:u,templatesLoading:h,isCreatingTemplate:g,loadEmailTemplates:y,createTemplate:_,editTemplate:T,saveTemplate:b,deleteTemplate:C,toggleTemplateStatus:L,previewTemplate:D,duplicateTemplate:k,resetCurrentTemplate:N,cancelEdit:()=>{a.value=!1,N()},getStatusTagType:R=>{switch(R){case"active":return"success";case"inactive":return"info";default:return"warning"}},getStatusLabel:R=>{switch(R){case"active":return"Active";case"inactive":return"Inactive";default:return"Unknown"}},getTriggerUnitLabel:R=>{switch(R){case"minutes":return"Minutes";case"hours":return"Hours";case"days":return"Days";default:return"Minutes"}},getCouponTypeLabel:R=>{switch(R){case"percentage":return"Percentage Discount";case"fixed_cart":return"Fixed Cart Discount";case"fixed_product":return"Fixed Product Discount";default:return"Percentage Discount"}},getPreviewContent:()=>{if(!r.body)return"No content to preview";let R=r.body;return R=R.replace(/{site_name}/g,"Your Store"),R=R.replace(/{customer_full_name}/g,"John Doe"),R=R.replace(/{customer_name}/g,"John Doe"),R=R.replace(/{customer_email}/g,"john.doe@example.com"),R=R.replace(/{cart_url}/g,"#recovery-link"),R=R.replace(/{cart_total}/g,"$150.00"),R=R.replace(/{site_url}/g,"https://yourstore.com"),R.replace(/\n/g,"<br>")},formatDate:R=>R?new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}}const Pu={name:"EmailTemplates",components:{CircleCheck:hi,CircleClose:Is,Clock:Io,CopyDocument:ws,Delete:xo,Edit:Os,EmailTemplateDrawer:Da,Message:Oo,Plus:Ro,Refresh:Ds,View:No},props:{placeholders:{type:Object,default:()=>({})}},setup(){const{isCreating:t,isUpdating:e,currentTemplateId:o,templateDrawerVisible:n,previewingTemplate:s,currentTemplate:a,isCreatingTemplate:i,templates:r,templatesLoading:p,loadEmailTemplates:d,createTemplate:u,editTemplate:h,deleteTemplate:g,toggleTemplateStatus:y,previewTemplate:_,duplicateTemplate:T,getStatusTagType:b,getStatusLabel:C,getCouponTypeLabel:L,formatDate:D}=ku(),k=G(!1);return{isCreating:t,isUpdating:e,currentTemplateId:o,templateDrawerVisible:n,previewingTemplate:s,previewDialogVisible:k,currentTemplate:a,templates:r,templatesLoading:p,isCreatingTemplate:i,loadEmailTemplates:d,createTemplate:u,editTemplate:h,deleteTemplate:g,toggleTemplateStatus:y,previewTemplate:_,duplicateTemplate:T,handleTemplateSaved:()=>{d()},getStatusTagType:b,getStatusLabel:C,getCouponTypeLabel:L,formatDate:D}},mounted(){this.loadEmailTemplates()}},Mu={class:"email-templates-tab"},Gu={class:"templates-header"},Fu={class:"header-actions"},Vu={class:"template-name"},Uu={class:"template-subject"},Bu={class:"date-info"};function Hu(t,e,o,n,s,a){const i=M("Plus"),r=we,p=re,d=M("Refresh"),u=M("Message"),h=xs,g=Xt,y=M("Clock"),_=M("Edit"),T=M("CopyDocument"),b=M("CircleClose"),C=M("CircleCheck"),L=M("Delete"),D=Rs,k=Ns,N=Da,x=Kt;return m(),E("div",Mu,[l("div",Gu,[c(p,{type:"primary",onClick:n.createTemplate,loading:n.isCreating},{default:f(()=>[c(r,null,{default:f(()=>[c(i)]),_:1}),e[1]||(e[1]=P(" Add New Template "))]),_:1},8,["onClick","loading"]),l("div",Fu,[c(p,{onClick:n.loadEmailTemplates,loading:n.templatesLoading},{default:f(()=>[n.templatesLoading?S("",!0):(m(),w(r,{key:0},{default:f(()=>[c(d)]),_:1})),e[2]||(e[2]=l("span",null,"Refresh",-1))]),_:1},8,["onClick","loading"])])]),De((m(),w(k,{data:n.templates,style:{width:"100%"},"empty-text":"No email templates found",class:"templates-table"},{default:f(()=>[c(h,{prop:"name",label:"Template Name","min-width":"200"},{default:f(({row:O})=>[l("div",Vu,[c(r,null,{default:f(()=>[c(u)]),_:1}),l("span",null,I(O.name||"Untitled Template"),1)])]),_:1}),c(h,{prop:"subject",label:"Subject","min-width":"250"},{default:f(({row:O})=>[l("div",Uu,I(O.subject||"No subject"),1)]),_:1}),c(h,{prop:"status",label:"Status",width:"120"},{default:f(({row:O})=>[c(g,{type:n.getStatusTagType(O.status)},{default:f(()=>[P(I(n.getStatusLabel(O.status)),1)]),_:2},1032,["type"])]),_:1}),c(h,{prop:"created_at",label:"Created",width:"200"},{default:f(({row:O})=>[l("div",Bu,[c(r,null,{default:f(()=>[c(y)]),_:1}),P(" "+I(n.formatDate(O.created_at)),1)])]),_:1}),c(h,{label:"Actions",width:"200",fixed:"right"},{default:f(({row:O})=>[c(D,{size:"small"},{default:f(()=>[c(p,{type:"primary",onClick:ue=>n.editTemplate(O),title:"Edit Template",loading:n.isUpdating&&n.currentTemplateId===O.id},{default:f(()=>[c(r,null,{default:f(()=>[c(_)]),_:1})]),_:2},1032,["onClick","loading"]),c(p,{type:"warning",onClick:ue=>n.duplicateTemplate(O),title:"Duplicate Template"},{default:f(()=>[c(r,null,{default:f(()=>[c(T)]),_:1})]),_:2},1032,["onClick"]),c(p,{type:O.status==="active"?"warning":"success",onClick:ue=>n.toggleTemplateStatus(O),title:O.status==="active"?"Deactivate":"Activate"},{default:f(()=>[O.status==="active"?(m(),w(r,{key:0},{default:f(()=>[c(b)]),_:1})):(m(),w(r,{key:1},{default:f(()=>[c(C)]),_:1}))]),_:2},1032,["type","onClick","title"]),c(p,{type:"danger",onClick:ue=>n.deleteTemplate(O),title:"Delete Template"},{default:f(()=>[c(r,null,{default:f(()=>[c(L)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[x,n.templatesLoading]]),c(N,{visible:n.templateDrawerVisible,"onUpdate:visible":e[0]||(e[0]=O=>n.templateDrawerVisible=O),"template-data":n.currentTemplate,"is-creating-template":n.isCreatingTemplate,"is-saving":n.isCreating||n.isUpdating,placeholders:o.placeholders,onTemplateSaved:n.handleTemplateSaved},null,8,["visible","template-data","is-creating-template","is-saving","placeholders","onTemplateSaved"])])}const Aa=F(Pu,[["render",Hu],["__scopeId","data-v-ccd2bd80"]]),zu={name:"AbandonedCartDrawer",components:{ArrowDown:ko,CircleClose:Is,Clock:Io,Delete:xo,Edit:Os,Message:Oo,Plus:Ro,Search:Lo,ShoppingCart:ks,User:gi,UserFilled:_i,View:No,Setting:Qt,Loading:Do,DefaultField:Tt,EmailTemplates:Aa},props:{modelValue:{type:Boolean,default:!1},fields:{type:Array,default:()=>({})},fieldsData:{type:Object,default:()=>({})},placeholders:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(t){const{maybeShowField:e}=kt();return{shouldShowField:(n,s)=>e(n,s)}},data(){return{activeTab:"settings",loading:!1,settingsFields:this.fields,settingsData:this.fieldsData,cartsCurrentPage:1,cartsPerPage:10,cartsTotalPages:1,cartsTotal:0,cartsFilters:{status:"",dateFrom:"",dateTo:""},searchTerm:"",searchTimeout:null,selectedCarts:[],selectedDateRange:"30days",customDateRange:null,cartsDateRange:"all",cartsCustomDateRange:null}},watch:{visible(t){t&&this.loadInitialData()}},computed:{...ze("abandonedCart",["GET_CARTS","GET_CARTS_LOADING","GET_CART_DETAILS_LOADING","GET_CARTS_SEARCHING","GET_SELECTED_CARTS","GET_ANALYTICS","GET_ANALYTICS_LOADING","GET_EMAIL_TEMPLATES","GET_EMAIL_TEMPLATES_LOADING","GET_BULK_ACTION_LOADING","GET_SETTINGS_LOADING"]),visible:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}}},methods:{...rt(["CALL_API","SAVE_SETTINGS"]),...rt("abandonedCart",["FETCH_ABANDONED_CARTS","SET_CARTS_FROM_CACHE","FETCH_CART_DETAILS","DELETE_CART","SEND_RECOVERY_EMAIL","BULK_ACTION","SEARCH_CARTS","FETCH_EMAIL_TEMPLATES","FETCH_ANALYTICS","SET_ANALYTICS","SELECT_CART","DESELECT_CART","SELECT_ALL_CARTS","DESELECT_ALL_CARTS","UPDATE_FILTERS","UPDATE_PAGINATION","SET_SETTINGS_LOADING"]),pieChartInstance:null,lineChartInstance:null,barChartInstance:null,hourChartInstance:null,async loadInitialData(){this.loading=!0;try{await this.loadTabData(this.activeTab)}catch(t){console.error("Error loading initial data:",t),K.error("Failed to load data")}finally{this.loading=!1}},async handleTabChange(t){await this.loadTabData(t)},async loadTabData(t){switch(t){case"email-templates":await this.loadEmailTemplates();break;case"abandoned-carts":await this.loadAbandonedCarts();break;case"analytics":await this.loadAnalytics();break}},async saveSettings(){this.SET_SETTINGS_LOADING(!0);try{const t={...this.settingsData,verifynonce:this.woolentorLocalizeData.verifynonce},e=await this.SAVE_SETTINGS([t,this.$router.currentRoute._value.meta.id,"woolentor_abandoned_cart_settings"]);K.success({message:"Settings saved successfully",type:"success",duration:1e3,offset:50})}catch(t){console.error("Error saving settings:",t),K({message:"Failed to save settings",type:"error",duration:1e3,offset:50})}finally{this.SET_SETTINGS_LOADING(!1)}},async loadEmailTemplates(){},async loadAbandonedCarts(){try{await this.UPDATE_PAGINATION({currentPage:this.cartsCurrentPage,perPage:this.cartsPerPage}),await this.UPDATE_FILTERS(this.cartsFilters);const t=this.cartsFilters.status+this.cartsFilters.dateFrom+this.cartsFilters.dateTo+this.cartsCurrentPage+this.cartsPerPage,e=Y.get(t);if(e)this.SET_CARTS_FROM_CACHE(e),this.cartsTotal=e?.total||0,this.cartsTotalPages=e?.pages||1;else{const o=await this.FETCH_ABANDONED_CARTS();Y.set(t,o?.data,{duration:6e3}),o&&o.data&&(this.cartsTotal=o?.data?.total||0,this.cartsTotalPages=o?.data?.pages||1)}}catch(t){console.error("Error loading abandoned carts:",t),K.error("Failed to load abandoned carts")}},async loadAnalytics(){try{const t=this.getDateRangeParams(),e=this.selectedDateRange,o=Y.get(e);if(o)this.SET_ANALYTICS(o);else{const n=await this.FETCH_ANALYTICS(t);Y.set(e,n,{duration:6e3})}this.$nextTick(()=>{this.createCharts()})}catch(t){console.error("Error loading analytics:",t),K.error("Failed to load analytics")}},getDateRangeParams(){return this.selectedDateRange==="custom"&&this.customDateRange?{range:"custom",startDate:this.customDateRange[0],endDate:this.customDateRange[1]}:{range:this.selectedDateRange}},onDateRangeChange(){this.activeTab==="analytics"&&this.loadAnalytics()},onCustomDateChange(){this.selectedDateRange==="custom"&&this.customDateRange&&this.loadAnalytics()},onCartsDateRangeChange(){this.updateCartsDateFilters(),this.loadAbandonedCarts()},onCartsCustomDateChange(){this.cartsDateRange==="custom"&&this.cartsCustomDateRange&&(this.updateCartsDateFilters(),this.loadAbandonedCarts())},updateCartsDateFilters(){if(this.cartsDateRange==="custom"&&this.cartsCustomDateRange)this.cartsFilters.dateFrom=this.cartsCustomDateRange[0],this.cartsFilters.dateTo=this.cartsCustomDateRange[1];else if(this.cartsDateRange==="all")this.cartsFilters.dateFrom="",this.cartsFilters.dateTo="";else{const t=new Date;let e;switch(this.cartsDateRange){case"7days":e=new Date(t.getTime()-7*24*60*60*1e3);break;case"30days":e=new Date(t.getTime()-30*24*60*60*1e3);break;case"3months":e=new Date,e.setMonth(e.getMonth()-3);break;default:e=null}this.cartsFilters.dateFrom=e?e.toISOString().split("T")[0]:"",this.cartsFilters.dateTo=t.toISOString().split("T")[0]}},async sendRecoveryEmail(t){try{await at.confirm("Are you sure you want to send a recovery email for this cart?","Send Recovery Email",{confirmButtonText:"Send Email",cancelButtonText:"Cancel",type:"warning"}),await this.SEND_RECOVERY_EMAIL(t)&&(K.success("Recovery email sent successfully"),await this.loadAbandonedCarts())}catch(e){e!=="cancel"&&(console.error("Error sending recovery email:",e),K.error("Failed to send recovery email"))}},handleCartsPageChange(t){this.cartsCurrentPage=t,this.loadAbandonedCarts()},handleCartsFilterChange(t){this.cartsCurrentPage=1,this.loadAbandonedCarts()},clearCartsFilters(){this.cartsFilters={status:"",dateFrom:"",dateTo:""},this.handleCartsFilterChange()},handleSettingsChange(){},getFieldComponentName(t){return"field-"+t},hasComponent(t){const e=this.getFieldComponentName(t);return!!this.woolentorCustomComponents.find(n=>n.name===e)},classes(t,e=""){return e!==""?e.hasOwnProperty("class")?e.class:"":["woolentor-opt-field",t=="text"?"woolentor-regular-text":`woolentor-opt-field-${t}`]},formatCurrency(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t||0)},formatDate(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"},getStatusColor(t){return{abandoned:"warning",recovered:"success",lost:"danger"}[t]||"info"},async viewCartDetails(t){try{const o=await this.FETCH_CART_DETAILS(t.id)||t;at.alert(`<div>
                        <p><strong>Customer:</strong> ${this.getCustomerName(o)}</p>
                        <p><strong>Email:</strong> ${o.user_email||"N/A"}</p>
                        <p><strong>Total:</strong> ${this.formatCurrency(o.cart_total)}</p>
                        <p><strong>Status:</strong> ${this.capitalizeFirst(o.status)}</p>
                        <p><strong>Created:</strong> ${this.formatDate(o.created_at)}</p>
                    </div>`,"Cart Details",{dangerouslyUseHTMLString:!0,confirmButtonText:"Close"})}catch(e){console.error("Error loading cart details:",e),K.error("Failed to load cart details")}},async deleteCart(t){try{await at.confirm("Are you sure you want to delete this cart? This action cannot be undone.","Delete Cart",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"});const e=await this.DELETE_CART(t);e&&e.success&&(K.success("Cart deleted successfully"),await this.loadAbandonedCarts())}catch(e){e!=="cancel"&&(console.error("Error deleting cart:",e),K.error("Failed to delete cart"))}},async unsubscribeCart(t){try{await at.confirm("Are you sure you want to unsubscribe this cart from recovery emails?","Unsubscribe Cart",{confirmButtonText:"Unsubscribe",cancelButtonText:"Cancel",type:"warning"});const e=await this.BULK_ACTION({action:"unsubscribe",cartIds:[t]});e&&e.success&&(K.success("Cart unsubscribed successfully"),await this.loadAbandonedCarts())}catch(e){e!=="cancel"&&(console.error("Error unsubscribing cart:",e),K.error("Failed to unsubscribe cart"))}},handleSelectionChange(t){this.selectedCarts=t.map(e=>e.id)},async handleBulkAction(t){if(this.selectedCarts.length===0){K.warning("Please select carts first");return}const e={delete:"delete the selected carts",send_email:"send recovery emails to the selected carts",unsubscribe:"unsubscribe the selected carts"};try{await at.confirm(`Are you sure you want to ${e[t]}?`,"Bulk Action",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"});const o=await this.BULK_ACTION({action:t,cartIds:this.selectedCarts});o&&o.message&&K.success(o.message),this.selectedCarts=[],await this.loadAbandonedCarts()}catch(o){o!=="cancel"&&(console.error("Error performing bulk action:",o),K.error("Failed to perform bulk action"))}},handleSearch(){this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.performSearch()},500)},async performSearch(){if(!this.searchTerm.trim()){await this.loadAbandonedCarts();return}try{const t=this.searchTerm+this.cartsCurrentPage+this.cartsPerPage,e=Y.get(t);if(e)this.SET_CARTS_FROM_CACHE(e);else{const o=await this.SEARCH_CARTS(this.searchTerm);Y.set(t,o?.data,{duration:6e3}),o&&o.data&&(this.cartsTotal=o.data.total||0,this.cartsTotalPages=o.data.pages||1)}}catch(t){console.error("Error searching carts:",t),K.error("Failed to search carts")}},clearSearch(){this.searchTerm="",this.loadAbandonedCarts()},getCustomerName(t){return t.user_id&&t.customer_name?t.customer_name:t.user_email?"Guest User":"Unknown"},capitalizeFirst(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""},async loadChartJs(){return new Promise((t,e)=>{if(window.Chart){t();return}const o=document.createElement("script");o.src=woolentorOptions.assetsUrl+"/js/chart.min.js",o.onload=t,o.onerror=e,document.head.appendChild(o)})},async createCharts(){try{await this.loadChartJs(),this.destroyCharts(),this.createPieChart(),this.createLineChart(),this.createBarChart(),this.createHourChart()}catch(t){console.error("Error creating charts:",t)}},destroyCharts(){this.pieChartInstance&&(this.pieChartInstance.destroy(),this.pieChartInstance=null),this.lineChartInstance&&(this.lineChartInstance.destroy(),this.lineChartInstance=null),this.barChartInstance&&(this.barChartInstance.destroy(),this.barChartInstance=null),this.hourChartInstance&&(this.hourChartInstance.destroy(),this.hourChartInstance=null)},createPieChart(){const t=this.$refs.pieChart;if(!t)return;const e=this.GET_ANALYTICS||{},o=e.totalAbandoned||0,n=e.totalRecovered||0;this.pieChartInstance=new Chart(t,{type:"doughnut",data:{labels:["Abandoned","Recovered"],datasets:[{data:[o,n],backgroundColor:["#ff6b6b","#51cf66"],borderWidth:2,borderColor:"#fff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},title:{display:!0,text:`Total Carts: ${o}`}}}})},createLineChart(){const t=this.$refs.lineChart;if(!t)return;const o=(this.GET_ANALYTICS||{}).chartData?.dailyTrend||{},n=o.labels||this.generateSampleLabels(7),s=o.recoveryRate||this.generateSampleData(7,5,20),a=o.abandoned||this.generateSampleData(7,10,30);this.lineChartInstance=new Chart(t,{type:"line",data:{labels:n,datasets:[{label:"Recovery Rate %",data:s,borderColor:"#51cf66",backgroundColor:"rgba(81, 207, 102, 0.1)",fill:!0,tension:.4},{label:"Carts Abandoned",data:a,borderColor:"#ff6b6b",backgroundColor:"rgba(255, 107, 107, 0.1)",fill:!0,tension:.4,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{type:"linear",display:!0,position:"left",beginAtZero:!0,max:100,ticks:{callback:function(i){return i+"%"}}},y1:{type:"linear",display:!0,position:"right",beginAtZero:!0,grid:{drawOnChartArea:!1}}},plugins:{legend:{position:"bottom"}}}})},createBarChart(){const t=this.$refs.barChart;if(!t)return;const o=(this.GET_ANALYTICS||{}).chartData?.monthlyRevenue||{},n=o.labels||["Jan","Feb","Mar","Apr","May","Jun"],s=o.revenue||this.generateSampleData(6,1e3,5e3);this.barChartInstance=new Chart(t,{type:"bar",data:{labels:n,datasets:[{label:"Recovered Revenue ($)",data:s,backgroundColor:"rgba(51, 154, 240, 0.8)",borderColor:"#339af0",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{callback:function(a){return"$"+a.toLocaleString()}}}},plugins:{legend:{position:"bottom"}}}})},createHourChart(){const t=this.$refs.hourChart;if(!t)return;const o=(this.GET_ANALYTICS||{}).chartData?.hourlyPattern||{},n=o.labels||this.generateHourlyLabels(),s=o.counts||this.generateHourlyData();this.hourChartInstance=new Chart(t,{type:"bar",data:{labels:n,datasets:[{label:"Carts Abandoned",data:s,backgroundColor:"rgba(255, 107, 107, 0.8)",borderColor:"#ff6b6b",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0},x:{ticks:{maxTicksLimit:12}}},plugins:{legend:{position:"bottom"}}}})},generateSampleLabels(t){const e=[];for(let o=t-1;o>=0;o--){const n=new Date;n.setDate(n.getDate()-o),e.push(n.toLocaleDateString("en-US",{month:"short",day:"numeric"}))}return e},generateSampleData(t,e,o){const n=[];for(let s=0;s<t;s++)n.push(Math.floor(Math.random()*(o-e))+e);return n},generateHourlyLabels(){const t=[];for(let e=0;e<24;e++)t.push(e+":00");return t},generateHourlyData(){const t=[];for(let e=0;e<24;e++)e>=9&&e<=17?t.push(Math.floor(Math.random()*15)+10):t.push(Math.floor(Math.random()*8)+2);return t}},beforeUnmount(){this.destroyCharts()}},ju={class:"drawer-title"},qu={class:"drawer-content"},$u={class:"tab-content"},Wu={key:1,class:"settings-content"},Yu={class:"settings-actions",style:{"margin-top":"20px","padding-top":"20px","border-top":"1px solid #eee"}},Ku={class:"tab-content"},Ju={class:"tab-content"},Xu={class:"carts-filter-section"},Qu={class:"date-filter-row"},Zu={class:"filter-group-area"},ep={class:"date-filter-controls"},tp={key:0,class:"custom-date-range"},np={class:"filter-group-area"},op={class:"status-search-row"},sp={class:"search-group"},ap={class:"customer-info"},ip={class:"customer-icon",style:{display:"flex","align-items":"center",gap:"8px"}},lp={class:"customer-name",style:{"font-weight":"500"}},rp={class:"customer-email",style:{"font-size":"12px",color:"#666"}},cp={style:{display:"flex","align-items":"center",gap:"6px"}},dp={class:"carts-pagination",style:{"margin-top":"20px","text-align":"center"}},up={key:0,class:"floating-bulk-actions"},pp={class:"action-count"},fp={class:"tab-content"},mp={class:"analytics-content"},hp={class:"date-range-selector",style:{"margin-bottom":"20px"}},gp={class:"date-controls"},_p={class:"period-selector-row"},yp={class:"period-select-wrapper"},Tp={key:0,class:"custom-date-range"},bp={class:"metric-content"},Ep={class:"metric-value"},vp={class:"metric-content"},Cp={class:"metric-value"},Sp={class:"metric-content"},Dp={class:"metric-value"},Ap={class:"metric-content"},Lp={class:"metric-value"},Ip={class:"analytics-charts"},Op={class:"chart-container"},Np={ref:"pieChart",id:"pieChart",width:"400",height:"300"},xp={class:"chart-container"},Rp={ref:"lineChart",id:"lineChart",width:"400",height:"300"},kp={class:"chart-container"},Pp={ref:"barChart",id:"barChart",width:"400",height:"300"},Mp={class:"chart-container"},Gp={ref:"hourChart",id:"hourChart",width:"400",height:"300"};function Fp(t,e,o,n,s,a){const i=M("ShoppingCart"),r=we,p=yt,d=M("DefaultField"),u=re,h=Yt,g=Ps,y=Aa,_=Ot,T=Nt,b=Ms,C=M("Search"),L=dt,D=xs,k=M("User"),N=M("UserFilled"),x=Xt,O=M("Clock"),ue=M("View"),X=M("CircleClose"),Re=M("Delete"),Te=Rs,ke=Ns,Le=yi,R=M("Setting"),ne=M("Loading"),ae=Ti,he=bi,Ie=Ei,Ce=oe,Ue=tt,Ke=et,on=Gs,Ho=Rn,sn=Kt;return m(),w(Ho,{modelValue:a.visible,"onUpdate:modelValue":e[10]||(e[10]=H=>a.visible=H),title:"Abandoned Cart Module",size:"80vw","with-header":!0,"destroy-on-close":"",class:"woolentor-abandoned-cart-drawer woolentor-settings-drawer",style:{"max-width":"1200px"}},{header:f(()=>[l("h3",ju,[c(r,null,{default:f(()=>[c(i)]),_:1}),e[11]||(e[11]=P(" Abandoned Cart Management "))])]),default:f(()=>[De((m(),E("div",qu,[c(on,{modelValue:s.activeTab,"onUpdate:modelValue":e[9]||(e[9]=H=>s.activeTab=H),class:"abandoned-cart-tabs",onTabChange:a.handleTabChange},{default:f(()=>[c(g,{label:"Settings",name:"settings"},{default:f(()=>[c(h,{height:"calc(100vh - 250px)"},{default:f(()=>[l("div",$u,[s.loading?(m(),w(p,{key:0,rows:8,animated:""})):(m(),E("div",Wu,[(m(!0),E(W,null,te(s.settingsFields,(H,an)=>De((m(),E("div",{class:"woolentor-group-field-item",key:H.id},[a.hasComponent(H.type)?(m(),w(ct(a.getFieldComponentName(H.type)),{key:H.id,field:H,model:s.settingsData,class:V(a.classes(H.type)),onOnChange:a.handleSettingsChange,onOpenProModal:e[0]||(e[0]=zo=>t.$emit("openProModal",!0))},null,40,["field","model","class","onOnChange"])):(m(),w(d,{key:H.id+"unique",field:H,model:s.settingsData,class:V(a.classes(H.type)),onOnChange:a.handleSettingsChange,onOpenProModal:e[1]||(e[1]=zo=>t.$emit("openProModal",!0))},null,8,["field","model","class","onOnChange"]))])),[[It,n.shouldShowField(H,s.settingsData)]])),128)),l("div",Yu,[c(u,{type:"primary",onClick:a.saveSettings,loading:t.GET_SETTINGS_LOADING},{default:f(()=>e[12]||(e[12]=[P(" Save Settings ")])),_:1},8,["onClick","loading"])])]))])]),_:1})]),_:1}),c(g,{label:"Email Templates",name:"email-templates"},{default:f(()=>[c(h,{height:"calc(100vh - 250px)"},{default:f(()=>[l("div",Ku,[(m(),w(ei,null,[c(y,{key:"email-templates-component",placeholders:o.placeholders},null,8,["placeholders"])],1024))])]),_:1})]),_:1}),c(g,{label:"Abandoned Carts",name:"abandoned-carts"},{default:f(()=>[c(h,{height:"calc(100vh - 250px)"},{default:f(()=>[l("div",Ju,[l("div",Xu,[l("div",Qu,[l("div",Zu,[l("div",ep,[c(T,{modelValue:s.cartsDateRange,"onUpdate:modelValue":e[2]||(e[2]=H=>s.cartsDateRange=H),onChange:a.onCartsDateRangeChange,placeholder:"Select Period",style:{width:"180px"}},{default:f(()=>[c(_,{label:"All Time",value:"all"}),c(_,{label:"Last 7 Days",value:"7days"}),c(_,{label:"Last 30 Days",value:"30days"}),c(_,{label:"Last 3 Months",value:"3months"}),c(_,{label:"Custom Range",value:"custom"})]),_:1},8,["modelValue","onChange"]),s.cartsDateRange==="custom"?(m(),E("div",tp,[c(b,{modelValue:s.cartsCustomDateRange,"onUpdate:modelValue":e[3]||(e[3]=H=>s.cartsCustomDateRange=H),type:"daterange","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:a.onCartsCustomDateChange,style:{width:"300px"}},null,8,["modelValue","onChange"])])):S("",!0)]),l("div",np,[c(T,{modelValue:s.cartsFilters.status,"onUpdate:modelValue":e[4]||(e[4]=H=>s.cartsFilters.status=H),placeholder:"Filter by status",clearable:"",onChange:a.handleCartsFilterChange,style:{width:"150px"}},{default:f(()=>[c(_,{label:"All statuses",value:"all"}),c(_,{label:"Abandoned",value:"abandoned"}),c(_,{label:"Recovered",value:"recovered"})]),_:1},8,["modelValue","onChange"])])]),l("div",op,[l("div",sp,[c(L,{modelValue:s.searchTerm,"onUpdate:modelValue":e[5]||(e[5]=H=>s.searchTerm=H),placeholder:"Search by email...",style:{width:"300px"},onInput:a.handleSearch,onClear:a.clearSearch,clearable:""},{prefix:f(()=>[c(r,null,{default:f(()=>[c(C)]),_:1})]),_:1},8,["modelValue","onInput","onClear"])])])])]),De((m(),w(ke,{data:t.GET_CARTS,style:{width:"100%"},"empty-text":"No abandoned carts found",onSelectionChange:a.handleSelectionChange,"row-key":"id"},{default:f(()=>[c(D,{type:"selection",width:"55"}),c(D,{label:"Customer","min-width":"200",prop:"user_email"},{default:f(({row:H})=>[l("div",ap,[l("div",ip,[c(r,{style:Ae({color:H.user_id?"#0073aa":"#72777c"})},{default:f(()=>[H.user_id?(m(),w(k,{key:0})):(m(),w(N,{key:1}))]),_:2},1032,["style"]),l("div",null,[l("div",lp,I(a.getCustomerName(H)),1),l("div",rp,I(H.user_email||"No email"),1)])])])]),_:1}),c(D,{prop:"cart_total",label:"Cart Total",width:"130"},{default:f(({row:H})=>[l("strong",null,I(a.formatCurrency(H.cart_total)),1)]),_:1}),c(D,{prop:"status",label:"Order Status",width:"140"},{default:f(({row:H})=>[c(x,{type:a.getStatusColor(H.status),size:"small"},{default:f(()=>[P(I(a.capitalizeFirst(H.status)),1)]),_:2},1032,["type"])]),_:1}),c(D,{prop:"created_at",label:"Date",width:"200"},{default:f(({row:H})=>[l("div",cp,[c(r,{style:{color:"#72777c"}},{default:f(()=>[c(O)]),_:1}),l("span",null,I(a.formatDate(H.created_at)),1)])]),_:1}),c(D,{label:"Actions",width:"220",fixed:"right"},{default:f(({row:H})=>[c(Te,{size:"small"},{default:f(()=>[c(u,{onClick:an=>a.viewCartDetails(H),title:"View cart details"},{default:f(()=>[c(r,null,{default:f(()=>[c(ue)]),_:1})]),_:2},1032,["onClick"]),c(u,{type:"warning",onClick:an=>a.unsubscribeCart(H.id),disabled:H.unsubscribed!=="0",title:"Unsubscribe"},{default:f(()=>[c(r,null,{default:f(()=>[c(X)]),_:1})]),_:2},1032,["onClick","disabled"]),c(u,{type:"danger",onClick:an=>a.deleteCart(H.id),title:"Delete cart"},{default:f(()=>[c(r,null,{default:f(()=>[c(Re)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data","onSelectionChange"])),[[sn,t.GET_CARTS_LOADING||t.GET_CARTS_SEARCHING||t.GET_CART_DETAILS_LOADING]]),l("div",dp,[c(Le,{"current-page":s.cartsCurrentPage,"onUpdate:currentPage":e[6]||(e[6]=H=>s.cartsCurrentPage=H),"page-size":s.cartsPerPage,total:s.cartsTotal,layout:"total, prev, pager, next, jumper",onCurrentChange:a.handleCartsPageChange},null,8,["current-page","page-size","total","onCurrentChange"])]),s.selectedCarts.length>0?(m(),E("div",up,[c(Ie,{onCommand:a.handleBulkAction,placement:"top"},{dropdown:f(()=>[c(he,null,{default:f(()=>[c(ae,{command:"delete"},{default:f(()=>[c(r,null,{default:f(()=>[c(Re)]),_:1}),P(" Delete Selected ("+I(s.selectedCarts.length)+") ",1)]),_:1}),c(ae,{command:"unsubscribe"},{default:f(()=>[c(r,null,{default:f(()=>[c(X)]),_:1}),P(" Unsubscribe Selected ("+I(s.selectedCarts.length)+") ",1)]),_:1})]),_:1})]),default:f(()=>[c(u,{type:"primary",size:"large",circle:"",class:"floating-action-btn"},{default:f(()=>[t.GET_BULK_ACTION_LOADING?(m(),w(r,{key:1,class:"is-loading"},{default:f(()=>[c(ne)]),_:1})):(m(),w(r,{key:0},{default:f(()=>[c(R)]),_:1})),l("span",pp,I(s.selectedCarts.length),1)]),_:1})]),_:1},8,["onCommand"])])):S("",!0)])]),_:1})]),_:1}),c(g,{label:"Analytics",name:"analytics"},{default:f(()=>[c(h,{height:"calc(100vh - 250px)"},{default:f(()=>[l("div",fp,[De((m(),E("div",mp,[l("div",hp,[l("div",gp,[l("div",_p,[l("div",yp,[c(T,{modelValue:s.selectedDateRange,"onUpdate:modelValue":e[7]||(e[7]=H=>s.selectedDateRange=H),onChange:a.onDateRangeChange,placeholder:"Select Period",style:{width:"200px"}},{default:f(()=>[c(_,{label:"Last 7 Days",value:"7days"}),c(_,{label:"Last 30 Days",value:"30days"}),c(_,{label:"Last 3 Months",value:"3months"}),c(_,{label:"Last Year",value:"year"}),c(_,{label:"Custom Range",value:"custom"})]),_:1},8,["modelValue","onChange"])]),s.selectedDateRange==="custom"?(m(),E("div",Tp,[c(b,{modelValue:s.customDateRange,"onUpdate:modelValue":e[8]||(e[8]=H=>s.customDateRange=H),type:"daterange","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:a.onCustomDateChange,style:{width:"300px"}},null,8,["modelValue","onChange"])])):S("",!0)])])]),c(Ke,{gutter:20,style:{"margin-bottom":"30px"}},{default:f(()=>[c(Ue,{span:6},{default:f(()=>[c(Ce,{class:"metric-card"},{default:f(()=>[l("div",bp,[l("div",Ep,I(t.GET_ANALYTICS.totalAbandoned||0),1),e[13]||(e[13]=l("div",{class:"metric-label"},"Total Abandoned",-1))])]),_:1})]),_:1}),c(Ue,{span:6},{default:f(()=>[c(Ce,{class:"metric-card"},{default:f(()=>[l("div",vp,[l("div",Cp,I(t.GET_ANALYTICS.totalRecovered||0),1),e[14]||(e[14]=l("div",{class:"metric-label"},"Total Recovered",-1))])]),_:1})]),_:1}),c(Ue,{span:6},{default:f(()=>[c(Ce,{class:"metric-card"},{default:f(()=>[l("div",Sp,[l("div",Dp,I(a.formatCurrency(t.GET_ANALYTICS.recoveredRevenue)),1),e[15]||(e[15]=l("div",{class:"metric-label"},"Recovered Revenue",-1))])]),_:1})]),_:1}),c(Ue,{span:6},{default:f(()=>[c(Ce,{class:"metric-card"},{default:f(()=>[l("div",Ap,[l("div",Lp,I(t.GET_ANALYTICS.recoveryRate||0)+"%",1),e[16]||(e[16]=l("div",{class:"metric-label"},"Recovery Rate",-1))])]),_:1})]),_:1})]),_:1}),l("div",Ip,[c(Ke,{gutter:20},{default:f(()=>[c(Ue,{span:12},{default:f(()=>[c(Ce,null,{header:f(()=>e[17]||(e[17]=[l("span",null,"Cart Status Distribution",-1)])),default:f(()=>[l("div",Op,[l("canvas",Np,null,512)])]),_:1})]),_:1}),c(Ue,{span:12},{default:f(()=>[c(Ce,null,{header:f(()=>e[18]||(e[18]=[l("span",null,"Recovery Rate Trend",-1)])),default:f(()=>[l("div",xp,[l("canvas",Rp,null,512)])]),_:1})]),_:1})]),_:1}),c(Ke,{gutter:20,style:{"margin-top":"20px"}},{default:f(()=>[c(Ue,{span:12},{default:f(()=>[c(Ce,null,{header:f(()=>e[19]||(e[19]=[l("span",null,"Monthly Revenue Recovery",-1)])),default:f(()=>[l("div",kp,[l("canvas",Pp,null,512)])]),_:1})]),_:1}),c(Ue,{span:12},{default:f(()=>[c(Ce,null,{header:f(()=>e[20]||(e[20]=[l("span",null,"Abandonment by Hour",-1)])),default:f(()=>[l("div",Mp,[l("canvas",Gp,null,512)])]),_:1})]),_:1})]),_:1})])])),[[sn,t.GET_ANALYTICS_LOADING]])])]),_:1})]),_:1})]),_:1},8,["modelValue","onTabChange"])])),[[sn,s.loading]])]),_:1},8,["modelValue"])}const La=F(zu,[["render",Fp],["__scopeId","data-v-7bc97f87"]]),Vp={name:"AbandonCart",components:{ProBadge:$,AbandonedCartDrawer:La,ShoppingCart:ks,Setting:Qt},props:["field","model","class"],emits:["openProModal"],data(){return{showDrawer:!1,loading:!1,fieldData:this.field,updateData:this.woolentorLocalizeData.options[this.field.id]||this.model,optionIds:this.getOptionIds()}},computed:{isAnyOptionActive(){return this.optionIds.length?this.optionIds.some(t=>this.updateData[t]==="on"):this.updateData[this.field?.id]==="on"}},methods:{openAbandonedCartDrawer(){if(this.loading=!0,this.fieldData?.is_pro){this.$emit("openProModal",!0);return}setTimeout(()=>{this.showDrawer=!0,this.loading=!1},500)},getOptionIds(){const t=this.field?.option_id;return t?t.split(",").map(e=>e.trim()):[]}}},Up={class:"woolentor-card-field-label-switcher",style:{display:"flex","align-items":"center",gap:"8px"}},Bp=["innerHTML"],Hp=["href"],zp=["href"],jp={class:"woolentor-card-field-element-switcher"},qp={class:"settings-icon-wrapper"};function $p(t,e,o,n,s,a){const i=$,r=kn,p=M("Setting"),d=we,u=re,h=La,g=oe;return m(),w(g,{style:{width:"auto",border:"1px solid #DCDCDC","border-radius":"8px"},shadow:"never","border-card":"false","body-style":"padding: 12px 20px; display: flex; align-items: center; justify-content: space-between; gap:10px;",onClick:e[1]||(e[1]=y=>s.fieldData?.is_pro?t.$emit("openProModal",!0):null)},{default:f(()=>[l("div",Up,[l("span",{style:Ae([{display:"flex","align-items":"center","font-size":"14px","font-weight":"400"},{color:a.isAnyOptionActive?"#000000":"#7D8087"}])},[l("span",{innerHTML:s.fieldData.name},null,8,Bp),s.fieldData?.is_pro?(m(),w(i,{key:0})):S("",!0)],4),s.fieldData?.documentation?(m(),w(r,{key:0,content:"Documentation",placement:"top",effect:"dark"},{default:f(()=>[l("a",{href:s.fieldData?.documentation,target:"_blank",class:"woolentor-admin-settings-link"},e[2]||(e[2]=[l("i",{class:"wli wli-question"},null,-1)]),8,Hp)]),_:1})):S("",!0),s.fieldData?.preview?(m(),w(r,{key:1,content:"Preview",placement:"top",effect:"dark"},{default:f(()=>[l("a",{href:s.fieldData?.preview,target:"_blank",class:"woolentor-admin-settings-link"},e[3]||(e[3]=[l("i",{class:"wli wli-monitor"},null,-1)]),8,zp)]),_:1})):S("",!0)]),l("div",jp,[l("div",qp,[c(u,{class:"settings-icon-btn",disabled:s.fieldData?.is_pro,onClick:ge(a.openAbandonedCartDrawer,["stop"]),style:Ae({color:a.isAnyOptionActive?"#409eff":"#7D8087"})},{default:f(()=>[c(d,{class:V({"is-spinning":s.loading})},{default:f(()=>[c(p)]),_:1},8,["class"])]),_:1},8,["disabled","onClick","style"])])]),c(h,{modelValue:s.showDrawer,"onUpdate:modelValue":e[0]||(e[0]=y=>s.showDrawer=y),fields:o.field.setting_fields,placeholders:o.field.placeholders,fieldsData:s.updateData},null,8,["modelValue","fields","placeholders","fieldsData"])]),_:1})}const Wp=F(Vp,[["render",$p],["__scopeId","data-v-502228e2"]]),Yp={name:"field-abandon-cart",template:Wp},Kp={name:"field-color",props:["field","model","class"],emits:["onChange","openProModal"],components:{ProBadge:$},data(){return{fieldData:this.field,currentRoute:this.$route}}},Jp={class:"woolentor-card-field-label"},Xp={style:{display:"flex","align-items":"center",color:"#000","font-size":"14px","font-weight":"700"}},Qp=["innerHTML"],Zp=["innerHTML"];function ef(t,e,o,n,s,a){const i=$,r=vi,p=oe;return m(),w(p,{style:{width:"auto",border:"none"},shadow:"never","body-style":"padding: 0px","border-card":"false"},{default:f(()=>[l("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",gap:"15px"},onClick:e[2]||(e[2]=d=>s.fieldData.is_pro?t.$emit("openProModal",!0):null)},[l("div",Jp,[l("span",Xp,[l("span",{innerHTML:s.fieldData.name},null,8,Qp),s.fieldData.is_pro?(m(),w(i,{key:0,style:{"margin-right":"10px"}})):S("",!0)]),s.fieldData.desc?(m(),E("p",{key:0,innerHTML:s.fieldData.desc},null,8,Zp)):S("",!0)]),l("div",{class:V(`woolentor-card-field-element ${s.fieldData?.class||""} ${this.class}`)},[c(r,{modelValue:this.model[s.fieldData.id],"onUpdate:modelValue":e[0]||(e[0]=d=>this.model[s.fieldData.id]=d),size:s.fieldData?.size,onChange:e[1]||(e[1]=d=>t.$emit("onChange")),disabled:s.fieldData?.is_pro},null,8,["modelValue","size","disabled"])],2)])]),_:1})}const tf=F(Kp,[["render",ef]]),nf={name:"field-color",template:tf},of={name:"field-date",props:["field","model","class"],emits:["onChange","openProModal"],data(){return{model:this.model,fieldData:this.field,currentRoute:this.$route}},components:{ProBadge:$},methods:{}},sf={class:"woolentor-card-field-label"},af={style:{display:"flex","align-items":"center",color:"#000","font-size":"14px","font-weight":"700"}},lf=["innerHTML"],rf=["innerHTML"],cf={class:"woolentor-card-field-element"};function df(t,e,o,n,s,a){const i=$,r=Ms,p=oe;return m(),w(p,{style:{width:"auto",border:"none"},shadow:"never","body-style":"padding: 0px","border-card":"false"},{default:f(()=>[l("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",gap:"15px"},onClick:e[2]||(e[2]=d=>s.fieldData.is_pro?t.$emit("openProModal",!0):null),class:"woolentor-element-card"},[l("div",sf,[l("span",af,[l("span",{innerHTML:s.fieldData.name},null,8,lf),s.fieldData.is_pro?(m(),w(i,{key:0,style:{"margin-right":"10px"}})):S("",!0)]),s.fieldData.desc?(m(),E("p",{key:0,innerHTML:s.fieldData.desc},null,8,rf)):S("",!0)]),l("div",cf,[c(r,{modelValue:s.model[s.fieldData.id],"onUpdate:modelValue":e[0]||(e[0]=d=>s.model[s.fieldData.id]=d),type:"date",placeholder:s.fieldData?.placeholder||"Pick a day",size:"large",onChange:e[1]||(e[1]=d=>t.$emit("onChange")),disabled:s.fieldData.is_pro},null,8,["modelValue","placeholder","disabled"])])])]),_:1})}const uf=F(of,[["render",df]]),pf={name:"field-date",template:uf},ff={name:"field-dimensions",props:["field","model","class"],emits:["onChange","openProModal"],components:{ProBadge:$},data(){return{fieldData:this.field,dimensions:{width:"",height:"",unit:"px"},units:["px","%","em","rem","vh","vw"]}},created(){this.initializeDimensions()},methods:{initializeDimensions(){const t=this.model[this.fieldData.id],e={};Object.keys(this.fieldData.options).forEach(o=>{e[o]=""}),e.unit||(e.unit="px"),this.dimensions={...e,...this.fieldData.default||{},...t||{}},t||(this.model[this.fieldData.id]=this.dimensions)},handleDimensionChange(){this.$emit("onChange"),this.model[this.fieldData.id]={...this.dimensions}}}},mf={class:"woolentor-card-field-label"},hf={style:{display:"flex","align-items":"center",color:"#000","font-size":"14px","font-weight":"700"}},gf=["innerHTML"],_f=["innerHTML"],yf={class:"woolentor-card-field-element"},Tf={class:"woolentor-dimensions-field"},bf={class:"woolentor-dimension-input-wrap"},Ef={class:"woolentor_dimensions"},vf=["id","onUpdate:modelValue","disabled"],wf=["onUpdate:modelValue","id","disabled"],Cf=["for"];function Sf(t,e,o,n,s,a){const i=$,r=oe;return m(),w(r,{style:{width:"auto",border:"none"},shadow:"never","body-style":"padding: 0px","border-card":"false"},{default:f(()=>[l("div",{class:V(`woolentor-element-card ${s.fieldData?.class||""} ${this.class}`),style:{display:"flex","align-items":"center","flex-wrap":"wrap"},onClick:e[2]||(e[2]=p=>s.fieldData.is_pro?t.$emit("openProModal",!0):null)},[l("div",mf,[l("span",hf,[l("span",{innerHTML:s.fieldData.name},null,8,gf),s.fieldData.is_pro?(m(),w(i,{key:0,style:{"margin-right":"10px"}})):S("",!0)]),s.fieldData.desc?(m(),E("p",{key:0,innerHTML:s.fieldData.desc},null,8,_f)):S("",!0)]),l("div",yf,[l("div",Tf,[l("div",bf,[l("ul",Ef,[(m(!0),E(W,null,te(s.fieldData.options,(p,d,u)=>(m(),E("li",{key:d,class:V({"woolentor-first-item":u===0,"woolentor-last-item":u===Object.keys(s.fieldData.options).length-1})},[d==="unit"?De((m(),E("input",{key:0,type:"text",class:"dimensionsbox",id:`woolentor_sp_${s.fieldData.id}${d}`,"onUpdate:modelValue":h=>s.dimensions[d]=h,disabled:s.fieldData.is_pro,onInput:e[0]||(e[0]=(...h)=>a.handleDimensionChange&&a.handleDimensionChange(...h))},null,40,vf)),[[jo,s.dimensions[d]]]):De((m(),E("input",{key:1,type:"number",class:"dimensionsbox","onUpdate:modelValue":h=>s.dimensions[d]=h,id:`woolentor_sp_${s.fieldData.id}${d}`,disabled:s.fieldData.is_pro,onInput:e[1]||(e[1]=(...h)=>a.handleDimensionChange&&a.handleDimensionChange(...h))},null,40,wf)),[[jo,s.dimensions[d]]]),l("label",{for:`woolentor_sp_${s.fieldData.id}${d}`},I(p),9,Cf)],2))),128))])])])])],2)]),_:1})}const Df=F(ff,[["render",Sf],["__scopeId","data-v-3a0e1002"]]),Af={name:"field-dimensions",template:Df},Lf={name:"field-switcher",props:["field","model","class"],emits:["onChange","openProModal","openSettingsModal"],setup(t){const{maybeShowField:e}=kt();return{shouldShowField:(n,s)=>e(n,s)}},components:{ProBadge:$,Setting:Qt,ModuleSaveButton:Bn,DefaultField:Tt},data(){return{fieldData:this.field,currentRoute:this.$route,dialogVisible:!1,updateData:{},readyToSave:{}}},computed:{...ze(["GET_MODULE_SETTING_LOADER"]),isSpinning(){return this.GET_MODULE_SETTING_LOADER(this.fieldData.id)}},mounted(){document.addEventListener("click",this.onClick)},beforeUnmount(){document.removeEventListener("click",this.onClick)},beforeDestroy(){document.removeEventListener("click",this.onClick)},methods:{...rt(["FETCH_SETTINGS","FETCH_SETTINGS_DATA","SAVE_DEPENDENCY_SETTINGS","REMOVE_LOADER","SET_MODULE_SETTING_LOADER"]),openSettings(){this.SET_MODULE_SETTING_LOADER({moduleId:this.fieldData.id,isLoading:!0}),this.initializeModal()},async initializeModal(){this.dialogVisible=!1;try{const t=Y.get(this.fieldData.parent_id);if(t){this.updateData=t,this.dialogVisible=!0,this.SET_MODULE_SETTING_LOADER({moduleId:this.fieldData.id,isLoading:!1});return}const e=await this.FETCH_SETTINGS_DATA(["",this.fieldData.parent_id]);this.updateData=e,Y.set(this.fieldData.parent_id,this.updateData,6e3),this.dialogVisible=!0,this.SET_MODULE_SETTING_LOADER({moduleId:this.fieldData.id,isLoading:!1})}catch(t){console.log(t)}},onChange(){this.saveAndResetButtonEnable()},saveAndResetButtonEnable(){this.$store.dispatch("SAVE_MODULE_BUTTON_CONTROL",{text:this.woolentorLocalizeData.labels.saveButton.text,class:"",disabled:!1}),this.$store.dispatch("RESET_MODULE_BUTTON_CONTROL",{text:this.woolentorLocalizeData.labels.resetButton.text,class:"",disabled:!1})},getFieldComponentName(t){return"field-"+t},hasComponent(t){const e=this.getFieldComponentName(t);return!!this.woolentorCustomComponents.find(n=>n.name===e)},classes(t,e=""){return e!==""?e.hasOwnProperty("class")?e.class:"":["woolentor-opt-field",t=="text"?"woolentor-regular-text":`woolentor-opt-field-${t}`]},async submit(t){t.preventDefault();try{this.readyToSave.verifynonce=this.woolentorLocalizeData.verifynonce;const e={...this.readyToSave,...this.updateData,detectId:this.field.id},o=await this.SAVE_DEPENDENCY_SETTINGS([e,this.$router.currentRoute._value.meta.id]);o&&o.data&&(Y.set(this.fieldData.parent_id,this.updateData),le({title:"Success",message:"Settings saved successfully",type:"success",duration:2e3,position:"top-right",offset:30}))}catch{le({title:"Error",message:"Failed to save settings. Please try again.",type:"error",duration:3e3,position:"top-right",offset:30})}},closeModalClick(){this.SET_MODULE_SETTING_LOADER({moduleId:this.fieldData.parent_id,isLoading:!1}),this.dialogVisible=!1},onClick(t){t.target.classList.contains("el-overlay-dialog")&&this.closeModalClick()}}},If={class:"woolentor-card-field-label-switcher",style:{display:"flex","align-items":"center",gap:"8px"}},Of=["innerHTML"],Nf=["href"],xf=["href"],Rf={class:"woolentor-form-wrapper"},kf={class:"woolentor-form-module-fields"},Pf={class:"woolentor-footer-savebutton"};function Mf(t,e,o,n,s,a){const i=$,r=kn,p=M("Setting"),d=we,u=re,h=Jt,g=M("DefaultField"),y=Ze,_=Bn,T=_t,b=oe;return m(),w(b,{style:{width:"auto",border:"1px solid #DCDCDC","border-radius":"8px"},shadow:"never","border-card":"false","body-style":"padding: 12px 20px;display: flex; align-items: center; justify-content: space-between;gap:10px;",onClick:e[8]||(e[8]=C=>s.fieldData.is_pro?t.$emit("openProModal",!0):null)},{default:f(()=>[l("div",If,[l("span",{style:Ae([{display:"flex","align-items":"center",color:"#000","font-size":"14px","font-weight":"400"},{color:o.model[s.fieldData.id]=="on"?"#000000":"#7D8087"}])},[l("span",{innerHTML:s.fieldData.name},null,8,Of),s.fieldData.is_pro?(m(),w(i,{key:0})):S("",!0)],4),s.fieldData?.documentation?(m(),w(r,{key:0,content:"Documentation",placement:"top",effect:"dark"},{default:f(()=>[l("a",{href:s.fieldData?.documentation,target:"_blank",class:"woolentor-admin-settings-link"},e[9]||(e[9]=[l("i",{class:"wli wli-question"},null,-1)]),8,Nf)]),_:1})):S("",!0),s.fieldData?.preview?(m(),w(r,{key:1,content:"Preview",placement:"top",effect:"dark"},{default:f(()=>[l("a",{href:s.fieldData?.preview,target:"_blank",class:"woolentor-admin-settings-link"},e[10]||(e[10]=[l("i",{class:"wli wli-monitor"},null,-1)]),8,xf)]),_:1})):S("",!0)]),l("div",{class:V(`woolentor-card-field-element-switcher ${s.fieldData?.class||""} ${this.class}`)},[s.fieldData.require_settings&&o.model[s.fieldData.id]=="on"?(m(),w(u,{key:0,class:"settings-icon-btn",disabled:s.fieldData?.is_pro,onClick:ge(a.openSettings,["stop"]),style:{color:"#409eff"},type:"text"},{default:f(()=>[c(d,{class:V({"is-spinning":a.isSpinning})},{default:f(()=>[c(p)]),_:1},8,["class"])]),_:1},8,["disabled","onClick"])):S("",!0),c(h,{modelValue:o.model[s.fieldData.id],"onUpdate:modelValue":e[0]||(e[0]=C=>o.model[s.fieldData.id]=C),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#3489FE","--el-switch-off-color":"#7D8087"},"active-text":"ON","inactive-text":"OFF","active-value":"on","inactive-value":"off",onChange:e[1]||(e[1]=C=>t.$emit("onChange")),disabled:s.fieldData.is_pro},null,8,["modelValue","disabled"])],2),c(T,{modelValue:s.dialogVisible,"onUpdate:modelValue":e[7]||(e[7]=C=>s.dialogVisible=C),width:800,"close-on-click-modal":!1,onClose:a.closeModalClick,class:"woolentor-module-setting-popup woolentor-element-dependency-popup",style:{padding:"20px"}},{footer:f(()=>[l("div",{class:"woolentor-module-footer-settings",onClick:e[6]||(e[6]=ge(()=>{},["stop"]))},[l("div",Pf,[c(_,{onClick:ge(a.submit,["stop"])},null,8,["onClick"])])])]),default:f(()=>[l("div",{class:"woolentor-module-content",onClick:e[5]||(e[5]=ge(()=>{},["stop"]))},[l("form",{onSubmit:e[4]||(e[4]=ge((...C)=>a.submit&&a.submit(...C),["prevent"])),class:"woolentor-module-setting-data"},[l("div",Rf,[l("div",kf,[(m(!0),E(W,null,te(s.fieldData.setting_fields,C=>De((m(),E("div",{class:"woolentor-module-field-item",key:C.id},[a.hasComponent(C.type)?(m(),w(ct(a.getFieldComponentName(C.type)),{key:C.id,field:C,model:s.updateData,class:V(a.classes(C.type)),onOnChange:a.onChange,onOpenProModal:e[2]||(e[2]=L=>t.$emit("openProModal",!0))},null,40,["field","model","class","onOnChange"])):(m(),w(g,{key:C.id+"unique",field:C,model:s.updateData,class:V(a.classes(C.type)),onOnChange:a.onChange,onOpenProModal:e[3]||(e[3]=L=>t.$emit("openProModal",!0))},null,8,["field","model","class","onOnChange"])),C.id!==s.fieldData.setting_fields[s.fieldData.setting_fields.length-1].id?(m(),w(y,{key:2})):S("",!0)])),[[It,n.shouldShowField(s.fieldData.setting_fields,s.updateData)]])),128))])])],32)])]),_:1},8,["modelValue","onClose"])]),_:1})}const Gf=F(Lf,[["render",Mf]]),Ff={name:"field-element",template:Gf},Vf={name:"field-groupsetting",props:["field","model","class"],emits:["onChange","openProModal"],components:{ProBadge:$,Setting:Qt,Close:wi,DefaultField:Tt,ElNotification:le},setup(t){const{maybeShowField:e}=kt();return{getTextFromHtml:zn,shouldShowField:(n,s)=>e(n,s)}},data(){return{fieldData:this.field,currentRoute:this.$route,drawerVisible:!1,updateData:this.woolentorLocalizeData.options[this.field.id+"_group"]||{},readyToSave:{},activeTab:this.field?.active_tab||"general",settingsTabs:this.field?.setting_tabs||[],isOpening:!1,disabledSaveBtn:!0}},computed:{...ze(["GET_GROUP_SETTING_LOADER"]),isSpinning(){return this.GET_GROUP_SETTING_LOADER(this.fieldData.id)}},methods:{...rt(["SAVE_GROUP_SETTINGS"]),openSettingsDrawer(t){t.preventDefault(),this.isOpening=!0,this.fieldData.is_pro||(this.drawerVisible=!0),this.isOpening=!1},cancelClick(){this.drawerVisible=!1},onChange(){this.disabledSaveBtn=!1},async saveSettings(){try{this.readyToSave.verifynonce=this.woolentorLocalizeData.verifynonce;const t={...this.readyToSave,...this.updateData},e=await this.SAVE_GROUP_SETTINGS([t,this.fieldData.id,this.$router.currentRoute._value.meta.id]);e&&e.data&&(Y.set(this.fieldData.id,this.updateData),this.disabledSaveBtn=!0,le({title:"Success",message:"Settings saved successfully",type:"success",duration:2e3,position:"top-right",offset:30}))}catch{le({title:"Error",message:"Failed to save settings. Please try again.",type:"error",duration:3e3,position:"top-right",offset:30})}},getFieldComponentName(t){return"field-"+t},hasComponent(t){const e=this.getFieldComponentName(t);return!!this.woolentorCustomComponents.find(n=>n.name===e)},classes(t,e=""){return e!==""?e.hasOwnProperty("class")?e.class:"":["woolentor-opt-field",t=="text"?"woolentor-regular-text":`woolentor-opt-field-${t}`]}}},Uf={class:"woolentor-card-field-label-switcher",style:{display:"flex","align-items":"center",gap:"8px"}},Bf=["innerHTML"],Hf=["href"],zf=["href"],jf={class:"settings-icon-wrapper"},qf={class:"drawer-title"},$f={class:"tab-content"},Wf={style:{flex:"auto"},class:"woolentor-drawer-footer"};function Yf(t,e,o,n,s,a){const i=$,r=kn,p=M("Setting"),d=we,u=re,h=Jt,g=oe,y=M("DefaultField"),_=Ze,T=Yt,b=Ps,C=Gs,L=Rn;return m(),E(W,null,[c(g,{style:{width:"auto",border:"1px solid #DCDCDC","border-radius":"8px"},shadow:"never","border-card":"false","body-style":"padding: 12px 20px; display: flex; align-items: center; justify-content: space-between;gap:10px;",onClick:e[2]||(e[2]=D=>s.fieldData?.is_pro?t.$emit("openProModal",!0):null)},{default:f(()=>[l("div",Uf,[l("span",{style:Ae([{display:"flex","align-items":"center",color:"#000","font-size":"14px","font-weight":"400"},{color:o.model[s.fieldData.id]=="on"?"#000000":"#7D8087"}])},[l("span",{innerHTML:s.fieldData.name},null,8,Bf),s.fieldData.is_pro?(m(),w(i,{key:0})):S("",!0)],4),s.fieldData?.documentation?(m(),w(r,{key:0,content:"Documentation",placement:"top",effect:"dark"},{default:f(()=>[l("a",{href:s.fieldData?.documentation,target:"_blank",class:"woolentor-admin-settings-link"},e[8]||(e[8]=[l("i",{class:"wli wli-question"},null,-1)]),8,Hf)]),_:1})):S("",!0),s.fieldData?.preview?(m(),w(r,{key:1,content:"Preview",placement:"top",effect:"dark"},{default:f(()=>[l("a",{href:s.fieldData?.preview,target:"_blank",class:"woolentor-admin-settings-link"},e[9]||(e[9]=[l("i",{class:"wli wli-monitor"},null,-1)]),8,zf)]),_:1})):S("",!0)]),l("div",{class:V(`woolentor-card-field-element-switcher ${s.fieldData?.class||""} ${this.class}`)},[l("div",jf,[o.model[s.fieldData.id]=="on"?(m(),w(u,{key:0,class:"settings-icon-btn",disabled:s.fieldData?.is_pro,style:{color:"#409eff"},type:"text",onClick:ge(a.openSettingsDrawer,["stop"])},{default:f(()=>[c(d,{class:V({"is-spinning":s.isOpening})},{default:f(()=>[c(p)]),_:1},8,["class"])]),_:1},8,["disabled","onClick"])):S("",!0),c(h,{modelValue:o.model[s.fieldData.id],"onUpdate:modelValue":e[0]||(e[0]=D=>o.model[s.fieldData.id]=D),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#3489FE","--el-switch-off-color":"#7D8087"},"active-text":"ON","inactive-text":"OFF","active-value":"on","inactive-value":"off",onChange:e[1]||(e[1]=D=>t.$emit("onChange")),disabled:s.fieldData.is_pro},null,8,["modelValue","disabled"])])],2)]),_:1}),c(L,{modelValue:s.drawerVisible,"onUpdate:modelValue":e[7]||(e[7]=D=>s.drawerVisible=D),title:"Settings",size:"75vw","with-header":!0,"destroy-on-close":"",class:"woolentor-settings-drawer",style:{"max-width":"900px"}},{header:f(()=>[l("h3",qf,I(s.fieldData.name)+" Settings",1)]),footer:f(()=>[l("div",Wf,[c(u,{type:"primary",size:"large",onClick:a.saveSettings,disabled:a.isSpinning||s.disabledSaveBtn,loading:a.isSpinning},{default:f(()=>e[10]||(e[10]=[P("Save Settings")])),_:1},8,["onClick","disabled","loading"])])]),default:f(()=>[l("div",{class:"drawer-content",onClick:e[6]||(e[6]=ge(()=>{},["stop"]))},[c(C,{modelValue:s.activeTab,"onUpdate:modelValue":e[5]||(e[5]=D=>s.activeTab=D),class:"settings-tabs"},{default:f(()=>[(m(!0),E(W,null,te(s.settingsTabs,(D,k)=>(m(),w(b,{key:k,label:D.name,name:D.id},{default:f(()=>[c(T,{height:"calc(100vh - 250px)"},{default:f(()=>[l("div",$f,[(m(!0),E(W,null,te(D.fields,(N,x)=>De((m(),E("div",{class:"woolentor-group-field-item",key:N.id},[a.hasComponent(N.type)?(m(),w(ct(a.getFieldComponentName(N.type)),{key:N.id,field:N,model:s.updateData[D.setting_group],class:V(a.classes(N.type)),onOnChange:a.onChange,onOpenProModal:e[3]||(e[3]=O=>t.$emit("openProModal",!0))},null,40,["field","model","class","onOnChange"])):(m(),w(y,{key:N.id+"unique",field:N,model:s.updateData[D.setting_group],class:V(a.classes(N.type)),onOnChange:a.onChange,onOpenProModal:e[4]||(e[4]=O=>t.$emit("openProModal",!0))},null,8,["field","model","class","onOnChange"])),N.id!==D.fields[D.fields.length-1].id?(m(),w(_,{key:2})):S("",!0)])),[[It,n.shouldShowField(N,s.updateData[D.setting_group])]])),128))])]),_:2},1024)]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])],64)}const Kf=F(Vf,[["render",Yf]]),Jf={name:"field-groupsetting",template:Kf},Xf={name:"field-html",props:["field","model","class"],emits:["onChange","openProModal"],components:{ProBadge:$},setup(t){const e=G(!1),o=G(null),n=G(null),s=async a=>{const i=a,r=Y.get(i);if(r){n.value=r;return}e.value=!0,o.value=null;try{const p=await Z.get(a,{params:{nonce:woolentorOptions.verifynonce}});p?.data?.content&&(n.value=p.data.content,Y.set(i,p.data.content,{duration:6e3}))}catch(p){o.value="Failed to load content. Please try again later.",console.error("API Error:",p)}finally{e.value=!1}};return Qe(()=>{t.field?.api_info?.url&&s(t.field.api_info.url)}),{loading:e,error:o,apiContent:n}},data(){return{fieldData:this.field}},methods:{handleCustomComponentUpdate(t){this.$emit("onChange",t)}},computed:{displayContent(){return this.apiContent||this.fieldData.html}}},Qf={key:0,class:"woolentor-card-field-label"},Zf={style:{display:"flex","align-items":"center",color:"#000","font-size":"14px","font-weight":"700"}},em=["innerHTML"],tm=["innerHTML"],nm={key:0,class:"woolentor-loading"},om={key:1,class:"woolentor-error"},sm=["innerHTML"];function am(t,e,o,n,s,a){const i=$,r=yt,p=oe;return m(),w(p,{style:{width:"auto",border:"none"},shadow:"never","body-style":"padding: 0px","border-card":"false"},{default:f(()=>[l("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",gap:"15px"},onClick:e[0]||(e[0]=d=>s.fieldData.is_pro?t.$emit("openProModal",!0):null)},[s.fieldData.name?(m(),E("div",Qf,[l("span",Zf,[l("span",{innerHTML:s.fieldData.name},null,8,em),s.fieldData.is_pro?(m(),w(i,{key:0,style:{"margin-right":"10px"}})):S("",!0)]),s.fieldData.desc?(m(),E("p",{key:0,innerHTML:s.fieldData.desc},null,8,tm)):S("",!0)])):S("",!0),l("div",{class:V(`${s.fieldData.name?"woolentor-card-field-element":"woolentor-html-field-area"}`)},[s.fieldData.component?(m(),w(ct(s.fieldData.component),So({key:0},s.fieldData||{},{onUpdate:a.handleCustomComponentUpdate}),null,16,["onUpdate"])):(m(),E("div",{key:1,class:V(`${s.fieldData.name?"woolentor-admin-html-field":"woolentor-html-field-wrapper"}`)},[n.loading?(m(),E("div",nm,[c(r,{rows:3,animated:""})])):n.error?(m(),E("div",om,I(n.error),1)):(m(),E("div",{key:2,innerHTML:a.displayContent},null,8,sm))],2))],2)])]),_:1})}const im=F(Xf,[["render",am],["__scopeId","data-v-4bd803f8"]]),lm={name:"field-html",template:im},rm={name:"field-iconpicker",props:["field","model"],emits:["onChange","openProModal"],components:{ProBadge:$,Search:Lo,ArrowDown:ko,ArrowUp:Fs,ArrowRight:Vs,ArrowLeft:Ci},setup(t,{emit:e}){const o=G(t.field),n=G(""),s=G(!1),a=G([{value:"all",label:"From all categories"},{value:"general",label:"General"},{value:"social",label:"Social"},{value:"business",label:"Business"}]),i=G("all"),r=[{icon:"",category:"general",isNone:!0},{icon:"sli sli-user",category:"general"},{icon:"sli sli-people",category:"general"},{icon:"sli sli-user-female",category:"general"},{icon:"sli sli-user-follow",category:"general"},{icon:"sli sli-user-following",category:"general"},{icon:"sli sli-user-unfollow",category:"general"},{icon:"sli sli-login",category:"general"},{icon:"sli sli-logout",category:"general"},{icon:"sli sli-emotsmile",category:"general"},{icon:"sli sli-phone",category:"general"},{icon:"sli sli-call-end",category:"general"},{icon:"sli sli-call-in",category:"general"},{icon:"sli sli-call-out",category:"general"},{icon:"sli sli-map",category:"general"},{icon:"sli sli-location-pin",category:"general"},{icon:"sli sli-direction",category:"general"},{icon:"sli sli-directions",category:"general"},{icon:"sli sli-compass",category:"general"},{icon:"sli sli-layers",category:"general"},{icon:"sli sli-menu",category:"general"},{icon:"sli sli-list",category:"general"},{icon:"sli sli-options-vertical",category:"general"},{icon:"sli sli-options",category:"general"},{icon:"sli sli-arrow-down",category:"general"},{icon:"sli sli-arrow-left",category:"general"},{icon:"sli sli-arrow-right",category:"general"},{icon:"sli sli-arrow-up",category:"general"},{icon:"sli sli-arrow-up-circle",category:"general"},{icon:"sli sli-arrow-left-circle",category:"general"},{icon:"sli sli-arrow-right-circle",category:"general"},{icon:"sli sli-arrow-down-circle",category:"general"},{icon:"sli sli-check",category:"general"},{icon:"sli sli-clock",category:"general"},{icon:"sli sli-plus",category:"general"},{icon:"sli sli-minus",category:"general"},{icon:"sli sli-close",category:"general"},{icon:"sli sli-event",category:"general"},{icon:"sli sli-exclamation",category:"general"},{icon:"sli sli-organization",category:"general"},{icon:"sli sli-trophy",category:"general"},{icon:"sli sli-screen-smartphone",category:"general"},{icon:"sli sli-screen-desktop",category:"general"},{icon:"sli sli-plane",category:"general"},{icon:"sli sli-notebook",category:"general"},{icon:"sli sli-mustache",category:"general"},{icon:"sli sli-mouse",category:"general"},{icon:"sli sli-magnet",category:"general"},{icon:"sli sli-energy",category:"general"},{icon:"sli sli-disc",category:"general"},{icon:"sli sli-cursor",category:"general"},{icon:"sli sli-cursor-move",category:"general"},{icon:"sli sli-crop",category:"general"},{icon:"sli sli-chemistry",category:"general"},{icon:"sli sli-speedometer",category:"general"},{icon:"sli sli-shield",category:"general"},{icon:"sli sli-screen-tablet",category:"general"},{icon:"sli sli-magic-wand",category:"general"},{icon:"sli sli-hourglass",category:"general"},{icon:"sli sli-graduation",category:"general"},{icon:"sli sli-ghost",category:"general"},{icon:"sli sli-game-controller",category:"general"},{icon:"sli sli-fire",category:"general"},{icon:"sli sli-eyeglass",category:"general"},{icon:"sli sli-envelope-open",category:"general"},{icon:"sli sli-envelope-letter",category:"general"},{icon:"sli sli-bell",category:"general"},{icon:"sli sli-badge",category:"general"},{icon:"sli sli-anchor",category:"general"},{icon:"sli sli-wallet",category:"general"},{icon:"sli sli-vector",category:"general"},{icon:"sli sli-speech",category:"general"},{icon:"sli sli-puzzle",category:"general"},{icon:"sli sli-printer",category:"general"},{icon:"sli sli-present",category:"general"},{icon:"sli sli-playlist",category:"general"},{icon:"sli sli-pin",category:"general"},{icon:"sli sli-picture",category:"general"},{icon:"sli sli-handbag",category:"general"},{icon:"sli sli-globe-alt",category:"general"},{icon:"sli sli-globe",category:"general"},{icon:"sli sli-folder-alt",category:"general"},{icon:"sli sli-folder",category:"general"},{icon:"sli sli-film",category:"general"},{icon:"sli sli-feed",category:"general"},{icon:"sli sli-drop",category:"general"},{icon:"sli sli-drawer",category:"general"},{icon:"sli sli-docs",category:"general"},{icon:"sli sli-doc",category:"general"},{icon:"sli sli-diamond",category:"general"},{icon:"sli sli-cup",category:"general"},{icon:"sli sli-calculator",category:"general"},{icon:"sli sli-bubbles",category:"general"},{icon:"sli sli-briefcase",category:"general"},{icon:"sli sli-book-open",category:"general"},{icon:"sli sli-basket-loaded",category:"general"},{icon:"sli sli-basket",category:"general"},{icon:"sli sli-bag",category:"general"},{icon:"sli sli-action-undo",category:"general"},{icon:"sli sli-action-redo",category:"general"},{icon:"sli sli-wrench",category:"general"},{icon:"sli sli-umbrella",category:"general"},{icon:"sli sli-trash",category:"general"},{icon:"sli sli-tag",category:"general"},{icon:"sli sli-support",category:"general"},{icon:"sli sli-frame",category:"general"},{icon:"sli sli-size-fullscreen",category:"general"},{icon:"sli sli-size-actual",category:"general"},{icon:"sli sli-shuffle",category:"general"},{icon:"sli sli-share-alt",category:"general"},{icon:"sli sli-share",category:"general"},{icon:"sli sli-rocket",category:"general"},{icon:"sli sli-question",category:"general"},{icon:"sli sli-pie-chart",category:"general"},{icon:"sli sli-pencil",category:"general"},{icon:"sli sli-note",category:"general"},{icon:"sli sli-loop",category:"general"},{icon:"sli sli-home",category:"general"},{icon:"sli sli-grid",category:"general"},{icon:"sli sli-graph",category:"general"},{icon:"sli sli-microphone",category:"general"},{icon:"sli sli-music-tone-alt",category:"general"},{icon:"sli sli-music-tone",category:"general"},{icon:"sli sli-earphones-alt",category:"general"},{icon:"sli sli-earphones",category:"general"},{icon:"sli sli-equalizer",category:"general"},{icon:"sli sli-like",category:"general"},{icon:"sli sli-dislike",category:"general"},{icon:"sli sli-control-start",category:"general"},{icon:"sli sli-control-rewind",category:"general"},{icon:"sli sli-control-play",category:"general"},{icon:"sli sli-control-pause",category:"general"},{icon:"sli sli-control-forward",category:"general"},{icon:"sli sli-control-end",category:"general"},{icon:"sli sli-volume-1",category:"general"},{icon:"sli sli-volume-2",category:"general"},{icon:"sli sli-volume-off",category:"general"},{icon:"sli sli-calendar",category:"general"},{icon:"sli sli-bulb",category:"general"},{icon:"sli sli-chart",category:"general"},{icon:"sli sli-ban",category:"general"},{icon:"sli sli-bubble",category:"general"},{icon:"sli sli-camrecorder",category:"general"},{icon:"sli sli-camera",category:"general"},{icon:"sli sli-cloud-download",category:"general"},{icon:"sli sli-cloud-upload",category:"general"},{icon:"sli sli-eye",category:"general"},{icon:"sli sli-flag",category:"general"},{icon:"sli sli-heart",category:"general"},{icon:"sli sli-info",category:"general"},{icon:"sli sli-key",category:"general"},{icon:"sli sli-link",category:"general"},{icon:"sli sli-lock",category:"general"},{icon:"sli sli-lock-open",category:"general"},{icon:"sli sli-magnifier",category:"general"},{icon:"sli sli-magnifier-add",category:"general"},{icon:"sli sli-magnifier-remove",category:"general"},{icon:"sli sli-paper-clip",category:"general"},{icon:"sli sli-paper-plane",category:"general"},{icon:"sli sli-power",category:"general"},{icon:"sli sli-refresh",category:"general"},{icon:"sli sli-reload",category:"general"},{icon:"sli sli-settings",category:"general"},{icon:"sli sli-star",category:"general"},{icon:"sli sli-symbol-female",category:"general"},{icon:"sli sli-symbol-male",category:"general"},{icon:"sli sli-target",category:"general"},{icon:"sli sli-credit-card",category:"general"},{icon:"sli sli-paypal",category:"general"},{icon:"sli sli-social-tumblr",category:"social"},{icon:"sli sli-social-twitter",category:"social"},{icon:"sli sli-social-facebook",category:"social"},{icon:"sli sli-social-instagram",category:"social"},{icon:"sli sli-social-linkedin",category:"social"},{icon:"sli sli-social-pinterest",category:"social"},{icon:"sli sli-social-github",category:"social"},{icon:"sli sli-social-google",category:"social"},{icon:"sli sli-social-reddit",category:"social"},{icon:"sli sli-social-skype",category:"social"},{icon:"sli sli-social-dribbble",category:"social"},{icon:"sli sli-social-behance",category:"social"},{icon:"sli sli-social-foursqare",category:"social"},{icon:"sli sli-social-soundcloud",category:"social"},{icon:"sli sli-social-spotify",category:"social"},{icon:"sli sli-social-stumbleupon",category:"social"},{icon:"sli sli-social-youtube",category:"social"},{icon:"sli sli-social-dropbox",category:"social"},{icon:"sli sli-social-vkontakte",category:"social"},{icon:"sli sli-social-steam",category:"social"}],p=15,d=G(1),u=se(()=>r.length),h=se(()=>Math.ceil(u.value/p)),g=se(()=>{let C=r;i.value!=="all"&&(C=C.filter(k=>k.category===i.value||k.isNone)),n.value&&(C=C.filter(k=>k.isNone||k.icon&&k.icon.toLowerCase().includes(n.value.toLowerCase())));const L=(d.value-1)*p,D=L+p;return C.slice(L,D)});return{fieldData:o,searchQuery:n,categories:a,selectedCategory:i,filteredIcons:g,currentPage:d,totalPages:h,totalIcons:u,selectIcon:C=>{t.model[t.field.id]=C,e("onChange"),s.value=!1},popoverVisible:s,handleChange:()=>{console.log("Change"),console.log(s.value)},prevPage:()=>{d.value>1&&d.value--},nextPage:()=>{d.value<h.value&&d.value++}}}},cm={class:"woolentor-card-field-label"},dm={style:{display:"flex","align-items":"center",color:"#000","font-size":"14px","font-weight":"700"}},um=["innerHTML"],pm=["innerHTML"],fm={class:"woolentor-card-field-element woolentor-icon-picker-field"},mm={key:1,class:"no-icon-preview"},hm={class:"woolentor-icon-picker-arrow"},gm={class:"woolentor-icon-picker-content"},_m={class:"woolentor-icon-search-wrap"},ym={class:"woolentor-icons-grid"},Tm=["onClick"],bm={key:0,class:"no-icon-symbol"},Em={class:"woolentor-icons-pagination"},vm={class:"woolentor-icons-pagination-left"},wm={class:"woolentor-icons-pagination-right"};function Cm(t,e,o,n,s,a){const i=$,r=M("ArrowUp"),p=we,d=M("ArrowDown"),u=dt,h=M("Search"),g=M("ArrowLeft"),y=M("ArrowRight"),_=Si,T=oe;return m(),w(T,{style:{width:"auto",border:"none"},shadow:"never","body-style":"padding: 0px","border-card":"false"},{default:f(()=>[l("div",{style:{display:"flex","align-items":"center","flex-wrap":"wrap"},onClick:e[5]||(e[5]=b=>n.fieldData.is_pro?t.$emit("openProModal",!0):null)},[l("div",cm,[l("span",dm,[l("span",{innerHTML:n.fieldData.name},null,8,um),n.fieldData.is_pro?(m(),w(i,{key:0,style:{"margin-right":"10px"}})):S("",!0)]),n.fieldData.desc?(m(),E("p",{key:0,innerHTML:n.fieldData.desc},null,8,pm)):S("",!0)]),l("div",fm,[c(_,{placement:"bottom",width:400,trigger:"click",visible:n.popoverVisible,"onUpdate:visible":e[4]||(e[4]=b=>n.popoverVisible=b),"popper-class":"woolentor-icon-picker-popover"},{reference:f(()=>[c(u,{modelValue:o.model[n.fieldData.id],"onUpdate:modelValue":e[0]||(e[0]=b=>o.model[n.fieldData.id]=b),placeholder:n.fieldData?.placeholder||"Select Icon",size:"large",disabled:n.fieldData.is_pro,readonly:""},{prefix:f(()=>[o.model[n.fieldData.id]?(m(),E("i",{key:0,class:V(o.model[n.fieldData.id])},null,2)):(m(),E("span",mm,""))]),suffix:f(()=>[l("div",hm,[n.popoverVisible?(m(),w(p,{key:0},{default:f(()=>[c(r)]),_:1})):(m(),w(p,{key:1},{default:f(()=>[c(d)]),_:1}))])]),_:1},8,["modelValue","placeholder","disabled"])]),default:f(()=>[l("div",gm,[l("div",_m,[c(u,{modelValue:n.searchQuery,"onUpdate:modelValue":e[1]||(e[1]=b=>n.searchQuery=b),placeholder:"Search Icon",size:"large",class:"woolentor-icon-search"},{suffix:f(()=>[c(p,null,{default:f(()=>[c(h)]),_:1})]),_:1},8,["modelValue"])]),l("div",ym,[(m(!0),E(W,null,te(n.filteredIcons,b=>(m(),E("div",{key:b.icon||"none",class:V(["woolentor-icon-item",{active:o.model[n.fieldData.id]===b.icon,"none-icon":b.isNone}]),onClick:C=>n.selectIcon(b.icon)},[b.isNone?(m(),E("span",bm,"")):(m(),E("i",{key:1,class:V(b.icon)},null,2))],10,Tm))),128))]),l("div",Em,[l("div",vm,I(n.currentPage)+"/"+I(n.totalPages)+" ("+I(n.totalIcons)+") ",1),l("div",wm,[n.currentPage>1?(m(),E("span",{key:0,class:"woolentor-icons-pagination-left-arrow",onClick:e[2]||(e[2]=(...b)=>n.prevPage&&n.prevPage(...b))},[c(g)])):S("",!0),n.currentPage<n.totalPages?(m(),E("span",{key:1,class:"woolentor-icons-pagination-right-arrow",onClick:e[3]||(e[3]=(...b)=>n.nextPage&&n.nextPage(...b))},[c(y)])):S("",!0)])])])]),_:1},8,["visible"])])])]),_:1})}const Sm=F(rm,[["render",Cm]]),Dm={name:"field-iconpicker",template:Sm},Am={name:"field-imageupload",props:["field","model","class"],emits:["onChange","openProModal"],components:{ProBadge:$},data(){return{model:this.model,fieldData:this.field,currentRoute:this.$route}},methods:{openMediaUploader(){const t=wp.media({title:this.fieldData.name,button:{text:"Use this image"},multiple:!1});t.on("select",()=>{const e=t.state().get("selection").first().toJSON();this.model[this.fieldData.id]=e.url,this.$emit("onChange")}),t.open()},removeImage(){this.model[this.fieldData.id]="",this.$emit("onChange")}}},Lm={class:"woolentor-card-field-label"},Im={style:{display:"flex","align-items":"center",color:"#000","font-size":"14px","font-weight":"700"}},Om=["innerHTML"],Nm=["innerHTML"],xm={class:"woolentor-imageupload"},Rm={key:0,class:"woolentor-imageupload-display"},km=["src","alt"];function Pm(t,e,o,n,s,a){const i=$,r=re,p=oe;return m(),w(p,{style:{width:"auto",border:"none"},shadow:"never","body-style":"padding: 0px","border-card":"false"},{default:f(()=>[l("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",gap:"15px"},onClick:e[0]||(e[0]=d=>s.fieldData.is_pro?t.$emit("openProModal",!0):null)},[l("div",Lm,[l("span",Im,[l("span",{innerHTML:s.fieldData.name},null,8,Om),s.fieldData.is_pro?(m(),w(i,{key:0,style:{"margin-right":"10px"}})):S("",!0)]),s.fieldData.desc?(m(),E("p",{key:0,innerHTML:s.fieldData.desc},null,8,Nm)):S("",!0)]),l("div",{class:V(`woolentor-card-field-element ${s.fieldData?.class||""} ${this.class}`)},[l("div",xm,[s.model[s.fieldData.id]?(m(),E("div",Rm,[l("img",{src:s.model[s.fieldData.id],alt:s.fieldData.name},null,8,km)])):S("",!0),c(r,{disabled:s.fieldData.is_pro,type:"primary",onClick:a.openMediaUploader},{default:f(()=>[P(I(s.fieldData?.options?.button_label||"Upload Image"),1)]),_:1},8,["disabled","onClick"]),s.model[s.fieldData.id]?(m(),w(r,{key:1,disabled:s.fieldData.is_pro,type:"danger",onClick:a.removeImage},{default:f(()=>[P(I(s.fieldData?.options?.button_remove_label||"Remove Image"),1)]),_:1},8,["disabled","onClick"])):S("",!0)])],2)])]),_:1})}const Mm=F(Am,[["render",Pm],["__scopeId","data-v-ed0da12b"]]),Gm={name:"field-imageupload",template:Mm},Fm={name:"field-switcher",props:["field","model","class"],emits:["onChange","openProModal","openSettingsModal"],components:{ProBadge:$,Setting:Qt},data(){return{fieldData:this.field,currentRoute:this.$route,settingFields:this.field.setting_fields,model:this.model,moduleModel:this.woolentorLocalizeData.options[this.field.id]||this.model,optionIds:this.getOptionIds()}},computed:{...ze(["GET_MODULE_SETTING_LOADER"]),isSpinning(){return this.GET_MODULE_SETTING_LOADER(this.fieldData.id)},isAnyOptionActive(){return this.optionIds.length?this.optionIds.some(t=>this.moduleModel[t]==="on"):this.moduleModel[this.field?.id]==="on"}},methods:{...rt(["FETCH_SETTINGS","SAVE_SETTINGS","REMOVE_LOADER","SET_MODULE_SETTING_LOADER"]),getOptionIds(){const t=this.field?.option_id;return t?t.split(",").map(e=>e.trim()):[]},openSettings(){this.SET_MODULE_SETTING_LOADER({moduleId:this.fieldData.id,isLoading:!0}),this.$emit("openSettingsModal",!0)}}},Vm={class:"woolentor-card-field-label-switcher",style:{display:"flex","align-items":"center",gap:"8px"}},Um=["innerHTML"],Bm=["href"],Hm=["href"],zm={key:0,class:"settings-icon-wrapper"};function jm(t,e,o,n,s,a){const i=$,r=kn,p=M("Setting"),d=we,u=re,h=oe;return m(),w(h,{style:{width:"auto",border:"1px solid #DCDCDC","border-radius":"8px"},shadow:"never","border-card":"false","body-style":"padding: 12px 20px; display: flex; align-items: center; justify-content: space-between;gap:10px;",onClick:e[0]||(e[0]=g=>s.fieldData?.is_pro?t.$emit("openProModal",!0):null)},{default:f(()=>[l("div",Vm,[l("span",{style:Ae([{display:"flex","align-items":"center",color:"#000","font-size":"14px","font-weight":"400"},{color:a.isAnyOptionActive?"#000000":"#7D8087"}])},[l("span",{innerHTML:s.fieldData.name},null,8,Um),s.fieldData?.is_pro?(m(),w(i,{key:0})):S("",!0)],4),s.fieldData?.documentation?(m(),w(r,{key:0,content:"Documentation",placement:"top",effect:"dark"},{default:f(()=>[l("a",{href:s.fieldData?.documentation,target:"_blank",class:"woolentor-admin-settings-link"},e[1]||(e[1]=[l("i",{class:"wli wli-question"},null,-1)]),8,Bm)]),_:1})):S("",!0),s.fieldData?.preview?(m(),w(r,{key:1,content:"Preview",placement:"top",effect:"dark"},{default:f(()=>[l("a",{href:s.fieldData?.preview,target:"_blank",class:"woolentor-admin-settings-link"},e[2]||(e[2]=[l("i",{class:"wli wli-monitor"},null,-1)]),8,Hm)]),_:1})):S("",!0)]),l("div",{class:V(`woolentor-card-field-element-switcher ${s.fieldData?.class||""} ${this.class}`)},[s.fieldData.type==="module"?(m(),E("div",zm,[c(u,{class:"settings-icon-btn",disabled:s.fieldData?.is_pro,onClick:ge(a.openSettings,["stop"]),style:Ae({color:a.isAnyOptionActive?"#409eff":"#7D8087"})},{default:f(()=>[c(d,{class:V({"is-spinning":a.isSpinning})},{default:f(()=>[c(p)]),_:1},8,["class"])]),_:1},8,["disabled","onClick","style"])])):S("",!0)],2)]),_:1})}const qm=F(Fm,[["render",jm]]),$m={name:"field-module",template:qm},Wm={name:"field-multiselect",props:["field","model","class"],emits:["onChange","openProModal"],components:{ProBadge:$},setup(t){return{getTextFromHtml:zn,absoluteNumberToString:go,stringToAbsoluteNumber:wa}},data(){return{fieldData:this.field,currentRoute:this.$route,selectedValues:this.model[this.field.id]}},created(){this.field?.convertnumber===!0&&this.model[this.field.id]&&(this.selectedValues=this.absoluteNumberToString(this.model[this.field.id]))},methods:{handleChange(t){this.model[this.field.id]=this.field?.convertnumber===!0?this.stringToAbsoluteNumber(t):t,this.$emit("onChange")}}},Ym={class:"woolentor-card-field-label"},Km={style:{display:"flex","align-items":"center",color:"#000","font-size":"14px","font-weight":"700"}},Jm=["innerHTML"],Xm=["innerHTML"],Qm={class:"woolentor-card-field-element"},Zm=["innerHTML"];function eh(t,e,o,n,s,a){const i=$,r=Ot,p=Nt,d=oe;return m(),w(d,{style:{width:"auto",border:"none"},shadow:"never","body-style":"padding: 0px","border-card":"false"},{default:f(()=>[l("div",{class:V(`${s.fieldData?.class||""} ${this.class}`),style:{display:"flex","align-items":"center","justify-content":"space-between",gap:"15px"},onClick:e[1]||(e[1]=u=>s.fieldData.is_pro?t.$emit("openProModal",!0):null)},[l("div",Ym,[l("span",Km,[l("span",{innerHTML:s.fieldData.name},null,8,Jm),s.fieldData.is_pro?(m(),w(i,{key:0,style:{"margin-right":"10px"}})):S("",!0)]),s.fieldData.desc?(m(),E("p",{key:0,innerHTML:s.fieldData.desc},null,8,Xm)):S("",!0)]),l("div",Qm,[c(p,{modelValue:s.selectedValues,"onUpdate:modelValue":e[0]||(e[0]=u=>s.selectedValues=u),multiple:"",placeholder:s.fieldData?.placeholder||"Select",onChange:a.handleChange,size:"large",disabled:s.fieldData.is_pro,style:{"max-width":"400px"}},{default:f(()=>[(m(!0),E(W,null,te(s.fieldData.options,(u,h)=>(m(),w(r,{key:s.fieldData?.convertnumber===!0?n.absoluteNumberToString(h):h,label:n.getTextFromHtml(u),value:s.fieldData?.convertnumber===!0?n.absoluteNumberToString(h):h,disabled:s.fieldData.is_pro},{default:f(()=>[l("span",{innerHTML:u},null,8,Zm)]),_:2},1032,["label","value","disabled"]))),128))]),_:1},8,["modelValue","placeholder","onChange","disabled"])])],2)]),_:1})}const th=F(Wm,[["render",eh]]),nh={name:"field-multiselect",template:th},oh={name:"field-multitext",props:["field","model","class"],emits:["onChange","openProModal"],components:{ProBadge:$},setup(t){return{getTextFromHtml:zn}},data(){return{fieldData:this.field,currentRoute:this.$route,hasGroup:!!this.field?.options?.group}},created(){this.initializeModelField()},methods:{initializeModelField(){(!this.model[this.fieldData.id]||typeof this.model[this.fieldData.id]!="object")&&(this.model[this.fieldData.id]={})},getInputValue(t){return this.initializeModelField(),this.model[this.fieldData.id][t]||""},updateValue(t,e){this.initializeModelField(),this.model[this.fieldData.id]||(this.model[this.fieldData.id]={}),this.model[this.fieldData.id][t]=e,this.$emit("onChange")}}},sh={style:{display:"flex",color:"#000","font-size":"14px","font-weight":"700"}},ah=["innerHTML"],ih={class:"woolentor-card-field-label"},lh={style:{display:"flex","align-items":"center",color:"#000","font-size":"14px","font-weight":"700"}},rh=["innerHTML"],ch={class:"woolentor-card-field-element"};function dh(t,e,o,n,s,a){const i=$,r=dt,p=Ze,d=Di,u=Ai;return m(),w(u,null,{default:f(()=>[c(d,{title:s.fieldData.name,name:s.fieldData.id},{title:f(()=>[l("span",sh,[l("span",{innerHTML:s.fieldData.name},null,8,ah),s.fieldData.is_pro?(m(),w(i,{key:0,style:{"margin-right":"10px"}})):S("",!0)])]),default:f(()=>[(m(!0),E(W,null,te(s.fieldData.options,(h,g)=>(m(),E("div",{key:g,class:V(`woolentor-element-card ${s.fieldData?.class||""} ${this.class}`),style:{display:"flex","align-items":"center","flex-wrap":"wrap"},onClick:e[1]||(e[1]=y=>s.fieldData.is_pro?t.$emit("openProModal",!0):null)},[l("div",ih,[l("span",lh,[l("span",{innerHTML:h},null,8,rh)])]),l("div",ch,[c(r,{"model-value":a.getInputValue(g),"onUpdate:modelValue":y=>a.updateValue(g,y),onChange:e[0]||(e[0]=y=>t.$emit("onChange")),disabled:s.fieldData.is_pro},null,8,["model-value","onUpdate:modelValue","disabled"])]),g!==Object.keys(s.fieldData.options).length-1?(m(),w(p,{key:0})):S("",!0)],2))),128))]),_:1},8,["title","name"])]),_:1})}const uh=F(oh,[["render",dh]]),ph={name:"field-multitext",template:uh},fh={name:"field-number",props:["field","model","class"],emits:["onChange","openProModal"],data(){return{model:this.model,fieldData:this.field,currentRoute:this.$route}},components:{ProBadge:$},methods:{}},mh={class:"woolentor-card-field-label"},hh={style:{display:"flex","align-items":"center",color:"#000","font-size":"14px","font-weight":"700"}},gh=["innerHTML"],_h=["innerHTML"],yh={class:"woolentor-card-field-element"};function Th(t,e,o,n,s,a){const i=$,r=Ls,p=oe;return m(),w(p,{style:{width:"auto",border:"none"},shadow:"never","body-style":"padding: 0px","border-card":"false"},{default:f(()=>[l("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",gap:"15px"},onClick:e[2]||(e[2]=d=>s.fieldData.is_pro?t.$emit("openProModal",!0):null),class:"woolentor-element-card"},[l("div",mh,[l("span",hh,[l("span",{innerHTML:s.fieldData.name},null,8,gh),s.fieldData.is_pro?(m(),w(i,{key:0,style:{"margin-right":"10px"}})):S("",!0)]),s.fieldData.desc?(m(),E("p",{key:0,innerHTML:s.fieldData.desc},null,8,_h)):S("",!0)]),l("div",yh,[c(r,{modelValue:s.model[s.fieldData.id],"onUpdate:modelValue":e[0]||(e[0]=d=>s.model[s.fieldData.id]=d),min:s.fieldData?.min,max:s.fieldData?.max,placeholder:s.fieldData?.placeholder,"controls-position":"right",size:"large",onInput:e[1]||(e[1]=d=>t.$emit("onChange")),disabled:s.fieldData.is_pro},null,8,["modelValue","min","max","placeholder","disabled"])])])]),_:1})}const bh=F(fh,[["render",Th],["__scopeId","data-v-17b4598a"]]),Eh={name:"field-number",template:bh},vh={name:"field-radio",props:["field","model","class"],emits:["onChange","openProModal"],components:{ProBadge:$},data(){return{fieldData:this.field,currentRoute:this.$route}}},wh={class:"woolentor-card-field-label"},Ch={style:{display:"flex","align-items":"center",color:"#000","font-size":"14px","font-weight":"700"}},Sh=["innerHTML"],Dh=["innerHTML"];function Ah(t,e,o,n,s,a){const i=$,r=Li,p=Ii,d=oe;return m(),w(d,{style:{width:"auto",border:"none"},shadow:"never","body-style":"padding: 0px","border-card":"false"},{default:f(()=>[l("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",gap:"15px"},onClick:e[2]||(e[2]=u=>s.fieldData.is_pro?t.$emit("openProModal",!0):null)},[l("div",wh,[l("span",Ch,[l("span",{innerHTML:s.fieldData.name},null,8,Sh),s.fieldData.is_pro?(m(),w(i,{key:0,style:{"margin-right":"10px"}})):S("",!0)]),s.fieldData.desc?(m(),E("p",{key:0,innerHTML:s.fieldData.desc},null,8,Dh)):S("",!0)]),l("div",{class:V(`woolentor-card-field-element ${s.fieldData?.class||""} ${this.class}`)},[c(p,{modelValue:this.model[s.fieldData.id],"onUpdate:modelValue":e[0]||(e[0]=u=>this.model[s.fieldData.id]=u),onChange:e[1]||(e[1]=u=>t.$emit("onChange"))},{default:f(()=>[(m(!0),E(W,null,te(s.fieldData.options,(u,h)=>(m(),w(r,{key:h,label:u,value:h,disabled:s.fieldData.is_pro},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])],2)])]),_:1})}const Lh=F(vh,[["render",Ah]]),Ih={name:"field-radio",template:Lh};/*!
  * vue-draggable-next v2.2.0
  * (c) 2023 Anish George
  * @license MIT
  *//**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ds(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),o.push.apply(o,n)}return o}function Ye(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ds(Object(o),!0).forEach(function(n){Oh(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ds(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function yn(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yn=function(e){return typeof e}:yn=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(t)}function Oh(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function Xe(){return Xe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Xe.apply(this,arguments)}function Nh(t,e){if(t==null)return{};var o={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(o[s]=t[s]);return o}function xh(t,e){if(t==null)return{};var o=Nh(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var Rh="1.14.0";function Je(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var nt=Je(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),tn=Je(/Edge/i),us=Je(/firefox/i),Ht=Je(/safari/i)&&!Je(/chrome/i)&&!Je(/android/i),Ia=Je(/iP(ad|od|hone)/i),kh=Je(/chrome/i)&&Je(/android/i),Oa={capture:!1,passive:!1};function ee(t,e,o){t.addEventListener(e,o,!nt&&Oa)}function J(t,e,o){t.removeEventListener(e,o,!nt&&Oa)}function Dn(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Ph(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function $e(t,e,o,n){if(t){o=o||document;do{if(e!=null&&(e[0]===">"?t.parentNode===o&&Dn(t,e):Dn(t,e))||n&&t===o)return t;if(t===o)break}while(t=Ph(t))}return null}var ps=/\s+/g;function Pe(t,e,o){if(t&&e)if(t.classList)t.classList[o?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(ps," ").replace(" "+e+" "," ");t.className=(n+(o?" "+e:"")).replace(ps," ")}}function U(t,e,o){var n=t&&t.style;if(n){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(o=t.currentStyle),e===void 0?o:o[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=o+(typeof o=="string"?"":"px")}}function At(t,e){var o="";if(typeof t=="string")o=t;else do{var n=U(t,"transform");n&&n!=="none"&&(o=n+" "+o)}while(!e&&(t=t.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(o)}function Na(t,e,o){if(t){var n=t.getElementsByTagName(e),s=0,a=n.length;if(o)for(;s<a;s++)o(n[s],s);return n}return[]}function We(){var t=document.scrollingElement;return t||document.documentElement}function me(t,e,o,n,s){if(!(!t.getBoundingClientRect&&t!==window)){var a,i,r,p,d,u,h;if(t!==window&&t.parentNode&&t!==We()?(a=t.getBoundingClientRect(),i=a.top,r=a.left,p=a.bottom,d=a.right,u=a.height,h=a.width):(i=0,r=0,p=window.innerHeight,d=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(e||o)&&t!==window&&(s=s||t.parentNode,!nt))do if(s&&s.getBoundingClientRect&&(U(s,"transform")!=="none"||o&&U(s,"position")!=="static")){var g=s.getBoundingClientRect();i-=g.top+parseInt(U(s,"border-top-width")),r-=g.left+parseInt(U(s,"border-left-width")),p=i+a.height,d=r+a.width;break}while(s=s.parentNode);if(n&&t!==window){var y=At(s||t),_=y&&y.a,T=y&&y.d;y&&(i/=T,r/=_,h/=_,u/=T,p=i+u,d=r+h)}return{top:i,left:r,bottom:p,right:d,width:h,height:u}}}function fs(t,e,o){for(var n=lt(t,!0),s=me(t)[e];n;){var a=me(n)[o],i=void 0;if(i=s>=a,!i)return n;if(n===We())break;n=lt(n,!1)}return!1}function Lt(t,e,o,n){for(var s=0,a=0,i=t.children;a<i.length;){if(i[a].style.display!=="none"&&i[a]!==B.ghost&&(n||i[a]!==B.dragged)&&$e(i[a],o.draggable,t,!1)){if(s===e)return i[a];s++}a++}return null}function Vo(t,e){for(var o=t.lastElementChild;o&&(o===B.ghost||U(o,"display")==="none"||e&&!Dn(o,e));)o=o.previousElementSibling;return o||null}function Ve(t,e){var o=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==B.clone&&(!e||Dn(t,e))&&o++;return o}function ms(t){var e=0,o=0,n=We();if(t)do{var s=At(t),a=s.a,i=s.d;e+=t.scrollLeft*a,o+=t.scrollTop*i}while(t!==n&&(t=t.parentNode));return[e,o]}function Mh(t,e){for(var o in t)if(t.hasOwnProperty(o)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[o][n])return Number(o)}return-1}function lt(t,e){if(!t||!t.getBoundingClientRect)return We();var o=t,n=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var s=U(o);if(o.clientWidth<o.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return We();if(n||e)return o;n=!0}}while(o=o.parentNode);return We()}function Gh(t,e){if(t&&e)for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function Xn(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var zt;function xa(t,e){return function(){if(!zt){var o=arguments,n=this;o.length===1?t.call(n,o[0]):t.apply(n,o),zt=setTimeout(function(){zt=void 0},e)}}}function Fh(){clearTimeout(zt),zt=void 0}function Ra(t,e,o){t.scrollLeft+=e,t.scrollTop+=o}function ka(t){var e=window.Polymer,o=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):o?o(t).clone(!0)[0]:t.cloneNode(!0)}var Ge="Sortable"+new Date().getTime();function Vh(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(s){if(!(U(s,"display")==="none"||s===B.ghost)){t.push({target:s,rect:me(s)});var a=Ye({},t[t.length-1].rect);if(s.thisAnimationDuration){var i=At(s,!0);i&&(a.top-=i.f,a.left-=i.e)}s.fromRect=a}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(Mh(t,{target:n}),1)},animateAll:function(n){var s=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var a=!1,i=0;t.forEach(function(r){var p=0,d=r.target,u=d.fromRect,h=me(d),g=d.prevFromRect,y=d.prevToRect,_=r.rect,T=At(d,!0);T&&(h.top-=T.f,h.left-=T.e),d.toRect=h,d.thisAnimationDuration&&Xn(g,h)&&!Xn(u,h)&&(_.top-h.top)/(_.left-h.left)===(u.top-h.top)/(u.left-h.left)&&(p=Bh(_,g,y,s.options)),Xn(h,u)||(d.prevFromRect=u,d.prevToRect=h,p||(p=s.options.animation),s.animate(d,_,h,p)),p&&(a=!0,i=Math.max(i,p),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},p),d.thisAnimationDuration=p)}),clearTimeout(e),a?e=setTimeout(function(){typeof n=="function"&&n()},i):typeof n=="function"&&n(),t=[]},animate:function(n,s,a,i){if(i){U(n,"transition",""),U(n,"transform","");var r=At(this.el),p=r&&r.a,d=r&&r.d,u=(s.left-a.left)/(p||1),h=(s.top-a.top)/(d||1);n.animatingX=!!u,n.animatingY=!!h,U(n,"transform","translate3d("+u+"px,"+h+"px,0)"),this.forRepaintDummy=Uh(n),U(n,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),U(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){U(n,"transition",""),U(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},i)}}}}function Uh(t){return t.offsetWidth}function Bh(t,e,o,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))*n.animation}var wt=[],Qn={initializeByDefault:!0},nn={mount:function(e){for(var o in Qn)Qn.hasOwnProperty(o)&&!(o in e)&&(e[o]=Qn[o]);wt.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),wt.push(e)},pluginEvent:function(e,o,n){var s=this;this.eventCanceled=!1,n.cancel=function(){s.eventCanceled=!0};var a=e+"Global";wt.forEach(function(i){o[i.pluginName]&&(o[i.pluginName][a]&&o[i.pluginName][a](Ye({sortable:o},n)),o.options[i.pluginName]&&o[i.pluginName][e]&&o[i.pluginName][e](Ye({sortable:o},n)))})},initializePlugins:function(e,o,n,s){wt.forEach(function(r){var p=r.pluginName;if(!(!e.options[p]&&!r.initializeByDefault)){var d=new r(e,o,e.options);d.sortable=e,d.options=e.options,e[p]=d,Xe(n,d.defaults)}});for(var a in e.options)if(e.options.hasOwnProperty(a)){var i=this.modifyOption(e,a,e.options[a]);typeof i<"u"&&(e.options[a]=i)}},getEventProperties:function(e,o){var n={};return wt.forEach(function(s){typeof s.eventProperties=="function"&&Xe(n,s.eventProperties.call(o[s.pluginName],e))}),n},modifyOption:function(e,o,n){var s;return wt.forEach(function(a){e[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[o]=="function"&&(s=a.optionListeners[o].call(e[a.pluginName],n))}),s}};function Hh(t){var e=t.sortable,o=t.rootEl,n=t.name,s=t.targetEl,a=t.cloneEl,i=t.toEl,r=t.fromEl,p=t.oldIndex,d=t.newIndex,u=t.oldDraggableIndex,h=t.newDraggableIndex,g=t.originalEvent,y=t.putSortable,_=t.extraEventProperties;if(e=e||o&&o[Ge],!!e){var T,b=e.options,C="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!nt&&!tn?T=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(T=document.createEvent("Event"),T.initEvent(n,!0,!0)),T.to=i||o,T.from=r||o,T.item=s||o,T.clone=a,T.oldIndex=p,T.newIndex=d,T.oldDraggableIndex=u,T.newDraggableIndex=h,T.originalEvent=g,T.pullMode=y?y.lastPutMode:void 0;var L=Ye(Ye({},_),nn.getEventProperties(n,e));for(var D in L)T[D]=L[D];o&&o.dispatchEvent(T),b[C]&&b[C].call(e,T)}}var zh=["evt"],Oe=function(e,o){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.evt,a=xh(n,zh);nn.pluginEvent.bind(B)(e,o,Ye({dragEl:A,parentEl:ce,ghostEl:j,rootEl:ie,nextEl:ft,lastDownEl:Tn,cloneEl:de,cloneHidden:it,dragStarted:Vt,putSortable:ye,activeSortable:B.active,originalEvent:s,oldIndex:Dt,oldDraggableIndex:jt,newIndex:Me,newDraggableIndex:st,hideGhostForTarget:Fa,unhideGhostForTarget:Va,cloneNowHidden:function(){it=!0},cloneNowShown:function(){it=!1},dispatchSortableEvent:function(r){Se({sortable:o,name:r,originalEvent:s})}},a))};function Se(t){Hh(Ye({putSortable:ye,cloneEl:de,targetEl:A,rootEl:ie,oldIndex:Dt,oldDraggableIndex:jt,newIndex:Me,newDraggableIndex:st},t))}var A,ce,j,ie,ft,Tn,de,it,Dt,Me,jt,st,un,ye,St=!1,An=!1,Ln=[],ut,Be,Zn,eo,hs,gs,Vt,Ct,qt,$t=!1,pn=!1,bn,Ee,to=[],_o=!1,In=[],jn=typeof document<"u",fn=Ia,_s=tn||nt?"cssFloat":"float",jh=jn&&!kh&&!Ia&&"draggable"in document.createElement("div"),Pa=function(){if(jn){if(nt)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Ma=function(e,o){var n=U(e),s=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=Lt(e,0,o),i=Lt(e,1,o),r=a&&U(a),p=i&&U(i),d=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+me(a).width,u=p&&parseInt(p.marginLeft)+parseInt(p.marginRight)+me(i).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&r.float&&r.float!=="none"){var h=r.float==="left"?"left":"right";return i&&(p.clear==="both"||p.clear===h)?"vertical":"horizontal"}return a&&(r.display==="block"||r.display==="flex"||r.display==="table"||r.display==="grid"||d>=s&&n[_s]==="none"||i&&n[_s]==="none"&&d+u>s)?"vertical":"horizontal"},qh=function(e,o,n){var s=n?e.left:e.top,a=n?e.right:e.bottom,i=n?e.width:e.height,r=n?o.left:o.top,p=n?o.right:o.bottom,d=n?o.width:o.height;return s===r||a===p||s+i/2===r+d/2},$h=function(e,o){var n;return Ln.some(function(s){var a=s[Ge].options.emptyInsertThreshold;if(!(!a||Vo(s))){var i=me(s),r=e>=i.left-a&&e<=i.right+a,p=o>=i.top-a&&o<=i.bottom+a;if(r&&p)return n=s}}),n},Ga=function(e){function o(a,i){return function(r,p,d,u){var h=r.options.group.name&&p.options.group.name&&r.options.group.name===p.options.group.name;if(a==null&&(i||h))return!0;if(a==null||a===!1)return!1;if(i&&a==="clone")return a;if(typeof a=="function")return o(a(r,p,d,u),i)(r,p,d,u);var g=(i?r:p).options.group.name;return a===!0||typeof a=="string"&&a===g||a.join&&a.indexOf(g)>-1}}var n={},s=e.group;(!s||yn(s)!="object")&&(s={name:s}),n.name=s.name,n.checkPull=o(s.pull,!0),n.checkPut=o(s.put),n.revertClone=s.revertClone,e.group=n},Fa=function(){!Pa&&j&&U(j,"display","none")},Va=function(){!Pa&&j&&U(j,"display","")};jn&&document.addEventListener("click",function(t){if(An)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),An=!1,!1},!0);var pt=function(e){if(A){e=e.touches?e.touches[0]:e;var o=$h(e.clientX,e.clientY);if(o){var n={};for(var s in e)e.hasOwnProperty(s)&&(n[s]=e[s]);n.target=n.rootEl=o,n.preventDefault=void 0,n.stopPropagation=void 0,o[Ge]._onDragOver(n)}}},Wh=function(e){A&&A.parentNode[Ge]._isOutsideThisEl(e.target)};function B(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Xe({},e),t[Ge]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ma(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,r){i.setData("Text",r.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:B.supportPointer!==!1&&"PointerEvent"in window&&!Ht,emptyInsertThreshold:5};nn.initializePlugins(this,t,o);for(var n in o)!(n in e)&&(e[n]=o[n]);Ga(e);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=e.forceFallback?!1:jh,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?ee(t,"pointerdown",this._onTapStart):(ee(t,"mousedown",this._onTapStart),ee(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(ee(t,"dragover",this),ee(t,"dragenter",this)),Ln.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Xe(this,Vh())}B.prototype={constructor:B,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Ct=null)},_getDirection:function(e,o){return typeof this.options.direction=="function"?this.options.direction.call(this,e,o,A):this.options.direction},_onTapStart:function(e){if(e.cancelable){var o=this,n=this.el,s=this.options,a=s.preventOnFilter,i=e.type,r=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,p=(r||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||p,u=s.filter;if(tg(n),!A&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||s.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&Ht&&p&&p.tagName.toUpperCase()==="SELECT")&&(p=$e(p,s.draggable,n,!1),!(p&&p.animated)&&Tn!==p)){if(Dt=Ve(p),jt=Ve(p,s.draggable),typeof u=="function"){if(u.call(this,e,p,this)){Se({sortable:o,rootEl:d,name:"filter",targetEl:p,toEl:n,fromEl:n}),Oe("filter",o,{evt:e}),a&&e.cancelable&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(h){if(h=$e(d,h.trim(),n,!1),h)return Se({sortable:o,rootEl:h,name:"filter",targetEl:p,fromEl:n,toEl:n}),Oe("filter",o,{evt:e}),!0}),u)){a&&e.cancelable&&e.preventDefault();return}s.handle&&!$e(d,s.handle,n,!1)||this._prepareDragStart(e,r,p)}}},_prepareDragStart:function(e,o,n){var s=this,a=s.el,i=s.options,r=a.ownerDocument,p;if(n&&!A&&n.parentNode===a){var d=me(n);if(ie=a,A=n,ce=A.parentNode,ft=A.nextSibling,Tn=n,un=i.group,B.dragged=A,ut={target:A,clientX:(o||e).clientX,clientY:(o||e).clientY},hs=ut.clientX-d.left,gs=ut.clientY-d.top,this._lastX=(o||e).clientX,this._lastY=(o||e).clientY,A.style["will-change"]="all",p=function(){if(Oe("delayEnded",s,{evt:e}),B.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!us&&s.nativeDraggable&&(A.draggable=!0),s._triggerDragStart(e,o),Se({sortable:s,name:"choose",originalEvent:e}),Pe(A,i.chosenClass,!0)},i.ignore.split(",").forEach(function(u){Na(A,u.trim(),no)}),ee(r,"dragover",pt),ee(r,"mousemove",pt),ee(r,"touchmove",pt),ee(r,"mouseup",s._onDrop),ee(r,"touchend",s._onDrop),ee(r,"touchcancel",s._onDrop),us&&this.nativeDraggable&&(this.options.touchStartThreshold=4,A.draggable=!0),Oe("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(tn||nt))){if(B.eventCanceled){this._onDrop();return}ee(r,"mouseup",s._disableDelayedDrag),ee(r,"touchend",s._disableDelayedDrag),ee(r,"touchcancel",s._disableDelayedDrag),ee(r,"mousemove",s._delayedDragTouchMoveHandler),ee(r,"touchmove",s._delayedDragTouchMoveHandler),i.supportPointer&&ee(r,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(p,i.delay)}else p()}},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){A&&no(A),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;J(e,"mouseup",this._disableDelayedDrag),J(e,"touchend",this._disableDelayedDrag),J(e,"touchcancel",this._disableDelayedDrag),J(e,"mousemove",this._delayedDragTouchMoveHandler),J(e,"touchmove",this._delayedDragTouchMoveHandler),J(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,o){o=o||e.pointerType=="touch"&&e,!this.nativeDraggable||o?this.options.supportPointer?ee(document,"pointermove",this._onTouchMove):o?ee(document,"touchmove",this._onTouchMove):ee(document,"mousemove",this._onTouchMove):(ee(A,"dragend",this),ee(ie,"dragstart",this._onDragStart));try{document.selection?En(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,o){if(St=!1,ie&&A){Oe("dragStarted",this,{evt:o}),this.nativeDraggable&&ee(document,"dragover",Wh);var n=this.options;!e&&Pe(A,n.dragClass,!1),Pe(A,n.ghostClass,!0),B.active=this,e&&this._appendGhost(),Se({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(Be){this._lastX=Be.clientX,this._lastY=Be.clientY,Fa();for(var e=document.elementFromPoint(Be.clientX,Be.clientY),o=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Be.clientX,Be.clientY),e!==o);)o=e;if(A.parentNode[Ge]._isOutsideThisEl(e),o)do{if(o[Ge]){var n=void 0;if(n=o[Ge]._onDragOver({clientX:Be.clientX,clientY:Be.clientY,target:e,rootEl:o}),n&&!this.options.dragoverBubble)break}e=o}while(o=o.parentNode);Va()}},_onTouchMove:function(e){if(ut){var o=this.options,n=o.fallbackTolerance,s=o.fallbackOffset,a=e.touches?e.touches[0]:e,i=j&&At(j,!0),r=j&&i&&i.a,p=j&&i&&i.d,d=fn&&Ee&&ms(Ee),u=(a.clientX-ut.clientX+s.x)/(r||1)+(d?d[0]-to[0]:0)/(r||1),h=(a.clientY-ut.clientY+s.y)/(p||1)+(d?d[1]-to[1]:0)/(p||1);if(!B.active&&!St){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(j){i?(i.e+=u-(Zn||0),i.f+=h-(eo||0)):i={a:1,b:0,c:0,d:1,e:u,f:h};var g="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");U(j,"webkitTransform",g),U(j,"mozTransform",g),U(j,"msTransform",g),U(j,"transform",g),Zn=u,eo=h,Be=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!j){var e=this.options.fallbackOnBody?document.body:ie,o=me(A,!0,fn,!0,e),n=this.options;if(fn){for(Ee=e;U(Ee,"position")==="static"&&U(Ee,"transform")==="none"&&Ee!==document;)Ee=Ee.parentNode;Ee!==document.body&&Ee!==document.documentElement?(Ee===document&&(Ee=We()),o.top+=Ee.scrollTop,o.left+=Ee.scrollLeft):Ee=We(),to=ms(Ee)}j=A.cloneNode(!0),Pe(j,n.ghostClass,!1),Pe(j,n.fallbackClass,!0),Pe(j,n.dragClass,!0),U(j,"transition",""),U(j,"transform",""),U(j,"box-sizing","border-box"),U(j,"margin",0),U(j,"top",o.top),U(j,"left",o.left),U(j,"width",o.width),U(j,"height",o.height),U(j,"opacity","0.8"),U(j,"position",fn?"absolute":"fixed"),U(j,"zIndex","100000"),U(j,"pointerEvents","none"),B.ghost=j,e.appendChild(j),U(j,"transform-origin",hs/parseInt(j.style.width)*100+"% "+gs/parseInt(j.style.height)*100+"%")}},_onDragStart:function(e,o){var n=this,s=e.dataTransfer,a=n.options;if(Oe("dragStart",this,{evt:e}),B.eventCanceled){this._onDrop();return}Oe("setupClone",this),B.eventCanceled||(de=ka(A),de.draggable=!1,de.style["will-change"]="",this._hideClone(),Pe(de,this.options.chosenClass,!1),B.clone=de),n.cloneId=En(function(){Oe("clone",n),!B.eventCanceled&&(n.options.removeCloneOnHide||ie.insertBefore(de,A),n._hideClone(),Se({sortable:n,name:"clone"}))}),!o&&Pe(A,a.dragClass,!0),o?(An=!0,n._loopId=setInterval(n._emulateDragOver,50)):(J(document,"mouseup",n._onDrop),J(document,"touchend",n._onDrop),J(document,"touchcancel",n._onDrop),s&&(s.effectAllowed="move",a.setData&&a.setData.call(n,s,A)),ee(document,"drop",n),U(A,"transform","translateZ(0)")),St=!0,n._dragStartId=En(n._dragStarted.bind(n,o,e)),ee(document,"selectstart",n),Vt=!0,Ht&&U(document.body,"user-select","none")},_onDragOver:function(e){var o=this.el,n=e.target,s,a,i,r=this.options,p=r.group,d=B.active,u=un===p,h=r.sort,g=ye||d,y,_=this,T=!1;if(_o)return;function b(Ie,Ce){Oe(Ie,_,Ye({evt:e,isOwner:u,axis:y?"vertical":"horizontal",revert:i,dragRect:s,targetRect:a,canSort:h,fromSortable:g,target:n,completed:L,onMove:function(Ke,on){return mn(ie,o,A,s,Ke,me(Ke),e,on)},changed:D},Ce))}function C(){b("dragOverAnimationCapture"),_.captureAnimationState(),_!==g&&g.captureAnimationState()}function L(Ie){return b("dragOverCompleted",{insertion:Ie}),Ie&&(u?d._hideClone():d._showClone(_),_!==g&&(Pe(A,ye?ye.options.ghostClass:d.options.ghostClass,!1),Pe(A,r.ghostClass,!0)),ye!==_&&_!==B.active?ye=_:_===B.active&&ye&&(ye=null),g===_&&(_._ignoreWhileAnimating=n),_.animateAll(function(){b("dragOverAnimationComplete"),_._ignoreWhileAnimating=null}),_!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(n===A&&!A.animated||n===o&&!n.animated)&&(Ct=null),!r.dragoverBubble&&!e.rootEl&&n!==document&&(A.parentNode[Ge]._isOutsideThisEl(e.target),!Ie&&pt(e)),!r.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),T=!0}function D(){Me=Ve(A),st=Ve(A,r.draggable),Se({sortable:_,name:"change",toEl:o,newIndex:Me,newDraggableIndex:st,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=$e(n,r.draggable,o,!0),b("dragOver"),B.eventCanceled)return T;if(A.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||_._ignoreWhileAnimating===n)return L(!1);if(An=!1,d&&!r.disabled&&(u?h||(i=ce!==ie):ye===this||(this.lastPutMode=un.checkPull(this,d,A,e))&&p.checkPut(this,d,A,e))){if(y=this._getDirection(e,n)==="vertical",s=me(A),b("dragOverValid"),B.eventCanceled)return T;if(i)return ce=ie,C(),this._hideClone(),b("revert"),B.eventCanceled||(ft?ie.insertBefore(A,ft):ie.appendChild(A)),L(!0);var k=Vo(o,r.draggable);if(!k||Xh(e,y,this)&&!k.animated){if(k===A)return L(!1);if(k&&o===e.target&&(n=k),n&&(a=me(n)),mn(ie,o,A,s,n,a,e,!!n)!==!1)return C(),o.appendChild(A),ce=o,D(),L(!0)}else if(k&&Jh(e,y,this)){var N=Lt(o,0,r,!0);if(N===A)return L(!1);if(n=N,a=me(n),mn(ie,o,A,s,n,a,e,!1)!==!1)return C(),o.insertBefore(A,N),ce=o,D(),L(!0)}else if(n.parentNode===o){a=me(n);var x=0,O,ue=A.parentNode!==o,X=!qh(A.animated&&A.toRect||s,n.animated&&n.toRect||a,y),Re=y?"top":"left",Te=fs(n,"top","top")||fs(A,"top","top"),ke=Te?Te.scrollTop:void 0;Ct!==n&&(O=a[Re],$t=!1,pn=!X&&r.invertSwap||ue),x=Qh(e,n,a,y,X?1:r.swapThreshold,r.invertedSwapThreshold==null?r.swapThreshold:r.invertedSwapThreshold,pn,Ct===n);var Le;if(x!==0){var R=Ve(A);do R-=x,Le=ce.children[R];while(Le&&(U(Le,"display")==="none"||Le===j))}if(x===0||Le===n)return L(!1);Ct=n,qt=x;var ne=n.nextElementSibling,ae=!1;ae=x===1;var he=mn(ie,o,A,s,n,a,e,ae);if(he!==!1)return(he===1||he===-1)&&(ae=he===1),_o=!0,setTimeout(Kh,30),C(),ae&&!ne?o.appendChild(A):n.parentNode.insertBefore(A,ae?ne:n),Te&&Ra(Te,0,ke-Te.scrollTop),ce=A.parentNode,O!==void 0&&!pn&&(bn=Math.abs(O-me(n)[Re])),D(),L(!0)}if(o.contains(A))return L(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){J(document,"mousemove",this._onTouchMove),J(document,"touchmove",this._onTouchMove),J(document,"pointermove",this._onTouchMove),J(document,"dragover",pt),J(document,"mousemove",pt),J(document,"touchmove",pt)},_offUpEvents:function(){var e=this.el.ownerDocument;J(e,"mouseup",this._onDrop),J(e,"touchend",this._onDrop),J(e,"pointerup",this._onDrop),J(e,"touchcancel",this._onDrop),J(document,"selectstart",this)},_onDrop:function(e){var o=this.el,n=this.options;if(Me=Ve(A),st=Ve(A,n.draggable),Oe("drop",this,{evt:e}),ce=A&&A.parentNode,Me=Ve(A),st=Ve(A,n.draggable),B.eventCanceled){this._nulling();return}St=!1,pn=!1,$t=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),yo(this.cloneId),yo(this._dragStartId),this.nativeDraggable&&(J(document,"drop",this),J(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ht&&U(document.body,"user-select",""),U(A,"transform",""),e&&(Vt&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),j&&j.parentNode&&j.parentNode.removeChild(j),(ie===ce||ye&&ye.lastPutMode!=="clone")&&de&&de.parentNode&&de.parentNode.removeChild(de),A&&(this.nativeDraggable&&J(A,"dragend",this),no(A),A.style["will-change"]="",Vt&&!St&&Pe(A,ye?ye.options.ghostClass:this.options.ghostClass,!1),Pe(A,this.options.chosenClass,!1),Se({sortable:this,name:"unchoose",toEl:ce,newIndex:null,newDraggableIndex:null,originalEvent:e}),ie!==ce?(Me>=0&&(Se({rootEl:ce,name:"add",toEl:ce,fromEl:ie,originalEvent:e}),Se({sortable:this,name:"remove",toEl:ce,originalEvent:e}),Se({rootEl:ce,name:"sort",toEl:ce,fromEl:ie,originalEvent:e}),Se({sortable:this,name:"sort",toEl:ce,originalEvent:e})),ye&&ye.save()):Me!==Dt&&Me>=0&&(Se({sortable:this,name:"update",toEl:ce,originalEvent:e}),Se({sortable:this,name:"sort",toEl:ce,originalEvent:e})),B.active&&((Me==null||Me===-1)&&(Me=Dt,st=jt),Se({sortable:this,name:"end",toEl:ce,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Oe("nulling",this),ie=A=ce=j=ft=de=Tn=it=ut=Be=Vt=Me=st=Dt=jt=Ct=qt=ye=un=B.dragged=B.ghost=B.clone=B.active=null,In.forEach(function(e){e.checked=!0}),In.length=Zn=eo=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":A&&(this._onDragOver(e),Yh(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],o,n=this.el.children,s=0,a=n.length,i=this.options;s<a;s++)o=n[s],$e(o,i.draggable,this.el,!1)&&e.push(o.getAttribute(i.dataIdAttr)||eg(o));return e},sort:function(e,o){var n={},s=this.el;this.toArray().forEach(function(a,i){var r=s.children[i];$e(r,this.options.draggable,s,!1)&&(n[a]=r)},this),o&&this.captureAnimationState(),e.forEach(function(a){n[a]&&(s.removeChild(n[a]),s.appendChild(n[a]))}),o&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return $e(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var n=this.options;if(o===void 0)return n[e];var s=nn.modifyOption(this,e,o);typeof s<"u"?n[e]=s:n[e]=o,e==="group"&&Ga(n)},destroy:function(){Oe("destroy",this);var e=this.el;e[Ge]=null,J(e,"mousedown",this._onTapStart),J(e,"touchstart",this._onTapStart),J(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(J(e,"dragover",this),J(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ln.splice(Ln.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!it){if(Oe("hideClone",this),B.eventCanceled)return;U(de,"display","none"),this.options.removeCloneOnHide&&de.parentNode&&de.parentNode.removeChild(de),it=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(it){if(Oe("showClone",this),B.eventCanceled)return;A.parentNode==ie&&!this.options.group.revertClone?ie.insertBefore(de,A):ft?ie.insertBefore(de,ft):ie.appendChild(de),this.options.group.revertClone&&this.animate(A,de),U(de,"display",""),it=!1}}};function Yh(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function mn(t,e,o,n,s,a,i,r){var p,d=t[Ge],u=d.options.onMove,h;return window.CustomEvent&&!nt&&!tn?p=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent("move",!0,!0)),p.to=e,p.from=t,p.dragged=o,p.draggedRect=n,p.related=s||e,p.relatedRect=a||me(e),p.willInsertAfter=r,p.originalEvent=i,t.dispatchEvent(p),u&&(h=u.call(d,p,i)),h}function no(t){t.draggable=!1}function Kh(){_o=!1}function Jh(t,e,o){var n=me(Lt(o.el,0,o.options,!0)),s=10;return e?t.clientX<n.left-s||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-s||t.clientY<n.bottom&&t.clientX<n.left}function Xh(t,e,o){var n=me(Vo(o.el,o.options.draggable)),s=10;return e?t.clientX>n.right+s||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+s}function Qh(t,e,o,n,s,a,i,r){var p=n?t.clientY:t.clientX,d=n?o.height:o.width,u=n?o.top:o.left,h=n?o.bottom:o.right,g=!1;if(!i){if(r&&bn<d*s){if(!$t&&(qt===1?p>u+d*a/2:p<h-d*a/2)&&($t=!0),$t)g=!0;else if(qt===1?p<u+bn:p>h-bn)return-qt}else if(p>u+d*(1-s)/2&&p<h-d*(1-s)/2)return Zh(e)}return g=g||i,g&&(p<u+d*a/2||p>h-d*a/2)?p>u+d/2?1:-1:0}function Zh(t){return Ve(A)<Ve(t)?1:-1}function eg(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,o=e.length,n=0;o--;)n+=e.charCodeAt(o);return n.toString(36)}function tg(t){In.length=0;for(var e=t.getElementsByTagName("input"),o=e.length;o--;){var n=e[o];n.checked&&In.push(n)}}function En(t){return setTimeout(t,0)}function yo(t){return clearTimeout(t)}jn&&ee(document,"touchmove",function(t){(B.active||St)&&t.cancelable&&t.preventDefault()});B.utils={on:ee,off:J,css:U,find:Na,is:function(e,o){return!!$e(e,o,e,!1)},extend:Gh,throttle:xa,closest:$e,toggleClass:Pe,clone:ka,index:Ve,nextTick:En,cancelNextTick:yo,detectDirection:Ma,getChild:Lt};B.get=function(t){return t[Ge]};B.mount=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(B.utils=Ye(Ye({},B.utils),n.utils)),nn.mount(n)})};B.create=function(t,e){return new B(t,e)};B.version=Rh;var fe=[],Ut,To,bo=!1,oo,so,On,Bt;function ng(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(o){var n=o.originalEvent;this.sortable.nativeDraggable?ee(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ee(document,"pointermove",this._handleFallbackAutoScroll):n.touches?ee(document,"touchmove",this._handleFallbackAutoScroll):ee(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var n=o.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?J(document,"dragover",this._handleAutoScroll):(J(document,"pointermove",this._handleFallbackAutoScroll),J(document,"touchmove",this._handleFallbackAutoScroll),J(document,"mousemove",this._handleFallbackAutoScroll)),ys(),vn(),Fh()},nulling:function(){On=To=Ut=bo=Bt=oo=so=null,fe.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,n){var s=this,a=(o.touches?o.touches[0]:o).clientX,i=(o.touches?o.touches[0]:o).clientY,r=document.elementFromPoint(a,i);if(On=o,n||this.options.forceAutoScrollFallback||tn||nt||Ht){ao(o,this.options,r,n);var p=lt(r,!0);bo&&(!Bt||a!==oo||i!==so)&&(Bt&&ys(),Bt=setInterval(function(){var d=lt(document.elementFromPoint(a,i),!0);d!==p&&(p=d,vn()),ao(o,s.options,d,n)},10),oo=a,so=i)}else{if(!this.options.bubbleScroll||lt(r,!0)===We()){vn();return}ao(o,this.options,lt(r,!1),!1)}}},Xe(t,{pluginName:"scroll",initializeByDefault:!0})}function vn(){fe.forEach(function(t){clearInterval(t.pid)}),fe=[]}function ys(){clearInterval(Bt)}var ao=xa(function(t,e,o,n){if(e.scroll){var s=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,i=e.scrollSensitivity,r=e.scrollSpeed,p=We(),d=!1,u;To!==o&&(To=o,vn(),Ut=e.scroll,u=e.scrollFn,Ut===!0&&(Ut=lt(o,!0)));var h=0,g=Ut;do{var y=g,_=me(y),T=_.top,b=_.bottom,C=_.left,L=_.right,D=_.width,k=_.height,N=void 0,x=void 0,O=y.scrollWidth,ue=y.scrollHeight,X=U(y),Re=y.scrollLeft,Te=y.scrollTop;y===p?(N=D<O&&(X.overflowX==="auto"||X.overflowX==="scroll"||X.overflowX==="visible"),x=k<ue&&(X.overflowY==="auto"||X.overflowY==="scroll"||X.overflowY==="visible")):(N=D<O&&(X.overflowX==="auto"||X.overflowX==="scroll"),x=k<ue&&(X.overflowY==="auto"||X.overflowY==="scroll"));var ke=N&&(Math.abs(L-s)<=i&&Re+D<O)-(Math.abs(C-s)<=i&&!!Re),Le=x&&(Math.abs(b-a)<=i&&Te+k<ue)-(Math.abs(T-a)<=i&&!!Te);if(!fe[h])for(var R=0;R<=h;R++)fe[R]||(fe[R]={});(fe[h].vx!=ke||fe[h].vy!=Le||fe[h].el!==y)&&(fe[h].el=y,fe[h].vx=ke,fe[h].vy=Le,clearInterval(fe[h].pid),(ke!=0||Le!=0)&&(d=!0,fe[h].pid=setInterval(function(){n&&this.layer===0&&B.active._onTouchMove(On);var ne=fe[this.layer].vy?fe[this.layer].vy*r:0,ae=fe[this.layer].vx?fe[this.layer].vx*r:0;typeof u=="function"&&u.call(B.dragged.parentNode[Ge],ae,ne,t,On,fe[this.layer].el)!=="continue"||Ra(fe[this.layer].el,ae,ne)}.bind({layer:h}),24))),h++}while(e.bubbleScroll&&g!==p&&(g=lt(g,!1)));bo=d}},30),Ua=function(e){var o=e.originalEvent,n=e.putSortable,s=e.dragEl,a=e.activeSortable,i=e.dispatchSortableEvent,r=e.hideGhostForTarget,p=e.unhideGhostForTarget;if(o){var d=n||a;r();var u=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,h=document.elementFromPoint(u.clientX,u.clientY);p(),d&&!d.el.contains(h)&&(i("spill"),this.onSpill({dragEl:s,putSortable:n}))}};function Uo(){}Uo.prototype={startIndex:null,dragStart:function(e){var o=e.oldDraggableIndex;this.startIndex=o},onSpill:function(e){var o=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var s=Lt(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(o,s):this.sortable.el.appendChild(o),this.sortable.animateAll(),n&&n.animateAll()},drop:Ua};Xe(Uo,{pluginName:"revertOnSpill"});function Bo(){}Bo.prototype={onSpill:function(e){var o=e.dragEl,n=e.putSortable,s=n||this.sortable;s.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),s.animateAll()},drop:Ua};Xe(Bo,{pluginName:"removeOnSpill"});B.mount(new ng);B.mount(Bo,Uo);function og(){return typeof window<"u"?window.console:global.console}const sg=og();function ag(t){const e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}const ig=/-(\w)/g,Ts=ag(t=>t.replace(ig,(e,o)=>o?o.toUpperCase():""));function io(t){t.parentElement!==null&&t.parentElement.removeChild(t)}function bs(t,e,o){const n=o===0?t.children[0]:t.children[o-1].nextSibling;t.insertBefore(e,n)}function lg(t,e){return Object.values(t).indexOf(e)}function rg(t,e,o,n){if(!t)return[];const s=Object.values(t),a=e.length-n;return[...e].map((r,p)=>p>=a?s.length:s.indexOf(r))}function Ba(t,e){this.$nextTick(()=>this.$emit(t.toLowerCase(),e))}function cg(t){return e=>{this.realList!==null&&this["onDrag"+t](e),Ba.call(this,t,e)}}function dg(t){return["transition-group","TransitionGroup"].includes(t)}function ug(t){if(!t||t.length!==1)return!1;const[{type:e}]=t;return e?dg(e.name):!1}function pg(t,e){return e?{...e.props,...e.attrs}:t}const Eo=["Start","Add","Remove","Update","End"],vo=["Choose","Unchoose","Sort","Filter","Clone"],fg=["Move",...Eo,...vo].map(t=>"on"+t);let lo=null;const mg={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:t=>t},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},Ha=ti({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...Eo.map(t=>t.toLowerCase()),...vo.map(t=>t.toLowerCase())],props:mg,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const t=this.$slots.default?this.$slots.default():null,e=pg(this.$attrs,this.componentData);return t?(this.transitionMode=ug(t),qo(this.getTag(),e,t)):qo(this.getTag(),e,[])},created(){this.list!==null&&this.modelValue!==null&&sg.error("list props are mutually exclusive! Please set one.")},mounted(){const t={};Eo.forEach(s=>{t["on"+s]=cg.call(this,s)}),vo.forEach(s=>{t["on"+s]=Ba.bind(this,s)});const e=Object.keys(this.$attrs).reduce((s,a)=>(s[Ts(a)]=this.$attrs[a],s),{}),o=Object.assign({},e,t,{onMove:(s,a)=>this.onDragMove(s,a)});!("draggable"in o)&&(o.draggable=">*");const n=this.$el.nodeType===1?this.$el:this.$el.parentElement;this._sortable=new B(n,o),n.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{this._sortable!==void 0&&this._sortable.destroy()}catch{}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(t){this.updateOptions(t)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?M(this.component):this.tag},updateOptions(t){for(var e in t){const o=Ts(e);fg.indexOf(o)===-1&&this._sortable.option(o,t[e])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=rg(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(t){const e=lg(this.getChildrenNodes()||[],t);if(e===-1)return null;const o=this.realList[e];return{index:e,element:o}},emitChanges(t){this.$nextTick(()=>{this.$emit("change",t)})},alterList(t){if(this.list){t(this.list);return}const e=[...this.modelValue];t(e),this.$emit("update:modelValue",e)},spliceList(){const t=e=>e.splice(...arguments);this.alterList(t)},updatePosition(t,e){const o=n=>n.splice(e,0,n.splice(t,1)[0]);this.alterList(o)},getVmIndex(t){const e=this.visibleIndexes,o=e.length;return t>o-1?o:e[t]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(t){if(!this.noTransitionOnDrag||!this.transitionMode)return;var e=this.getChildrenNodes();e[t].data=null;const o=this.getComponent();o.children=[],o.kept=void 0},onDragStart(t){this.computeIndexes(),this.context=this.getUnderlyingVm(t.item),this.context&&(t.item._underlying_vm_=this.clone(this.context.element),lo=t.item)},onDragAdd(t){const e=t.item._underlying_vm_;if(e===void 0)return;io(t.item);const o=this.getVmIndex(t.newIndex);this.spliceList(o,0,e),this.computeIndexes();const n={element:e,newIndex:o};this.emitChanges({added:n})},onDragRemove(t){if(bs(this.$el,t.item,t.oldIndex),t.pullMode==="clone"){io(t.clone);return}if(!this.context)return;const e=this.context.index;this.spliceList(e,1);const o={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:o})},onDragUpdate(t){io(t.item),bs(t.from,t.item,t.oldIndex);const e=this.context.index,o=this.getVmIndex(t.newIndex);this.updatePosition(e,o);const n={element:this.context.element,oldIndex:e,newIndex:o};this.emitChanges({moved:n})},updateProperty(t,e){t.hasOwnProperty(e)&&(t[e]+=this.headerOffset)},onDragMove(t,e){const o=this.move;if(!o||!this.realList)return!0;const n=this.getRelatedContextFromMoveEvent(t),s=this.context,a=this.computeFutureIndex(n,t);Object.assign(s,{futureIndex:a});const i=Object.assign({},t,{relatedContext:n,draggedContext:s});return o(i,e)},onDragEnd(){this.computeIndexes(),lo=null},getTrargetedComponent(t){return t.__draggable_component__},getRelatedContextFromMoveEvent({to:t,related:e}){const o=this.getTrargetedComponent(t);if(!o)return{component:o};const n=o.realList,s={list:n,component:o};if(t!==e&&n&&o.getUnderlyingVm){const a=o.getUnderlyingVm(e);if(a)return Object.assign(a,s)}return s},computeFutureIndex(t,e){const o=[...e.to.children].filter(i=>i.style.display!=="none");if(o.length===0)return 0;const n=o.indexOf(e.related),s=t.component.getVmIndex(n);return o.indexOf(lo)!==-1||!e.willInsertAfter?s:s+1}}}),hg={name:"field-repeater",props:["field","model","class"],emits:["onChange","openProModal"],components:{ProBadge:$,Delete:xo,ArrowDown:ko,ArrowUp:Fs,Plus:Ro,draggable:Ha},setup(t){const{maybeShowField:e}=kt();return{shouldShowField:(n,s)=>e(n,s)}},data(){return{fieldData:this.field,repeaterItems:[],activeIndex:-1,isCustomActionLoading:!1,upgradeDialogVisible:!1}},created(){if(this.model[this.fieldData.id]){let t=[...this.model[this.fieldData.id]];this.fieldData.max_items&&(t=t.slice(0,this.fieldData.max_items)),t=t.map(e=>(this.updateDynamicFields(e),e)),this.repeaterItems=t}},computed:{dragOptions(){return{animation:200,disabled:this.fieldData.is_pro,ghostClass:"ghost",group:`repeater-${this.fieldData.id}`,handle:".woolentor-repeater-header"}},isMaxLimitReached(){return this.fieldData.max_items?this.repeaterItems.length>=this.fieldData.max_items:!1}},methods:{itemMoved(t){this.updateModel()},generateUniqueId(){return su(0)},goToPro(){window.open(this.fieldData?.message?.pro_link,"_blank")},addItem(){if(this.isMaxLimitReached){this.fieldData?.message?.pro_link?this.upgradeDialogVisible=!0:le({title:this.fieldData?.message?.title||"Warning",message:this.fieldData?.message?.desc||`Maximum ${this.fieldData.max_items} items allowed.`,type:"warning",position:"top-right",duration:3e3,customClass:"woolentor-notification",offset:20});return}const t={};this.fieldData.fields.forEach(e=>{this.fieldData?.unique_id==e.id?t[e.id]=this.generateUniqueId():t[e.id]=e.default||""}),this.repeaterItems.push(t),this.activeIndex=this.repeaterItems.length-1,this.updateModel()},removeItem(t){at.confirm("Are you sure you want to remove this item?","Warning",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning",center:!1}).then(()=>{this.repeaterItems.splice(t,1),this.activeIndex>=this.repeaterItems.length?this.activeIndex=this.repeaterItems.length-1:this.activeIndex===t?this.activeIndex=-1:this.activeIndex>t&&this.activeIndex--,this.updateModel(),le({title:"Success",message:"Item removed successfully",type:"success",position:"top-right",duration:3e3,customClass:"woolentor-notification",offset:20})}).catch(e=>{})},updateModel(){this.model[this.fieldData.id]=[...this.repeaterItems];let t={};this.fieldData.update_fields&&this.fieldData.update_fields.forEach(e=>{switch(e.type){case"select":let o={};this.repeaterItems.forEach((s,a)=>{s[e.value_key]&&s[e.label_key]&&(o[s[e.value_key]]=this.getItemTitle(s,a))}),t[e.field_id]={type:"select",options:o};break;case"repeater":let n=this.repeaterItems.map((s,a)=>({value:s[e.value_key],label:this.fieldData?.title_pattern?this.getItemTitle(s,a):s[e.label_key]||this.getItemTitle(s,a)}));t[e.repeater_id]={type:"repeater",field_id:e.field_id,items:n};break}}),this.$emit("onChange",{modelUpdate:!0,fieldUpdates:t})},toggleCollapse(t){this.activeIndex=this.activeIndex===t?-1:t},isCollapsed(t){return this.activeIndex!==t},generateDynamicValue(t,e){if(!e.generate_value)return"";const{show_key:o,pattern:n}=e.generate_value;try{let s=n;return(n.match(/\{\{([^}]+)\}\}/g)||[]).forEach(i=>{const r=i.replace(/\{\{|\}\}/g,"").trim(),p=t[r];p!==void 0&&(s=s.replace(i,p))}),s}catch(s){return console.warn("Error generating dynamic value:",s),""}},updateDynamicFields(t){Array.isArray(this.fieldData.fields)&&this.fieldData.fields.forEach(e=>{if(e.generate_value?.show_key){const o=this.generateDynamicValue(t,e);o&&(t[e.generate_value.show_key]=o)}})},getItemTitle(t,e){if(this.fieldData.title_pattern)try{let a=this.fieldData.title_pattern;return(a.match(/\{\{([^}]+)\}\}/g)||[]).forEach(r=>{const p=r.replace(/\{\{|\}\}/g,"").trim(),d=this.fieldData.fields.find(u=>u.id===p);if(d&&t[p]!==void 0){let u=t[p];if(d.type==="select")if(d.options?.group){for(const h of Object.values(d.options.group))if(h.options[u]){u=h.options[u];break}}else d.options&&(u=d.options[u]||u);a=a.replace(r,u)}else a=a.replace(r,"")}),a=a.replace(/\s*-\s*-\s*/g," - ").replace(/^\s*-\s*|\s*-\s*$/g,"").trim(),a||`Item ${e+1}`}catch(a){return console.warn("Error generating title from pattern:",a),`Item ${e+1}`}if(!this.fieldData.title_field)return`Item ${e+1}`;const o=this.fieldData.title_field.split(",").map(a=>a.trim());return o.length?o.map(a=>{const i=this.fieldData.fields.find(r=>r.id===a);if(!i||!t[a])return"";if(i.type==="select"){if(i.options?.group){for(const r of Object.values(i.options.group))if(r.options[t[a]])return r.options[t[a]]}else if(i.options)return i.options[t[a]]||""}return t[a]}).filter(a=>a).join(" - ")||`Item ${e+1}`:`Item ${e+1}`},getFieldComponentName(t){return"field-"+t},hasComponent(t){const e=this.getFieldComponentName(t);return!!this.woolentorCustomComponents.find(n=>n.name===e)},classes(t,e=""){return e!==""?e.hasOwnProperty("class")?e.class:"":["woolentor-opt-field",t=="text"?"woolentor-regular-text":`woolentor-opt-field-${t}`]},async handleCustomAction(){try{this.isCustomActionLoading=!0;const t=this.model[this.fieldData?.action_button?.option_id],e=await Z.post("/woolentoropt/v1/custom-action",{callback:this.fieldData.action_button.callback,field_id:this.fieldData.id,data:{nonce:woolentorOptions.verifynonce,depend_value:t,...this.fieldData.action_button.data}});e.data?.success&&(this.updateRepeaterFields(e.data.data),this.fieldData.action_button?.auto_save&&this.$emit("triggerSave"),le({title:"Success",message:this.fieldData.action_button.message||e.data.message||"Update successfully",type:"success",position:"top-right",duration:3e3,offset:30})),this.isCustomActionLoading=!1}catch(t){le({title:"Error",message:t.response?.data?.message||"Update failed!",type:"error",position:"top-right",duration:3e3,offset:30})}},updateRepeaterFields(t){!t||typeof t!="object"||(this.repeaterItems=this.repeaterItems.map((e,o)=>{const n=t[e[this.fieldData?.action_button?.update_key]]||t[o];if(!n)return e;const s=typeof n=="number"?parseFloat(n).toFixed(2):n;return this.fieldData.action_button.update_fields&&this.fieldData.action_button.update_fields.forEach(a=>{e.hasOwnProperty(a)&&(e[a]=s)}),e}),this.updateModel())}},watch:{model:{handler(t){if(t[this.fieldData.id]){let e=[...t[this.fieldData.id]];this.fieldData.max_items&&(e=e.slice(0,this.fieldData.max_items)),e=e.map(o=>(this.updateDynamicFields(o),o)),this.repeaterItems=e}},deep:!0,immediate:!0}}},gg={class:"woolentor-card-field-label"},_g={style:{display:"flex","align-items":"center",color:"#000","font-size":"14px","font-weight":"700"}},yg=["innerHTML"],Tg=["innerHTML"],bg={class:"woolentor-repeater-items"},Eg=["onClick"],vg=["innerHTML"],wg={class:"woolentor-repeater-actions"},Cg={class:"woolentor-repeater-content"},Sg={key:0},Dg={class:"woolentor-repeater-footer"},Ag={class:"modal-upgrade-dialog-header"},Lg=["innerHTML"],Ig={class:"upgrade-dialog-content",style:{"text-align":"center"}},Og=["innerHTML"],Ng={class:"dialog-footer"};function xg(t,e,o,n,s,a){const i=$,r=M("Delete"),p=we,d=re,u=M("ArrowDown"),h=M("ArrowUp"),g=Tt,y=Ze,_=Oi,T=M("draggable"),b=M("Plus"),C=oe,L=_t;return m(),E(W,null,[c(C,{style:{width:"auto",border:"none"},shadow:"never","body-style":"padding: 0px","border-card":"false"},{default:f(()=>[l("div",{onClick:e[0]||(e[0]=D=>s.fieldData.is_pro?t.$emit("openProModal",!0):null)},[l("div",gg,[l("span",_g,[l("span",{innerHTML:s.fieldData.name},null,8,yg),s.fieldData.is_pro?(m(),w(i,{key:0,style:{"margin-right":"10px"}})):S("",!0)]),s.fieldData.desc?(m(),E("p",{key:0,innerHTML:s.fieldData.desc},null,8,Tg)):S("",!0)]),l("div",bg,[c(T,So({class:"dragArea list-group w-full",list:s.repeaterItems},a.dragOptions,{onChange:a.itemMoved}),{default:f(()=>[(m(!0),E(W,null,te(s.repeaterItems,(D,k)=>(m(),E("div",{key:k,class:"woolentor-repeater-item"},[l("div",{class:"woolentor-repeater-header",onClick:N=>a.toggleCollapse(k)},[l("span",{class:"woolentor-repeater-title",innerHTML:a.getItemTitle(D,k)},null,8,vg),l("div",wg,[c(d,{type:"danger",circle:"",size:"small",onClick:ge(N=>a.removeItem(k),["stop"]),disabled:s.fieldData.is_pro},{default:f(()=>[c(p,null,{default:f(()=>[c(r)]),_:1})]),_:2},1032,["onClick","disabled"]),c(d,{circle:"",size:"small",onClick:ge(N=>a.toggleCollapse(k),["stop"]),disabled:s.fieldData.is_pro},{default:f(()=>[c(p,null,{default:f(()=>[a.isCollapsed(k)?(m(),w(h,{key:1})):(m(),w(u,{key:0}))]),_:2},1024)]),_:2},1032,["onClick","disabled"])])],8,Eg),c(_,null,{default:f(()=>[De(l("div",Cg,[(m(!0),E(W,null,te(s.fieldData.fields,N=>(m(),E("div",{key:N.id,class:"woolentor-repeater-field"},[n.shouldShowField(N,D)?(m(),E("div",Sg,[a.hasComponent(N.type)?(m(),w(ct(a.getFieldComponentName(N.type)),{key:N.id,field:N,model:D,class:V(a.classes(N.type)),onOnChange:a.updateModel,onOpenProModal:t.openProModal},null,40,["field","model","class","onOnChange","onOpenProModal"])):(m(),w(g,{key:N.id+"unique",field:N,model:D,class:V(a.classes(N.type)),onOnChange:a.updateModel,onOpenProModal:t.openProModal},null,8,["field","model","class","onOnChange","onOpenProModal"])),N.id!==s.fieldData.fields[s.fieldData.fields.length-1].id?(m(),w(y,{key:2})):S("",!0)])):S("",!0)]))),128))],512),[[It,!a.isCollapsed(k)]])]),_:2},1024)]))),128))]),_:1},16,["list","onChange"])]),l("div",Dg,[c(d,{type:"primary",onClick:a.addItem,disabled:s.fieldData.is_pro,class:"woolentor-add-repeater-item"},{default:f(()=>[c(p,null,{default:f(()=>[c(b)]),_:1}),P(" "+I(s.fieldData.options?.button_label||"Add New Item"),1)]),_:1},8,["onClick","disabled"]),s.fieldData.action_button?(m(),w(d,{key:0,type:"primary",onClick:a.handleCustomAction,disabled:s.fieldData.is_pro,loading:s.isCustomActionLoading,class:"woolentor-custom-action-btn"},{default:f(()=>[P(I(s.fieldData.action_button.label||"Custom Action"),1)]),_:1},8,["onClick","disabled","loading"])):S("",!0)])])]),_:1}),c(L,{modelValue:s.upgradeDialogVisible,"onUpdate:modelValue":e[2]||(e[2]=D=>s.upgradeDialogVisible=D),width:"420px","close-on-click-modal":!1,"show-close":!1,class:"modal-upgrade-dialog","append-to-body":"",center:""},{header:f(()=>[l("div",Ag,[e[3]||(e[3]=l("div",{class:"upgrade-icon"},[l("div",{class:"icon-circle"},[l("svg",{viewBox:"0 0 24 24",width:"32",height:"32"},[l("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z",fill:"#f5a623"})])])],-1)),l("h2",{class:"upgrade-title",innerHTML:s.fieldData?.message?.title||"Warning"},null,8,Lg)])]),footer:f(()=>[l("div",Ng,[c(d,{class:"action-button yes-button",onClick:a.goToPro,type:"primary"},{default:f(()=>e[4]||(e[4]=[P(" Upgrade Now ")])),_:1},8,["onClick"]),c(d,{class:"action-button no-button",onClick:e[1]||(e[1]=D=>s.upgradeDialogVisible=!1)},{default:f(()=>e[5]||(e[5]=[P(" Not Now ")])),_:1})])]),default:f(()=>[l("div",Ig,[l("p",{class:"upgrade-message",innerHTML:s.fieldData?.message?.desc||`Maximum ${this.fieldData.max_items} items allowed.`},null,8,Og)])]),_:1},8,["modelValue"])],64)}const Rg=F(hg,[["render",xg],["__scopeId","data-v-9e7759ba"]]),kg={name:"field-repeater",template:Rg},Pg={name:"field-select",props:["field","model","class"],emits:["onChange","openProModal"],components:{ProBadge:$},setup(t){return{getTextFromHtml:zn,absoluteNumberToString:go,stringToAbsoluteNumber:wa}},data(){return{fieldData:this.field,currentRoute:this.$route,hasGroup:!!this.field?.options?.group,selectedValue:this.field?.convertnumber===!0?go(this.model[this.field.id]):this.model[this.field.id]}},methods:{handleChange(t){this.model[this.field.id]=this.field?.convertnumber===!0?this.stringToAbsoluteNumber(t):t,this.$emit("onChange")}}},Mg={class:"woolentor-card-field-label"},Gg={style:{display:"flex","align-items":"center",color:"#000","font-size":"14px","font-weight":"700"}},Fg=["innerHTML"],Vg=["innerHTML"],Ug={class:"woolentor-card-field-element"},Bg=["innerHTML"],Hg=["innerHTML"];function zg(t,e,o,n,s,a){const i=$,r=Ot,p=Ni,d=Nt,u=oe;return m(),w(u,{style:{width:"auto",border:"none"},shadow:"never","body-style":"padding: 0px","border-card":"false"},{default:f(()=>[l("div",{class:V(`woolentor-element-card ${s.fieldData?.class||""} ${this.class}`),style:{display:"flex","align-items":"center","flex-wrap":"wrap"},onClick:e[1]||(e[1]=h=>s.fieldData.is_pro?t.$emit("openProModal",!0):null)},[l("div",Mg,[l("span",Gg,[l("span",{innerHTML:s.fieldData.name},null,8,Fg),s.fieldData.is_pro?(m(),w(i,{key:0,style:{"margin-right":"10px"}})):S("",!0)]),s.fieldData.desc?(m(),E("p",{key:0,innerHTML:s.fieldData.desc},null,8,Vg)):S("",!0)]),l("div",Ug,[c(d,{modelValue:s.selectedValue,"onUpdate:modelValue":e[0]||(e[0]=h=>s.selectedValue=h),placeholder:s.fieldData?.placeholder||"Select",size:"large",onChange:a.handleChange,disabled:s.fieldData.is_pro,"value-key":s.fieldData.id},{default:f(()=>[s.hasGroup?(m(!0),E(W,{key:0},te(s.fieldData?.options?.group,(h,g)=>(m(),w(p,{key:g,label:h.label},{default:f(()=>[(m(!0),E(W,null,te(h.options,(y,_)=>(m(),w(r,{key:_,label:n.getTextFromHtml(y),value:s.fieldData?.convertnumber===!0?n.absoluteNumberToString(_):_,disabled:s.fieldData.is_pro},{default:f(()=>[l("span",{innerHTML:y},null,8,Bg)]),_:2},1032,["label","value","disabled"]))),128))]),_:2},1032,["label"]))),128)):(m(!0),E(W,{key:1},te(s.fieldData.options,(h,g)=>(m(),w(r,{key:g,label:n.getTextFromHtml(h),value:s.fieldData?.convertnumber===!0?n.absoluteNumberToString(g):g,disabled:s.fieldData.is_pro},{default:f(()=>[l("span",{innerHTML:h},null,8,Hg)]),_:2},1032,["label","value","disabled"]))),128))]),_:1},8,["modelValue","placeholder","onChange","disabled","value-key"])])],2)]),_:1})}const jg=F(Pg,[["render",zg]]),qg={name:"field-select",template:jg},$g={name:"field-shortable",components:{draggable:Ha,ProBadge:$},props:["field","model"],emits:["onChange","openProModal"],data(){return{fieldData:this.field,sortableItems:[]}},created(){this.initializeSortableItems()},computed:{dragOptions(){return{animation:200,disabled:this.fieldData.is_pro,ghostClass:"ghost",group:`woolentor-sortable-${this.fieldData.id}`}}},methods:{initializeSortableItems(){const t=[],e=this.model[this.fieldData.id]||{};Object.entries(this.fieldData.options).forEach(([s,a])=>{t.push({id:s,label:a,checked:Object.prototype.hasOwnProperty.call(e,s)})});const o=t.filter(s=>s.checked),n=t.filter(s=>!s.checked);if(Object.keys(e).length>0){const s=Object.keys(e);o.sort((a,i)=>s.indexOf(a.id)-s.indexOf(i.id))}this.sortableItems=[...o,...n],this.updateModel()},handleChange(){this.updateModel(),this.$emit("onChange")},handleCheckboxChange(){this.updateModel(),this.$emit("onChange")},updateModel(){const t={};this.sortableItems.forEach(e=>{e.checked&&(t[e.id]=e.label)}),this.model[this.fieldData.id]=t}}},Wg={class:"woolentor-card-field-label"},Yg={style:{display:"flex","align-items":"center",color:"#000","font-size":"14px","font-weight":"700"}},Kg=["innerHTML"],Jg=["innerHTML"],Xg={class:"woolentor-card-field-sortable"};function Qg(t,e,o,n,s,a){const i=$,r=xi,p=M("draggable"),d=oe;return m(),w(d,{style:{width:"auto",border:"none"},shadow:"never","body-style":"padding: 0px","border-card":"false"},{default:f(()=>[l("div",{style:{display:"flex","flex-direction":"column"},onClick:e[0]||(e[0]=u=>s.fieldData.is_pro?t.$emit("openProModal",!0):null)},[l("div",Wg,[l("span",Yg,[l("span",{innerHTML:s.fieldData.name},null,8,Kg),s.fieldData.is_pro?(m(),w(i,{key:0,style:{"margin-right":"10px"}})):S("",!0)]),s.fieldData.desc?(m(),E("p",{key:0,innerHTML:s.fieldData.desc},null,8,Jg)):S("",!0)]),l("div",Xg,[c(p,So({class:"dragArea list-group w-full",list:s.sortableItems},a.dragOptions,{onChange:a.handleChange}),{default:f(()=>[(m(!0),E(W,null,te(s.sortableItems,u=>(m(),E("div",{class:"woolentor-sortable-item",key:u.id},[c(r,{modelValue:u.checked,"onUpdate:modelValue":h=>u.checked=h,disabled:s.fieldData.is_pro,onChange:a.handleCheckboxChange},{default:f(()=>[P(I(u.label),1)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"]),e[1]||(e[1]=l("span",{class:"woolentor-drag-handle"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[l("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),l("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),l("line",{x1:"3",y1:"18",x2:"21",y2:"18"})])],-1))]))),128))]),_:1},16,["list","onChange"])])])]),_:1})}const Zg=F($g,[["render",Qg],["__scopeId","data-v-d35fea14"]]),e_={name:"field-shortable",template:Zg},t_={name:"field-switcher",props:["field","model","class"],emits:["onChange","openProModal"],components:{ProBadge:$},data(){return{fieldData:this.field,currentRoute:this.$route}}},n_={class:"woolentor-card-field-label-switcher",style:{display:"flex","align-items":"center",gap:"8px"}},o_=["innerHTML"],s_=["innerHTML"],a_={class:"woolentor-card-field-element-switcher"};function i_(t,e,o,n,s,a){const i=$,r=Jt,p=oe;return m(),w(p,{style:{width:"auto","border-color":"#7D8087","border-radius":"0px"},shadow:"never","border-card":"false","body-style":"padding: 15px;display: flex; align-items: center; justify-content: space-between;gap:10px;",onClick:e[2]||(e[2]=d=>s.fieldData.is_pro?t.$emit("openProModal",!0):null)},{default:f(()=>[l("div",n_,[l("span",{style:Ae([{display:"flex","align-items":"center",color:"#000","font-size":"16px"},{color:o.model[s.fieldData.id]=="on"?"#000000":"#7D8087"}])},[l("span",{innerHTML:s.fieldData.name},null,8,o_),s.fieldData.is_pro?(m(),w(i,{key:0})):S("",!0)],4),s.fieldData.desc?(m(),E("p",{key:0,innerHTML:s.fieldData.desc},null,8,s_)):S("",!0)]),l("div",a_,[c(r,{modelValue:o.model[s.fieldData.id],"onUpdate:modelValue":e[0]||(e[0]=d=>o.model[s.fieldData.id]=d),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#3489FE","--el-switch-off-color":"#7D8087"},"active-text":"ON","inactive-text":"OFF","active-value":"on","inactive-value":"off",onChange:e[1]||(e[1]=d=>t.$emit("onChange")),disabled:s.fieldData.is_pro},null,8,["modelValue","disabled"])])]),_:1})}const l_=F(t_,[["render",i_]]),r_={name:"field-switcher",template:l_},c_={name:"field-title",props:["field","model","class"],emits:["onChange","openProModal"],components:{ProBadge:$},data(){return{fieldData:this.field,title:this.field.heading}}},d_={key:0,class:"woolentor-card-field-label"},u_={style:{display:"flex","align-items":"center",color:"#000","font-size":"20px"}},p_=["innerHTML"],f_={class:"woolentor-card-field-element-heading",style:{width:"100%"}},m_=["innerHTML"],h_=["innerHTML"];function g_(t,e,o,n,s,a){const i=$,r=oe;return m(),w(r,{style:{border:"none"},shadow:"never","body-style":"padding: 0px","border-card":"false"},{default:f(()=>[l("div",{style:{width:"100%",display:"flex","align-items":"center","justify-content":"space-between",gap:"15px"},onClick:e[1]||(e[1]=p=>s.fieldData.is_pro?t.$emit("openProModal",!0):null)},[s.fieldData.name?(m(),E("div",d_,[l("span",u_,[l("span",{innerHTML:s.fieldData.name},null,8,p_),s.fieldData.is_pro?(m(),w(i,{key:0,style:{"margin-right":"10px"}})):S("",!0)])])):S("",!0),l("div",f_,[l("div",{class:V(`woolentor-option-heading ${s.fieldData?.class} ${this.class}`),onClick:e[0]||(e[0]=p=>s.fieldData.is_pro?t.$emit("openProModal",!0):null)},[l("h4",{class:"woolentor-option-heading-title regular-title",innerHTML:s.title},null,8,m_),s.fieldData.desc?(m(),E("p",{key:0,innerHTML:s.fieldData.desc},null,8,h_)):S("",!0)],2)])])]),_:1})}const __=F(c_,[["render",g_],["__scopeId","data-v-d780b548"]]),y_={name:"field-title",template:__},T_={name:"field-upload",props:["field","model","class"],emits:["onChange","openProModal"],components:{ProBadge:$},data(){return{fileUrl:"",fieldData:this.field,currentRoute:this.$route}},methods:{openMediaUploader(){const t=wp.media({title:"Upload File",button:{text:"Use this file"},multiple:!1});t.on("select",()=>{const e=t.state().get("selection").first().toJSON();this.fileUrl=e.url}),t.open()}}},b_={class:"woolentor-card-field-label"},E_={style:{display:"flex","align-items":"center",color:"#000","font-size":"14px","font-weight":"700"}},v_=["innerHTML"],w_=["innerHTML"],C_={key:0};function S_(t,e,o,n,s,a){const i=$,r=oe;return m(),w(r,{style:{width:"auto",border:"none"},shadow:"never","body-style":"padding: 0px","border-card":"false"},{default:f(()=>[l("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",gap:"15px"},onClick:e[1]||(e[1]=p=>s.fieldData.is_pro?t.$emit("openProModal",!0):null)},[l("div",b_,[l("span",E_,[l("span",{innerHTML:s.fieldData.name},null,8,v_),s.fieldData.is_pro?(m(),w(i,{key:0,style:{"margin-right":"10px"}})):S("",!0)]),s.fieldData.desc?(m(),E("p",{key:0,innerHTML:s.fieldData.desc},null,8,w_)):S("",!0)]),l("div",{class:V(`woolentor-card-field-element ${s.fieldData?.class||""} ${this.class}`)},[l("div",null,[l("button",{onClick:e[0]||(e[0]=(...p)=>a.openMediaUploader&&a.openMediaUploader(...p))},"Upload File"),s.fileUrl?(m(),E("div",C_,[l("p",null,"File URL: "+I(s.fileUrl),1)])):S("",!0)])],2)])]),_:1})}const D_=F(T_,[["render",S_]]),A_={name:"field-upload",template:D_},L_={name:"PluginGrid",components:{InfoFilled:As},props:{pluginList:{type:Array,required:!0,default:()=>[]},isLoading:{type:Boolean,default:!1},pluginStates:{type:Object,default:()=>{}},getPluginButtonText:{type:Function,default:(t,e)=>""}},methods:{toggleActivation(t){if(t.status===this.pluginStates.NOT_INSTALLED&&t?.is_pro){window.open(t.link,"_blank");return}else this.$emit("plugin-toggled",t)},trimWords(t,e){return va(t,e)},activeInstallCount(t){let e;return t>=1e6?e=`${Math.floor(t/1e6)}+ Million`:t===0?e="Less Than 10":e=`${t.toLocaleString()}+`,e}}},I_={class:"woolentor-plugin-grid"},O_={class:"woolentor-plugin-content"},N_={class:"woolentor-plugin-logo"},x_={class:"woolentor-plugin-info"},R_={class:"woolentor-plugin-title"},k_=["innerHTML"],P_={class:"woolentor-plugin-footer"},M_={class:"woolentor-plugin-installation-info"},G_={key:1};function F_(t,e,o,n,s,a){const i=yt,r=Ao,p=M("InfoFilled"),d=we,u=Us,h=re,g=oe,y=tt,_=et;return m(),E("div",I_,[c(_,{gutter:20},{default:f(()=>[o.isLoading?(m(),w(i,{key:0,rows:6,animated:""})):(m(!0),E(W,{key:1},te(o.pluginList,T=>(m(),w(y,{span:12,md:12,sm:12,xs:24,key:T.id},{default:f(()=>[c(g,{class:"woolentor-plugin-info-card mb-4",shadow:"hover"},{footer:f(()=>[l("div",P_,[l("div",M_,[T.active_installs?(m(),w(d,{key:0},{default:f(()=>[c(p)]),_:1})):S("",!0),T.active_installs?(m(),E("span",G_,I(`${a.activeInstallCount(T.active_installs)} Active Installations`),1)):S("",!0),T.is_pro?(m(),w(u,{key:2,type:"primary",class:"woolentor-plugin-more-details",href:T?.link,target:"_blank"},{default:f(()=>e[0]||(e[0]=[P("More Details")])),_:2},1032,["href"])):(m(),w(u,{key:3,type:"primary",class:"thickbox open-plugin-details-modal",href:`${this.woolentorLocalizeData.adminUrl}plugin-install.php?tab=plugin-information&plugin=${T.slug}&TB_iframe=true&width=772&height=577`},{default:f(()=>e[1]||(e[1]=[P("More Details")])),_:2},1032,["href"]))]),c(h,{type:"primary",loading:T.isLoading,disabled:T.status===o.pluginStates.ACTIVE||T.status===o.pluginStates.INSTALLING||T.status===o.pluginStates.ACTIVATING,onClick:b=>a.toggleActivation(T)},{default:f(()=>[P(I(T.status===o.pluginStates.NOT_INSTALLED&&T?.is_pro?"Buy Now":o.getPluginButtonText(T.status,T.isLoading)),1)]),_:2},1032,["loading","disabled","onClick"])])]),default:f(()=>[l("div",O_,[l("div",N_,[c(r,{src:T.icon,alt:T.name,class:"woolentor-plugin-image"},null,8,["src","alt"])]),l("div",x_,[l("h3",R_,I(T.name),1),l("p",{class:"woolentor-plugin-description",innerHTML:a.trimWords(T.description,23)},null,8,k_)])])]),_:2},1024)]),_:2},1024))),128))]),_:1})])}const Pt=F(L_,[["render",F_],["__scopeId","data-v-cf9f229b"]]),V_={name:"FreeExtension",components:{PluginGrid:Pt},setup(){const t=G([{name:"Support Genix Lite  Support Tickets Managing System",slug:"support-genix-lite",description:"Support Genix is a support ticket system for WordPress and WooCommerce.",status:"inactive",isLoading:!1,icon:null},{name:"Pixelavo  Facebook Pixel Conversion API",slug:"pixelavo",description:"Easy connection of Facebook pixel to your online store.",status:"not_installed",isLoading:!1,icon:null},{name:"Whols  Wholesale Prices and B2B Store",slug:"whols",description:"WooCommerce Wholesale plugin for B2B store management.",status:"inactive",isLoading:!1,icon:null},{name:"JustTables  WooCommerce Product Table",slug:"just-tables",description:"JustTables is an incredible WordPress plugin that lets you showcase all your WooCommerce products in a sortable and filterable table view.",status:"inactive",isLoading:!1,icon:null}]),e=G(!0),{PLUGIN_STATES:o,getPluginButtonText:n,handlePluginAction:s,fetchPluginStatus:a,initializePluginsWithData:i}=Hn(),r=async d=>{const u=t.value.findIndex(h=>h.slug===d.slug);if(u!==-1){t.value[u].isLoading=!0;try{const h=await s(d,(g,y)=>{const _=t.value.findIndex(T=>T.slug===g);_!==-1&&(t.value[_].status=y)});h&&(t.value[u].status=h)}finally{t.value[u].isLoading=!1}}},p=async()=>{e.value=!0;try{const d=t.value.map(y=>y.slug);let u=null;const h=d.join(",")+"cache",g=Y.get(h);g?u=g:(u=await i(t.value),Y.set(h,u,{duration:6e3})),t.value=u.map(y=>({...y,icon:y.icons?.["2x"]||y.icons?.["1x"]||y.icons?.default||null}))}catch(d){console.error("Error loading plugins:",d)}finally{e.value=!1}};return Qe(()=>{p()}),{pluginList:t,PLUGIN_STATES:o,isInitialLoading:e,getPluginButtonText:n,handlePluginAction:r}}};function U_(t,e,o,n,s,a){const i=Pt;return m(),w(i,{"plugin-list":n.pluginList,"is-loading":n.isInitialLoading,"plugin-states":n.PLUGIN_STATES,"get-plugin-button-text":n.getPluginButtonText,onPluginToggled:n.handlePluginAction},null,8,["plugin-list","is-loading","plugin-states","get-plugin-button-text","onPluginToggled"])}const B_=F(V_,[["render",U_]]),H_={name:"ProExtension",components:{PluginGrid:Pt},setup(){const t=G([{name:"Whols Pro  Wholesale Prices and B2B Store",slug:"whols-pro",description:"WooCommerce Wholesale plugin for B2B store management.",status:"inactive",isLoading:!1,icon:null,link:"https://hasthemes.com/plugins/whols-woocommerce-wholesale-prices/"},{name:"JustTables Pro  WooCommerce Product Table",slug:"just-tables-pro",description:"JustTables is an incredible WordPress plugin that lets you showcase all your WooCommerce products in a sortable and filterable table view.",status:"inactive",isLoading:!1,icon:null,link:"https://hasthemes.com/wp/justtables/"},{name:"Support Genix  Support Tickets Managing System",slug:"support-genix",description:"Support Genix is a support ticket system for WordPress and WooCommerce.",status:"inactive",isLoading:!1,icon:null,link:"https://supportgenix.com/"},{name:"Pixelavo Pro  Facebook Pixel Conversion API",slug:"pixelavo-pro",description:"Easy connection of Facebook pixel to your online store.",status:"not_installed",isLoading:!1,icon:null,link:"https://hasthemes.com/plugins/facebook-pixel-wordpress-plugin/"}]),e=G(!0),{PLUGIN_STATES:o,getPluginButtonText:n,handlePluginAction:s,fetchPluginStatus:a,initializePluginsWithData:i}=Hn(),r=async d=>{const u=t.value.findIndex(h=>h.slug===d.slug);if(u!==-1){t.value[u].isLoading=!0;try{const h=await s(d,(g,y)=>{const _=t.value.findIndex(T=>T.slug===g);_!==-1&&(t.value[_].status=y)});h&&(t.value[u].status=h)}finally{t.value[u].isLoading=!1}}},p=async()=>{e.value=!0;try{const d=t.value.map(y=>y.slug);let u=null;const h=d.join(",")+"cache",g=Y.get(h);g?u=g:(u=await i(t.value,"local"),Y.set(h,u,{duration:6e3})),t.value=u.map(y=>({...y,is_pro:!0,icon:woolentorOptions?.assetsUrl+"/images/extension/"+y.slug+".png"}))}catch(d){console.error("Error loading plugins:",d)}finally{e.value=!1}};return Qe(()=>{p()}),{pluginList:t,PLUGIN_STATES:o,isInitialLoading:e,getPluginButtonText:n,handlePluginAction:r}}};function z_(t,e,o,n,s,a){const i=Pt;return m(),w(i,{"plugin-list":n.pluginList,"is-loading":n.isInitialLoading,"plugin-states":n.PLUGIN_STATES,"get-plugin-button-text":n.getPluginButtonText,onPluginToggled:n.handlePluginAction},null,8,["plugin-list","is-loading","plugin-states","get-plugin-button-text","onPluginToggled"])}const j_=F(H_,[["render",z_]]),q_={name:"SubscribeSection",methods:{openSubscribeLink(t){t&&window.open(t,"_blank")}}},$_={class:"subscribe-section"};function W_(t,e,o,n,s,a){const i=tt,r=re,p=et,d=oe;return m(),E("div",$_,[c(d,{class:"subscribe-card"},{default:f(()=>[c(p,{gutter:24,class:"subscribe-content-area"},{default:f(()=>[c(i,{sm:24,md:16,class:"subscribe-text"},{default:f(()=>e[1]||(e[1]=[l("div",{class:"subscribe-content"},[l("h3",null,"Subscribe and Get Offers"),l("p",null,"Sign up for our email list to get discounts, exclusive offers, the latest items, and news in your inbox.")],-1)])),_:1}),c(i,{sm:24,md:8,class:"subscribe-button-wrapper"},{default:f(()=>[c(r,{type:"primary",class:"subscribe-button",onClick:e[0]||(e[0]=u=>a.openSubscribeLink("https://hasthemes.com/subscribe-and-get-offers/"))},{default:f(()=>e[2]||(e[2]=[P(" Subscribe ")])),_:1})]),_:1})]),_:1})]),_:1})])}const za=F(q_,[["render",W_],["__scopeId","data-v-60c0c01a"]]),Y_={name:"ActionCards",components:{ArrowRight:Vs},data(){return{rating:5}}},K_={class:"action-cards"};function J_(t,e,o,n,s,a){const i=M("ArrowRight"),r=we,p=Us,d=oe;return m(),E("div",K_,[c(d,{class:"action-card community-card",shadow:"hover"},{default:f(()=>[e[1]||(e[1]=l("h3",{class:"card-title"},"Join the Community",-1)),e[2]||(e[2]=l("p",{class:"card-description"},"Got a question about the plugin, want to share your awesome project or just say hi? Join our wonderful community!",-1)),c(p,{type:"primary",class:"action-link"},{default:f(()=>[e[0]||(e[0]=P(" Join Now ")),c(r,{class:"link-icon"},{default:f(()=>[c(i)]),_:1})]),_:1})]),_:1})])}const ja=F(Y_,[["render",J_],["__scopeId","data-v-5822c5b0"]]),X_={name:"Extension",setup(){const t=G([{name:"Support Genix  Support Tickets Managing System",slug:"support-genix-lite",description:"Support Genix is a support ticket system for WordPress and WooCommerce.",status:"inactive",isLoading:!1,icon:null,color:"#FF6B4B"},{name:"Pixelavo  Facebook Pixel Conversion API",slug:"pixelavo",description:"Easy connection of Facebook pixel to your online store.",status:"not_installed",isLoading:!1,icon:null,color:"#6B4BFF"},{name:"Whols  Wholesale Prices and B2B Store",slug:"whols",description:"WooCommerce Wholesale plugin for B2B store management.",status:"inactive",isLoading:!1,icon:null,color:"#00A0D2"},{name:"HT Slider For Elementor",slug:"ht-slider-for-elementor",description:"HT Slider For Elementor is a WordPress slider builder plugin for the popular Elementor page builder and Gutenberg block editor.",status:"inactive",isLoading:!1,icon:null,color:"#00A0D2"},{name:"WP Plugin Manager  Deactivate plugins per page",slug:"wp-plugin-manager",description:"In this modern era, there is a huge demand for faster loading websites. If a website loads fast then it is considered to be more reliable and professional. ",status:"inactive",isLoading:!1,icon:null,color:"#00A0D2"},{name:"Extensions For CF7",slug:"extensions-for-cf7",description:"The Extensions for CF7 is an excellent WordPress plugin that extends the features and functionalities of the Contact Form 7 plugin to make it more convenient and user-friendly. ",status:"inactive",isLoading:!1,icon:null,color:"#00A0D2"},{name:"HashBar  WordPress Notification Bar",slug:"hashbar-wp-notification-bar",description:"HashBar is a handy WordPress Notification Bar Plugin that will take your WordPress site to the next level. ",status:"inactive",isLoading:!1,icon:null,color:"#00A0D2"},{name:"Insert Headers and Footers Code  HT Script",slug:"insert-headers-and-footers-script",description:"Insert Headers and Footers Code allows you to insert Google Analytics, Facebook Pixel, custom CSS, custom HTML, JavaScript code to your website header and footer without modifying your theme code.",status:"inactive",isLoading:!1,icon:null,color:"#00A0D2"}]),e=G(!0),{PLUGIN_STATES:o,getPluginButtonText:n,handlePluginAction:s,initializePluginsWithData:a}=Hn(),i=se(()=>{if(t.value.every(y=>y.status===o.ACTIVE))return t.value.slice(0,3);const g=t.value.filter(y=>y.status!==o.ACTIVE).sort((y,_)=>{const T=b=>b===o.INACTIVE||b===o.ACTIVATING?0:1;return T(y.status)-T(_.status)});return g.length>=3?g.slice(0,3):t.value.slice(0,3)}),r=u=>({backgroundColor:u.color||"#FF6B4B"}),p=async u=>{const h=t.value.findIndex(g=>g.slug===u.slug);if(h!==-1){t.value[h].isLoading=!0;try{const g=await s(u,(y,_)=>{const T=t.value.findIndex(b=>b.slug===y);T!==-1&&(t.value[T].status=_)});g&&(t.value[h].status=g)}finally{t.value[h].isLoading=!1}}},d=async()=>{e.value=!0;try{const u=t.value.map(_=>_.slug);let h=null;const g=u.join(",")+"cache",y=Y.get(g);y?h=y:(h=await a(t.value),Y.set(g,h,{duration:6e3})),t.value=h.map(_=>({..._,icon:_.icons?.["2x"]||_.icons?.["1x"]||_.icons?.default||null}))}catch(u){console.error("Error loading plugins:",u)}finally{e.value=!1}};return Qe(()=>{d()}),{PLUGIN_STATES:o,visiblePlugins:i,isInitialLoading:e,getPluginButtonText:n,getIconStyle:r,handlePluginAction:p,trimWords:va}}},Q_={class:"extension-container"},Z_={class:"extension-info"},ey={class:"extension-icon"},ty={class:"extension-details",style:{width:"100%"}},ny={style:{display:"flex","flex-direction":"column",gap:"8px"}},oy={class:"extension-info"},sy=["src","alt"],ay={class:"extension-details"};function iy(t,e,o,n,s,a){const i=xn,r=yt,p=re,d=oe;return m(),E("div",Q_,[e[0]||(e[0]=l("h3",{class:"section-title"},"Recommended Plugins",-1)),c(d,{class:"extension-list",style:{width:"100%"},shadow:"never","body-style":{padding:"0"}},{default:f(()=>[n.isInitialLoading?(m(),E(W,{key:0},te(3,u=>l("div",{key:u,class:"extension-item"},[c(r,{animated:""},{template:f(()=>[l("div",Z_,[l("div",ey,[c(i,{variant:"circle",style:{width:"40px",height:"40px"}})]),l("div",ty,[l("div",ny,[c(i,{variant:"text",style:{width:"60%",height:"18px"}}),c(i,{variant:"text",style:{width:"80%",height:"16px"}}),c(i,{variant:"button",style:{width:"100px",height:"30px","margin-top":"3px"}})])])])]),_:1})])),64)):(m(!0),E(W,{key:1},te(n.visiblePlugins,u=>(m(),E("div",{key:u.slug,class:"extension-item"},[l("div",oy,[l("div",{class:"extension-icon",style:Ae(n.getIconStyle(u))},[u.icon?(m(),E("img",{key:0,src:u.icon,alt:u.name},null,8,sy)):S("",!0)],4),l("div",ay,[l("h3",null,I(u.name),1),l("p",null,I(n.trimWords(u.description,8)),1),c(p,{type:"text",plain:"",class:"extension-button",loading:u.isLoading,disabled:u.status===n.PLUGIN_STATES.ACTIVE||u.status===n.PLUGIN_STATES.INSTALLING||u.status===n.PLUGIN_STATES.ACTIVATING,onClick:h=>n.handlePluginAction(u)},{default:f(()=>[P(I(n.getPluginButtonText(u.status,u.isLoading)),1)]),_:2},1032,["loading","disabled","onClick"])])])]))),128))]),_:1})])}const qa=F(X_,[["render",iy],["__scopeId","data-v-b56055de"]]),ly={name:"HelpResources",components:{},methods:{openActionLink(t){t&&window.open(t,"_blank")}}},ry={class:"help-resources"},cy={class:"card-content"},dy={class:"icon-wrapper blue-bg"},uy={class:"text-content"},py={class:"card-content"},fy={class:"icon-wrapper blue-bg"},my={class:"text-content"},hy={class:"card-content"},gy={class:"icon-wrapper blue-bg"},_y={class:"text-content"},yy={class:"card-content"},Ty={class:"icon-wrapper blue-bg"},by={class:"text-content"};function Ey(t,e,o,n,s,a){const i=we,r=re,p=oe,d=tt,u=et;return m(),E("div",ry,[e[20]||(e[20]=l("h3",{class:"section-title"},"Help & Resources",-1)),c(u,{gutter:24},{default:f(()=>[c(d,{xs:24,sm:12,md:12},{default:f(()=>[c(p,{class:"resource-card",shadow:"hover"},{default:f(()=>[l("div",cy,[l("div",dy,[c(i,null,{default:f(()=>e[4]||(e[4]=[l("i",{class:"wli wli-file"},null,-1)])),_:1})]),l("div",uy,[e[6]||(e[6]=l("h3",null,"Documentation",-1)),e[7]||(e[7]=l("p",null,"We've organized the documentation and kept it up to date on a regular basis. This manual will assist you in using our plugin effectively.",-1)),c(r,{type:"text",plain:"",onClick:e[0]||(e[0]=h=>a.openActionLink("https://woolentor.com/documentation/"))},{default:f(()=>e[5]||(e[5]=[P("Get Now")])),_:1})])])]),_:1})]),_:1}),c(d,{xs:24,sm:12,md:12},{default:f(()=>[c(p,{class:"resource-card",shadow:"hover"},{default:f(()=>[l("div",py,[l("div",fy,[c(i,null,{default:f(()=>e[8]||(e[8]=[l("i",{class:"wli wli-play"},null,-1)])),_:1})]),l("div",my,[e[10]||(e[10]=l("h3",null,"Video Tutorial",-1)),e[11]||(e[11]=l("p",null,"We create videos to make our customers comprehend the product quickly. Using video tutorials is a fantastic method to learn how to use our plugins. We've compiled a list of videos for you.",-1)),c(r,{type:"text",plain:"",onClick:e[1]||(e[1]=h=>a.openActionLink("https://www.youtube.com/playlist?list=PLk25BQFrj7wH9zCECMNCtEvvUKkpV5TYA"))},{default:f(()=>e[9]||(e[9]=[P("Video Tutorial")])),_:1})])])]),_:1})]),_:1}),c(d,{xs:24,sm:12,md:12},{default:f(()=>[c(p,{class:"resource-card",shadow:"hover"},{default:f(()=>[l("div",hy,[l("div",gy,[c(i,null,{default:f(()=>e[12]||(e[12]=[l("i",{class:"wli wli-support"},null,-1)])),_:1})]),l("div",_y,[e[14]||(e[14]=l("h3",null,"Support",-1)),e[15]||(e[15]=l("p",null,"Please do not hesitate to contact us if you require assistance or want a free store set-up. We will assist you within 12-24 hours of receiving your inquiry.",-1)),c(r,{type:"text",plain:"",onClick:e[2]||(e[2]=h=>a.openActionLink("https://woolentor.com/contact/"))},{default:f(()=>e[13]||(e[13]=[P("Get Support")])),_:1})])])]),_:1})]),_:1}),c(d,{xs:24,sm:12,md:12},{default:f(()=>[c(p,{class:"resource-card",shadow:"hover"},{default:f(()=>[l("div",yy,[l("div",Ty,[c(i,null,{default:f(()=>e[16]||(e[16]=[l("i",{class:"wli wli-feature-list"},null,-1)])),_:1})]),l("div",by,[e[18]||(e[18]=l("h3",null,"Missing any Feature?",-1)),e[19]||(e[19]=l("p",null,"Have you ever noticed any missing features? Please notify us if you do. As soon as possible, our staff will add any necessary features based on your requests. Our commitment to our clients is second to none.",-1)),c(r,{type:"text",plain:"",onClick:e[3]||(e[3]=h=>a.openActionLink("https://woolentor.com/contact/"))},{default:f(()=>e[17]||(e[17]=[P("Request")])),_:1})])])]),_:1})]),_:1})]),_:1})])}const $a=F(ly,[["render",Ey],["__scopeId","data-v-7d2c9e4b"]]),vy={name:"HeroSection",props:{videoId:{type:String,default:"XG70Ge2srz4"}},data(){return{dialogVisible:!1,videoUrl:""}},methods:{showVideo(){this.videoUrl=`https://www.youtube.com/embed/${this.videoId}?autoplay=1`,this.dialogVisible=!0},stopVideo(){this.videoUrl="",this.dialogVisible=!1},openActionLink(t){t&&window.open(t,"_blank")}}},wy={class:"hero-container"},Cy={class:"welcome-content"},Sy={class:"welcome-header"},Dy={class:"welcome-actions"},Ay={class:"video-wrapper"},Ly=["src"];function Iy(t,e,o,n,s,a){const i=re,r=tt,p=oe,d=et,u=_t;return m(),E("div",wy,[c(d,{gutter:24,class:"welcome-container"},{default:f(()=>[c(r,{xs:24,lg:12},{default:f(()=>[l("div",Cy,[l("div",Sy,[l("h4",null,"Hello "+I(this.woolentorLocalizeData?.userData?.showName)+",",1),e[3]||(e[3]=l("h3",null,"Welcome to ShopLentor",-1))]),e[6]||(e[6]=l("p",{class:"welcome-description"}," ShopLentor is All-in-one Solution for WooCommerce aims to replace the need for multiple plugins, offering a singular, integrated tool that addresses all your e-commerce needs. ",-1)),l("div",Dy,[c(i,{type:"primary",size:"large",onClick:e[0]||(e[0]=h=>a.openActionLink("https://woolentor.com/documentation/"))},{default:f(()=>e[4]||(e[4]=[P(" Documentation ")])),_:1}),c(i,{type:"text",size:"large",class:"guide-button",onClick:e[1]||(e[1]=h=>a.openActionLink("https://www.youtube.com/playlist?list=PLk25BQFrj7wH9zCECMNCtEvvUKkpV5TYA"))},{default:f(()=>e[5]||(e[5]=[P(" Watch the Video Tutorial ")])),_:1})])])]),_:1}),c(r,{xs:24,lg:12},{default:f(()=>[c(p,{class:"video-card","body-style":{padding:"0",height:"100%"},onClick:a.showVideo},{default:f(()=>e[7]||(e[7]=[l("div",{class:"video-content"},[l("div",{class:"play-button"},[l("div",{class:"play-icon"})])],-1)])),_:1},8,["onClick"])]),_:1})]),_:1}),c(u,{modelValue:s.dialogVisible,"onUpdate:modelValue":e[2]||(e[2]=h=>s.dialogVisible=h),width:"50%","close-on-click-modal":!1,class:"video-dialog",onClose:a.stopVideo},{default:f(()=>[l("div",Ay,[l("iframe",{src:s.videoUrl,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,Ly)])]),_:1},8,["modelValue","onClose"])])}const Wa=F(vy,[["render",Iy],["__scopeId","data-v-927b019b"]]),Oy={name:"WelcomeComponent",components:{HeroSection:Wa,HelpResources:$a,Extension:qa,ActionCards:ja,SubscribeSection:za,PluginGrid:Pt}};function Ny(t,e,o,n,s,a){const i=Wa,r=Ze,p=$a,d=tt,u=qa,h=ja,g=za,y=et,_=Pt;return m(),E(W,null,[c(i,{"video-id":"XG70Ge2srz4"}),c(r),c(y,{gutter:24,class:"welcome-container welcome-content-container"},{default:f(()=>[c(d,{span:16,md:16,sm:24,xs:24},{default:f(()=>[c(p)]),_:1}),c(d,{span:8,md:8,sm:24,xs:24},{default:f(()=>[c(u),c(h)]),_:1}),c(d,{span:24},{default:f(()=>[c(g)]),_:1})]),_:1}),c(_)],64)}const xy=F(Oy,[["render",Ny],["__scopeId","data-v-c020127a"]]),He=ni(Jr);He.use(Ri);const Es=()=>[r_,qg,nh,Eh,lm,Ff,$m,y_,Ih,nf,A_,Yp,Gm,kg,Af,e_,Dm,pf,Jf,ph],Ry=t=>{t&&He.component(t.name,t.template)},ky=()=>{He.use(Ca),He.use(Ne),Es().forEach(Ry),He.component("WelcomeComponent",xy),He.component("FreeExtension",B_),He.component("ProExtension",j_),He.config.globalProperties.optPrefix=woolentorOptions.prefix,He.config.globalProperties.woolentorLocalizeData=woolentorOptions,He.config.globalProperties.woolentorCustomComponents=Es(),He.mount("#woolentor-opt-admin-app"),au("woolentor_page",Object.keys(woolentorOptions.tabs)),cs(),window.addEventListener("scroll",cs)};ky();
